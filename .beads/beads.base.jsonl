{"id":"hermes-04x","content_hash":"b3012c19a8f113b26521722d58b36ac8cf6ce1831d611083506c853d8dc771f0","title":"Add CLI flags for TMDB features to IMDB command","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:31.278625+02:00","updated_at":"2025-11-15T01:43:52.863839+02:00","closed_at":"2025-11-15T01:43:52.863839+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-04x","depends_on_id":"hermes-694","type":"blocks","created_at":"2025-11-15T01:34:31.279494+02:00","created_by":"daemon"}]}
{"id":"hermes-0ns","content_hash":"b9664f42046a59e06df6af02a223887a72666656ff7e73f5d0b219c526d45fae","title":"Add external cover URL handling and conversion","description":"Detect HTTP(S) cover URLs in frontmatter and convert to local files. Download and replace external covers. Update cmd/enhance/cmd.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.674479+02:00","updated_at":"2025-11-17T21:59:02.719998+02:00","closed_at":"2025-11-17T21:59:02.719998+02:00","source_repo":"."}
{"id":"hermes-1sl","content_hash":"4b4b38f8ec8b8e1ba439e0606b98c40f20cace8f20543fc5c6340f6cedf2a7dd","title":"Make interactive TUI the default for TMDB enrichment","description":"Change all TMDB commands to default to interactive mode when multiple results found. Rename --tmdb-interactive to --tmdb-no-interactive to disable the TUI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:27:20.004438+02:00","updated_at":"2025-11-17T07:28:36.542687+02:00","closed_at":"2025-11-17T07:28:36.542687+02:00","source_repo":"."}
{"id":"hermes-30d","content_hash":"5c9637b35a36fc1cfc05f5f03fec3de60c86c8c9829339e95d5ec1d02c0c653e","title":"Skip existing covers unless --update-covers flag provided","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.78197+02:00","updated_at":"2025-11-18T10:03:36.304758+02:00","closed_at":"2025-11-18T10:03:36.304758+02:00","source_repo":"."}
{"id":"hermes-32g","content_hash":"b42e4ae21055756748a4bb5467c95d9247701d5d477eeca2a07f4ea3da177b5e","title":"Update cache tests for SQLite","description":"Refactor cache tests to work with SQLite backend.\n\n- Update internal/cache/cache_test.go for SQL-based cache\n- Add tests for TTL expiration logic\n- Add tests for cache hit/miss with database\n- Add tests for expired cache entries\n- Ensure all tests pass","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.313731+02:00","updated_at":"2025-11-17T22:33:00.313731+02:00","source_repo":"."}
{"id":"hermes-32y","content_hash":"eea17a924965274b40c517008169ee7331b52924fa4296f0f543af427c052cb1","title":"Consolidate OMDB cache access patterns into internal/omdb/cache.go","description":"Move similar cache access patterns from cmd/imdb/cache.go:11-40 and cmd/letterboxd/cache.go:14-55 to internal/omdb/cache.go. Create GetMovieByID(imdbID string) for IMDb importer. Create GetMovieByTitle(title string, year int) for Letterboxd importer. Consolidate rate limit error handling and logging patterns.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T16:44:02.631425+02:00","updated_at":"2025-11-18T16:44:02.631425+02:00","source_repo":"."}
{"id":"hermes-3f4","content_hash":"1a56f27f77573494f1a27ab29a4b26e778837b7efc8012d080221456c5e374ab","title":"Update Taskfile to match llm-shared build-ci and goimports guidance","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:28:21.054421+02:00","updated_at":"2025-11-17T07:32:04.042628+02:00","closed_at":"2025-11-17T07:32:04.042628+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-3f4","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:21.055655+02:00","created_by":"daemon"}]}
{"id":"hermes-3h5","content_hash":"25d5475b8fadb0264f36a5c2dc734d8edc6e2649283e335135e91bf6a8edf5f4","title":"Fix staticcheck QF1003 - use tagged switch instead of if/else for mode checks","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.017586+02:00","updated_at":"2025-11-15T01:50:07.225936+02:00","closed_at":"2025-11-15T01:50:07.225936+02:00","source_repo":"."}
{"id":"hermes-3lz","content_hash":"c22c3ab0492f2175ecf25934f3ec593e692547eb40a7cf25232bc15a260b35f1","title":"Fix timezone mismatch in cache expiry calculations","description":"SQLite CURRENT_TIMESTAMP stores UTC but time.Now() comparisons use local time, causing incorrect expiry in non-UTC timezones. Use time.Now().UTC() consistently at lines 180 and 211 in internal/cache/cache.go. This affects Get() and ClearExpired() methods.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.147316+02:00","updated_at":"2025-11-17T23:28:16.478957+02:00","closed_at":"2025-11-17T23:28:16.478957+02:00","source_repo":"."}
{"id":"hermes-3o5","content_hash":"8c72aeacf5c07536907fa6a62b39e008fea470412ec275c3c02ca5f7da26c6c5","title":"Fix IMDb importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:07.814947+02:00","updated_at":"2025-11-18T08:54:32.623382+02:00","closed_at":"2025-11-18T08:54:32.623382+02:00","source_repo":"."}
{"id":"hermes-3u6","content_hash":"0b97a0516582ff5098f1ad33c6e0bfd2e25237c8eb3fe3985eeb90f5c5cb2f94","title":"Apply sizing to cover embeds in markdown format","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.264269+02:00","updated_at":"2025-11-18T10:03:36.807179+02:00","closed_at":"2025-11-18T10:03:36.807179+02:00","source_repo":"."}
{"id":"hermes-4fc","content_hash":"f0f62b025bd1f66579c8cfd07363362411cd6d8c0c77a9ee52229dc41b8c522d","title":"Refactor internal/cache for SQLite backend","description":"Replace file-based JSON cache with SQLite database implementation.\n\n- Replace GetOrFetch[T]() with database-based implementation\n- Add cache database connection management (similar to datastore pattern)\n- Keep generic/type-safe interface\n- Maintain backward compatibility during migration\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.111271+02:00","updated_at":"2025-11-17T23:13:04.115787+02:00","closed_at":"2025-11-17T23:13:04.115787+02:00","source_repo":"."}
{"id":"hermes-4ws","content_hash":"85a1d4c3109802dabe43fd98f5cce5b166b8d4fb0f81c0364cb46070c36aada2","title":"Unify OMDB rate-limit handling between IMDb and Letterboxd importers","description":"Delete cmd/imdb/omdb_limit.go and cmd/letterboxd/omdb_limit.go (19 lines each, identical code). Replace local markOmdbRateLimitReached() and omdbRequestsAllowed() with imports from internal/omdb.MarkRateLimitReached() and internal/omdb.RequestsAllowed() which already exist in internal/omdb/ratelimit.go. Straightforward find-and-replace refactor.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:51.144366+02:00","updated_at":"2025-11-18T16:44:14.916141+02:00","source_repo":"."}
{"id":"hermes-4wy","content_hash":"8fc7c3e7a60bbac723533a34d534d67cb86f6552df4d16dd37fb3c5d921d096a","title":"Add database connectivity check in NewCacheDB","description":"sql.Open at line 58 in internal/cache/cache.go only validates arguments but doesn't verify connectivity. Add db.Ping() after opening to fail fast on permission/configuration issues rather than waiting for first query. Return descriptive error if Ping fails.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.29416+02:00","updated_at":"2025-11-17T23:28:25.101279+02:00","closed_at":"2025-11-17T23:28:25.101279+02:00","source_repo":"."}
{"id":"hermes-5p7","content_hash":"acd7ac54f19dab250c8c32f205b5b85db42c3b60c17e21d6a491226de039fd6e","title":"Create caching documentation","description":"Create new documentation explaining SQLite-based cache with TTL.\n\nCreate: docs/caching.md\n\nContent:\n- Explain cache.db vs hermes.db separation\n- Document TTL behavior (default 30 days)\n- Explain how to configure cache location and TTL\n- Document cache table schemas\n- Explain cache warming strategy\n- Add troubleshooting section\n- Note the migration from JSON files","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.977718+02:00","updated_at":"2025-11-17T22:33:00.977718+02:00","source_repo":"."}
{"id":"hermes-694","content_hash":"daaa57ba32b4c55867b04fd40706fc3250192d1a8e1a5a8f5023c2b818b4d8dc","title":"Wire up IMDB importer to use TMDB enrichment","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:27.368275+02:00","updated_at":"2025-11-15T01:43:52.73491+02:00","closed_at":"2025-11-15T01:43:52.73491+02:00","source_repo":"."}
{"id":"hermes-6a8","content_hash":"3922c1161d92181a30bf8359272a48edb3dd06ac1d52fb51ca2c228788dcd68f","title":"Add TTL support to cache system","description":"Implement cache expiration logic with configurable TTL.\n\n- Add TTL checking logic (check cached_at timestamp)\n- Add ClearExpiredCache() function to clean old entries\n- Default TTL: 30 days\n- Update/remove ClearCache() and CacheExists() functions as needed\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.392414+02:00","updated_at":"2025-11-17T23:16:25.841775+02:00","closed_at":"2025-11-17T23:16:25.841775+02:00","source_repo":"."}
{"id":"hermes-6ag","content_hash":"bd030c57abd319795fff30c7d8d48255565c9dc183fcbfea62acf8681732293d","title":"Refactor shared markdown writing/enrichment helpers for movie importers","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:08.804775+02:00","updated_at":"2025-11-18T16:35:08.804775+02:00","source_repo":"."}
{"id":"hermes-6fr","content_hash":"d79749b4939d247222ee687ea303e9d507644288a8f87c3f3b0b32a3f4af1470","title":"Download local covers with attachments and update rules","description":"- Download all covers to attachments/ subdir under markdown output (e.g. markdown/goodreads/attachments/)\n- Skip re-downloading existing covers unless --update-covers is set\n- Update links to point to local attachments and use frontmatter key 'cover' with attachment path (e.g. attachments/Arcane - cover.jpg)\n- Render markdown images with max size using Obsidian syntax ![[Arcane - cover.jpg|250]]","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:40:03.767784+02:00","updated_at":"2025-11-18T10:03:37.213998+02:00","closed_at":"2025-11-18T10:03:37.213998+02:00","source_repo":"."}
{"id":"hermes-6xf","content_hash":"fa44f557f47d26cddce1b5911cdff36f530ba1c9587524379222b6c9e5aac9c1","title":"Add cache configuration to CLI and config file","description":"Add cache settings to command-line flags and config.yaml.\n\nCLI flags (cmd/root.go):\n- --cache-dbfile (default: cache.db)\n- --cache-ttl (default: 30 days)\n\nConfig file (config.yaml):\n- cache.dbfile\n- cache.ttl\n\nFollow existing pattern for datasette config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.956911+02:00","updated_at":"2025-11-17T22:59:46.017482+02:00","closed_at":"2025-11-17T22:59:46.017482+02:00","source_repo":"."}
{"id":"hermes-6yx","content_hash":"c2270230175996d542b15554b6894420ede52feab7f156cda2ec61a7dd3b270b","title":"Implement FindByIMDBID using TMDB find endpoint","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.640364+02:00","updated_at":"2025-11-18T10:40:42.234553+02:00","closed_at":"2025-11-18T10:40:42.234553+02:00","source_repo":"."}
{"id":"hermes-7do","content_hash":"12210545e37ea0edc012f1aba971d8b4496fe36e2740eddf833e820e9838dab2","title":"Make cover download and content generation default in enhance command","description":"Remove --tmdb-download-cover and --tmdb-generate-content flags and make both features the default behavior when running enhance command","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:17:04.841784+02:00","updated_at":"2025-11-17T07:19:00.152534+02:00","closed_at":"2025-11-17T07:19:00.152534+02:00","source_repo":"."}
{"id":"hermes-7ie","content_hash":"49e5a39ef828cd9ee8ce866fd9b0a3eea650af325397194d83feca00d3a5fdff","title":"Migrate Letterboxd cache to SQLite","description":"Update Letterboxd importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/letterboxd/cache.go\n- Use omdb_cache table (same as IMDb)\n- Remove cross-cache file lookup logic (no longer needed with shared DB)\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual Letterboxd import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.15936+02:00","updated_at":"2025-11-17T23:50:04.595667+02:00","closed_at":"2025-11-17T23:50:04.595667+02:00","source_repo":"."}
{"id":"hermes-8v5","content_hash":"b0a60a2d1c58978455c888f352fa414c54cf9cd69555f7032a0432bb93987028","title":"Rename cover_url frontmatter to cover for Obsidian compatibility","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.095812+02:00","updated_at":"2025-11-18T10:03:36.610421+02:00","closed_at":"2025-11-18T10:03:36.610421+02:00","source_repo":"."}
{"id":"hermes-8vy","content_hash":"fa3392655b435960d7310d486edcc6ba3ec35816173976570af5f727cec74bfa","title":"Add HTML color code detection and replacement","description":"Detect #RRGGBB color codes in cover field and replace with actual cover downloads. Update cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.89189+02:00","updated_at":"2025-11-17T21:52:45.453155+02:00","closed_at":"2025-11-17T21:52:45.453155+02:00","source_repo":"."}
{"id":"hermes-aby","content_hash":"6b697d99d4d03904b25e33a9524e320e8f77f00236ed627b89e2e9a869b94a63","title":"Update enrichment to use cached TMDB calls","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.771464+02:00","updated_at":"2025-11-18T10:41:44.552353+02:00","closed_at":"2025-11-18T10:41:44.552353+02:00","source_repo":"."}
{"id":"hermes-bhh","content_hash":"4a8e5117d5734465f4d6d44702afa5e4c6c6c31f4f5fd637796424e257c7a157","title":"Simplify datasette configuration","description":"Remove remote-specific config options from CLI and config file.\n\nRemove from cmd/root.go:\n- --datasette-mode flag (no longer needed)\n- --datasette-url flag\n- --datasette-token flag\n\nKeep only:\n- --datasette (boolean to enable/disable)\n- --datasette-dbfile (path, default: hermes.db)\n\nUpdate config.yaml structure to match.\nSet datasette enabled=true by default.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.87343+02:00","updated_at":"2025-11-17T23:59:13.206304+02:00","closed_at":"2025-11-17T23:59:13.206304+02:00","source_repo":"."}
{"id":"hermes-bn6","content_hash":"84f4b7bf5ea6e3452c1d7e2f6f09550a37a43a4608cc04f018461f8b54d0723b","title":"Fix SQL injection risk in cache table name interpolation","description":"Cache methods (Get, Set, ClearExpired, ClearAll, CacheExists) directly interpolate tableName into SQL queries via fmt.Sprintf. Add validation against AllCacheSchemas whitelist before constructing queries to prevent potential SQL injection if untrusted input ever reaches these methods. Files: internal/cache/cache.go lines 163, 193, 213, 235, 250","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:26.998268+02:00","updated_at":"2025-11-17T23:21:31.818747+02:00","closed_at":"2025-11-17T23:21:31.818747+02:00","source_repo":"."}
{"id":"hermes-c5k","content_hash":"ae2e2b545c52e51798f02d11bc69ed948a06b61ebcfd0cd7a323e0ef4e22252b","title":"Add tests for TMDB caching","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T10:39:09.0644+02:00","updated_at":"2025-11-18T10:43:37.570386+02:00","closed_at":"2025-11-18T10:43:37.570386+02:00","source_repo":"."}
{"id":"hermes-c7i","content_hash":"1080db97351cc705c3d095a6601a5c9c19cd581df6d183c490a9ffea042415f9","title":"Migrate IMDb cache to SQLite","description":"Update IMDb importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/imdb/cache.go\n- Use omdb_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual IMDb import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.787434+02:00","updated_at":"2025-11-17T23:44:45.826657+02:00","closed_at":"2025-11-17T23:44:45.826657+02:00","source_repo":"."}
{"id":"hermes-cd4","content_hash":"bc2d911d5466f04bd6bdc416e55735f6d53051e18a0c60807d1cc1dcee3a3f88","title":"Implement smart needs detection (NeedsCover, NeedsMetadata, NeedsTMDB)","description":"Add intelligent detection to only update what's missing. Skip notes that already have all data. Implement in cmd/enhance/parser.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.099407+02:00","updated_at":"2025-11-17T22:01:13.285308+02:00","closed_at":"2025-11-17T22:01:13.285308+02:00","source_repo":"."}
{"id":"hermes-cxe","content_hash":"9c20d5d43cbe2ce2a8d263e66fd3caf8ac076a114a401d0a0ca0011de10bc1aa","title":"Update content injection to use marker-based replacement","description":"Use markers for content replacement instead of simple append across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go to use marker-based injection","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.218902+02:00","updated_at":"2025-11-17T00:30:33.482882+02:00","closed_at":"2025-11-17T00:30:33.482882+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-cxe","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.739097+02:00","created_by":"daemon"}]}
{"id":"hermes-dnc","content_hash":"39e2f0daad32d7ccec102e6f14ad68de92879dfb95e30262132254f7c02c9b7e","title":"Fix staticcheck ST1005 - uncapitalize error strings in cmd/root.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.156764+02:00","updated_at":"2025-11-15T01:50:07.193718+02:00","closed_at":"2025-11-15T01:50:07.193718+02:00","source_repo":"."}
{"id":"hermes-e50","content_hash":"251a48a8b58388b463dc2c2e08314e21a732002e3dea6a2bd6d405f708c29e7c","title":"Mark rated movies as seen in front matter","description":"Add seen:true to movie front matter whenever a rating exists so rated movies are marked as seen in exports.\nEnsure importer/backfill logic keys off rating presence without affecting unrated entries.\nUpdate docs/tests to capture the new field.","acceptance_criteria":"Movies with ratings export front matter containing seen: true.\nMovies without ratings keep seen omitted/false to match existing behaviour.\nAutomated tests cover rated vs unrated movie cases.\nDocs mention the new seen flag in movie front matter.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-18T10:45:41.015823+02:00","updated_at":"2025-11-18T10:45:41.015823+02:00","source_repo":"."}
{"id":"hermes-e9q","content_hash":"81813ac8bf35416224ad268780bd1fce570deac454ae767e6db9529d3b811953","title":"Fix Goodreads importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:55:56.795332+02:00","updated_at":"2025-11-18T08:54:23.163061+02:00","closed_at":"2025-11-18T08:54:23.163061+02:00","source_repo":"."}
{"id":"hermes-ezx","content_hash":"aa865b43141eaabe4a0ce0680ebdbbb610d2faa4540d6a37ef20a27721bac9c5","title":"Fallback to TMDB when OMDB rate limited","description":"Letterboxd enrichment stops after OMDB rate limit hits because errors from cache.GetOrFetch wrap the RateLimitError. The wrapped error bypasses the rate-limit guard and bubbles up, so TMDB enrichment is never attempted and the run logs 'failed to fetch data: OMDB API request limit reached' before skipping the file.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-11-18T10:54:22.451722+02:00","updated_at":"2025-11-18T11:10:27.959063+02:00","source_repo":"."}
{"id":"hermes-f3q","content_hash":"c4fef5d1c2afe44585908bc118392697ce7ce1b59fd1c03ecd2e205da58b32ee","title":"Deduplicate enhance/imdb/letterboxd importer helpers","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-18T16:27:42.83232+02:00","updated_at":"2025-11-18T16:27:50.962537+02:00","source_repo":"."}
{"id":"hermes-fsr","content_hash":"25cebf9f92524ee72072896080f4b7edc3e895dfa78ce0b24c51b218b676516f","title":"Improve data combination logic between OMDB and TMDB","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-18T10:39:08.92293+02:00","updated_at":"2025-11-18T10:42:47.663694+02:00","closed_at":"2025-11-18T10:42:47.663694+02:00","source_repo":"."}
{"id":"hermes-gvk","content_hash":"797769e6044920bf3ebc19ba0f39a8943d78a42985e745831fb0b7278f1ccce5","title":"Remove remote datasette client code","description":"Delete remote Datasette functionality - we only need local SQLite.\n\nFiles to delete:\n- internal/datastore/client.go\n- internal/datastore/client_test.go\n\nThis simplifies the codebase to local-only mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.684428+02:00","updated_at":"2025-11-17T23:59:04.345213+02:00","closed_at":"2025-11-17T23:59:04.345213+02:00","source_repo":"."}
{"id":"hermes-gxf","content_hash":"3a777c5cce7b04448d02f259add33cce464074c6e289c6955873c536f2533b67","title":"Align CI workflow with llm-shared Go template","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T00:28:18.849046+02:00","updated_at":"2025-11-17T07:32:03.868477+02:00","closed_at":"2025-11-17T07:32:03.868477+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-gxf","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:18.851874+02:00","created_by":"daemon"}]}
{"id":"hermes-hjv","content_hash":"11ec81f60a2749e6d0c401a13a5294c97c220e4b6df6c458e425c6752b40388b","title":"Fix IMDb markdown tests - update testdata for new field names","description":"Update cmd/imdb/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md, tv_series.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.381243+02:00","updated_at":"2025-11-17T00:38:53.157037+02:00","closed_at":"2025-11-17T00:38:53.157037+02:00","source_repo":"."}
{"id":"hermes-hnb","content_hash":"7210a4c3d3e5ac727deb6c5fc7e4fddf7ed8369972b3218ce1534143c94e9dc0","title":"Don’t cache TMDB misses for searches/IMDb lookups","description":"TMDB caching stores empty search results and not-found /find responses for the full TTL. After a single miss, later runs keep returning the cached miss even if the title or IMDb ID is added to TMDB, blocking recovery until TTL expiry or manual cache clear. Avoid caching negative results or store them with a very short TTL so new items can be found.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:51.918962+02:00","updated_at":"2025-11-18T16:24:51.918962+02:00","source_repo":"."}
{"id":"hermes-irr","content_hash":"1c6ed2f23eb5df66d90a45fc9c75b640ec187e0237470a32929d1c4e5ef7e642","title":"Implement cover image embedding in TMDB content","description":"Use content.BuildCoverImageEmbed() to prepend ![[filename|250]] to TMDB content sections. Update cmd/enhance/cmd.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.995153+02:00","updated_at":"2025-11-17T00:30:33.482531+02:00","closed_at":"2025-11-17T00:30:33.482531+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-irr","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.547494+02:00","created_by":"daemon"}]}
{"id":"hermes-jmo","content_hash":"2e24a1db2a471fd576943eb6c548ebd3ed8d745e961d0cf0ab40e77d89322271","title":"Change attachments directory to root-level","description":"Change from per-directory _attachments/ to root-level attachments/ directory. Update paths in cmd/enhance/cmd.go, cmd/imdb/cmd.go, cmd/letterboxd/cmd.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.509764+02:00","updated_at":"2025-11-17T00:30:33.48211+02:00","closed_at":"2025-11-17T00:30:33.48211+02:00","source_repo":"."}
{"id":"hermes-jtb","content_hash":"e69b607bb2d379b762796e0cf749d941eb9d8d9f1c4c17e60cd01cdce27f2bb4","title":"Clean up old JSON cache files","description":"Remove file-based cache system after SQLite migration is complete.\n\n- Delete entire cache/ directory (~200MB, ~5,255 files)\n- Update .gitignore to ignore cache.db\n- Update .gitignore to remove cache/ directory pattern if present\n\nOnly do this after all importers are successfully migrated to SQLite cache.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.522378+02:00","updated_at":"2025-11-17T22:33:00.522378+02:00","source_repo":"."}
{"id":"hermes-k7q","content_hash":"4a590de8bc0d6fc700280ea34489ddcabc76b91f831469af88ad3a9f652c7dbf","title":"Update tests for new field names and marker functionality","description":"Update tests across all TMDB commands: cmd/enhance/*_test.go, cmd/imdb/*_test.go, cmd/letterboxd/*_test.go. Add marker tests, cover embed tests, update testdata for new frontmatter fields","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.84067+02:00","updated_at":"2025-11-17T00:40:45.923008+02:00","closed_at":"2025-11-17T00:40:45.923008+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-k7q","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.897609+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.932424+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-irr","type":"blocks","created_at":"2025-11-17T00:11:21.977925+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-cxe","type":"blocks","created_at":"2025-11-17T00:11:22.009388+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-jmo","type":"blocks","created_at":"2025-11-17T00:11:22.051559+02:00","created_by":"daemon"}]}
{"id":"hermes-kgo","content_hash":"3d6681f1601787e5ac8cf03449812ac5b70f6dd08f54e21347985386722dd3dc","title":"Migrate Steam cache to SQLite","description":"Update Steam importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/steam/cache.go\n- Use steam_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedGame() function signature\n- Test with actual Steam import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.460452+02:00","updated_at":"2025-11-17T23:52:04.202826+02:00","closed_at":"2025-11-17T23:52:04.202826+02:00","source_repo":"."}
{"id":"hermes-lbe","content_hash":"d8bc429c735ac2c1d3f3cfe4d5628ac2cc5512abb46725bc580773fb19193c24","title":"Define SQLite cache table schemas","description":"Create schema definitions for each cache type with TTL support.\n\nTables to create:\n- omdb_cache (imdb_id, title, rating, runtime, genres, directors, plot, cached_at, etc.)\n- openlibrary_cache (isbn, title, authors, publishers, description, cached_at, etc.)\n- steam_cache (app_id, name, developers, publishers, release_date, cached_at, etc.)\n\nAll schemas must include:\n- Primary key column (imdb_id/isbn/app_id)\n- cached_at DATETIME column for TTL\n- All relevant data columns matching current cached JSON structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.713761+02:00","updated_at":"2025-11-17T23:02:31.333465+02:00","closed_at":"2025-11-17T23:02:31.333465+02:00","source_repo":"."}
{"id":"hermes-lis","content_hash":"5eecdc56c6cae2db8637889b48d724cd12e535a0ba4354e2b3912e2b69505cb8","title":"Create cached TMDB wrapper functions in internal/tmdb/cache.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.513445+02:00","updated_at":"2025-11-18T10:40:25.362032+02:00","closed_at":"2025-11-18T10:40:25.362032+02:00","source_repo":"."}
{"id":"hermes-lyy","content_hash":"33b7783dd03733315fb5bf2457862c5167455ca343297935809a95f643cdee3e","title":"Audit hermes against llm-shared guidelines","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:20:44.288022+02:00","updated_at":"2025-11-17T07:32:04.192954+02:00","closed_at":"2025-11-17T07:32:04.192954+02:00","source_repo":"."}
{"id":"hermes-n4b","content_hash":"7480686401451c2d79ad3479d666daaf2ac312ba8378b0cb2d733ccc52daa77a","title":"Create new 'enhance' command for enriching existing notes","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T01:34:41.181584+02:00","updated_at":"2025-11-15T02:03:08.110454+02:00","closed_at":"2025-11-15T02:03:08.110454+02:00","source_repo":"."}
{"id":"hermes-nb0","content_hash":"9c55c26542d11ad435ca49a76f41a2e28e97f953cfde0324c1fe19a2bd6b57e8","title":"Update datasette documentation","description":"Rewrite datasette docs to reflect local-only, simplified mode.\n\nFile: docs/datasette_integration.md\n\nChanges:\n- Remove all remote mode sections\n- Remove mode configuration examples\n- Simplify to focus on local SQLite usage only\n- Update CLI flag examples\n- Emphasize that datasette is enabled by default\n- Add note about separate cache.db vs hermes.db","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.734359+02:00","updated_at":"2025-11-17T23:59:32.288674+02:00","closed_at":"2025-11-17T23:59:32.288674+02:00","source_repo":"."}
{"id":"hermes-nht","content_hash":"d9cad68e8e7d99a3f1e4ea1ef955dca037d62da9669983a12cab523b39638288","title":"Enhance Letterboxd importer with TMDB enrichment","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:34.725674+02:00","updated_at":"2025-11-15T01:48:24.719855+02:00","closed_at":"2025-11-15T01:48:24.719855+02:00","source_repo":"."}
{"id":"hermes-osu","content_hash":"60ffd400bf968cd2e315322a1df7e4fd360890cd2b687fb0ca933428093bfa45","title":"Fix Letterboxd markdown tests - update testdata for new field names","description":"Update cmd/letterboxd/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.548316+02:00","updated_at":"2025-11-17T00:38:53.340225+02:00","closed_at":"2025-11-17T00:38:53.340225+02:00","source_repo":"."}
{"id":"hermes-ph7","content_hash":"ca6ce5cc44b7a8599e074e2eccd139eb8ca6dbf55eb6605e10d660d13df54b84","title":"Implement TMDB content markers","description":"Add TMDB_DATA_START/END constants and functions across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go. Add HasTMDBContentMarkers(), GetTMDBContent(), ReplaceTMDBContent()","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.798838+02:00","updated_at":"2025-11-17T00:30:33.481662+02:00","closed_at":"2025-11-17T00:30:33.481662+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ph7","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.368879+02:00","created_by":"daemon"}]}
{"id":"hermes-q2p","content_hash":"447d31256b6888e99c6d36aee5349cff82a4cb60ab564b00fb83358af348c69f","title":"Fix Steam importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:28.646026+02:00","updated_at":"2025-11-18T08:54:52.799839+02:00","closed_at":"2025-11-18T08:54:52.799839+02:00","source_repo":"."}
{"id":"hermes-qk4","content_hash":"c6aa7205976b0eb4ca566f6aeb20eb80fae9c3a53404e1c89e7414bb7eea2aa8","title":"Implement cover-only update mode","description":"Add ability to update just cover embed without regenerating TMDB content. Add ensureCoverEmbed() function in cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:11:00.077454+02:00","updated_at":"2025-11-17T21:58:35.5193+02:00","closed_at":"2025-11-17T21:58:35.5193+02:00","source_repo":"."}
{"id":"hermes-s6w","content_hash":"ecdb211c117183685a09afcaedd77fa5b9772f1e1c72cb40da6d546aaa71d2a4","title":"Use local image paths instead of URLs in frontmatter","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.938145+02:00","updated_at":"2025-11-18T10:03:36.447265+02:00","closed_at":"2025-11-18T10:03:36.447265+02:00","source_repo":"."}
{"id":"hermes-sdc","content_hash":"54527f3f491f24bcab3d55ffa6110801cdfac09f3af9e1249e820144a2759eca","title":"Fix Letterboxd importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:18.125943+02:00","updated_at":"2025-11-18T08:54:42.879119+02:00","closed_at":"2025-11-18T08:54:42.879119+02:00","source_repo":"."}
{"id":"hermes-tj3","content_hash":"fc024fc575661228d93ff01f79ef5bba3d6e08602b5da9029a7e93a9d031605b","title":"Fix ineffassign linter issue in tmdb.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.875135+02:00","updated_at":"2025-11-15T01:50:07.160206+02:00","closed_at":"2025-11-15T01:50:07.160206+02:00","source_repo":"."}
{"id":"hermes-trs","content_hash":"f13644e5b169bab42c980c099361928005a779a16fcb0e6680380a73830b1fc3","title":"Fix errcheck linter issues - unchecked Close() and defer errors","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.698467+02:00","updated_at":"2025-11-15T01:51:36.134029+02:00","closed_at":"2025-11-15T01:51:36.134029+02:00","source_repo":"."}
{"id":"hermes-v7f","content_hash":"393f1161d4a93f154bd2fd933cc14ac7737cf69cfa07dba81d2b55cd5d912fc6","title":"Remove datasette mode switching from importers","description":"Simplify all importer parser.go files to remove local/remote mode logic.\n\nFiles to update:\n- cmd/goodreads/parser.go (lines 193-278)\n- cmd/imdb/parser.go (lines 76-163)\n- cmd/letterboxd/parser.go (lines 77-147)\n- cmd/steam/parser.go (lines 79-154)\n\nRemove mode switch statements, keep only SQLite code path.\nAll importers should always use local SQLite (hermes.db).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.099321+02:00","updated_at":"2025-11-17T23:59:22.906493+02:00","closed_at":"2025-11-17T23:59:22.906493+02:00","source_repo":"."}
{"id":"hermes-vhi","content_hash":"5f9270f7091d24a4f2dba8053181c9ea2f1897d489dad938ca05fb757302e8e8","title":"Add TMDB cache schema to internal/cache/schema.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.364146+02:00","updated_at":"2025-11-18T10:39:38.913654+02:00","closed_at":"2025-11-18T10:39:38.913654+02:00","source_repo":"."}
{"id":"hermes-vk8","content_hash":"0cb8f19fb7e9ab53ec1bccd8e5976f9a5b403eed9c839bb266fde42f6f5caae4","title":"Update documentation (README, CLAUDE.md) for TMDB features","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:34:44.968762+02:00","updated_at":"2025-11-15T01:51:36.166643+02:00","closed_at":"2025-11-15T01:51:36.166643+02:00","source_repo":"."}
{"id":"hermes-vsc","content_hash":"535d48c72a6a1ffb4dbca76ef6df590dcb10978c08f227e5744bf7c335fe451b","title":"Extract shared frontmatter ID loader for IMDb/Letterboxd/enhance","description":"Consolidate duplicate frontmatter parsing: loadExistingTMDBID() from cmd/imdb/parser.go:397-450 and cmd/letterboxd/parser.go:384-440, plus parseNote() from cmd/enhance/parser.go:29-98. Expand internal/frontmatter package to include generic ParseMarkdown() and LoadNote() functions. Also move intFromAny() from cmd/imdb/parser.go:452-466 and cmd/letterboxd/parser.go:442-456 - similar to existing toInt() in internal/frontmatter/ids.go:59-74. Export a unified type conversion utility.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:59.417473+02:00","updated_at":"2025-11-18T16:44:26.767313+02:00","source_repo":"."}
{"id":"hermes-vyo","content_hash":"afaca90f405136ae7f67d79bcd9f3248480da3473db4236222516695807ebbf4","title":"Consolidate CSV-to-database/JSON pipelines for IMDb and Letterboxd","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:17.964037+02:00","updated_at":"2025-11-18T16:35:17.964037+02:00","source_repo":"."}
{"id":"hermes-w7k","content_hash":"fefb96b2520bdacd98578e38e5c534e8ec22163756c8248abc32549eef10e879","title":"Force TMDB re-enrichment should bypass cache","description":"TMDBEnrichmentOptions.Force only skips the search step but still uses CachedGetMetadataByID/CachedGetFull* so a forced re-enrich returns stale cached TMDB metadata/content instead of re-fetching. When Force is set, metadata/content fetches should bypass or invalidate the cache so users can refresh old notes.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:41.436226+02:00","updated_at":"2025-11-18T16:24:41.436226+02:00","source_repo":"."}
{"id":"hermes-wf5","content_hash":"872fcb3c13724a9282c00a1bf7212019abbfb381122eee2250f0dc7e5d2b1544","title":"Use stored TMDB ID for Letterboxd imports","description":"","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-11-18T12:44:16.513201+02:00","updated_at":"2025-11-18T12:44:25.976426+02:00","source_repo":"."}
{"id":"hermes-xfd","content_hash":"0b0bf9ac758b4518e83f4a39263f960d74e22f88a707838bfa2fdbeac4c57063","title":"Implement stored TMDB ID direct lookup optimization","description":"When TMDB ID exists in frontmatter, use direct API lookup instead of searching. Add --force flag to override. Update cmd/enhance/cmd.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.400369+02:00","updated_at":"2025-11-17T07:36:39.817508+02:00","closed_at":"2025-11-17T07:36:39.817508+02:00","source_repo":"."}
{"id":"hermes-y8g","content_hash":"801d24705789113100f21eb55e41020fbde1bf2588c9353b1ab754b80d2732c7","title":"Download covers to local attachments directory","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.620785+02:00","updated_at":"2025-11-18T10:03:36.145466+02:00","closed_at":"2025-11-18T10:03:36.145466+02:00","source_repo":"."}
{"id":"hermes-yco","content_hash":"4d787bd42ef6e6f6e5c920bcab1f73d61523fa7e9689c6966b97df27e52ab723","title":"Update frontmatter field names to match obsidian-tmdb-cover","description":"Breaking change: tmdb_cover→cover, runtime_mins→runtime, genres→tags. Update across all commands: cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.577705+02:00","updated_at":"2025-11-17T00:30:33.480391+02:00","closed_at":"2025-11-17T00:30:33.480391+02:00","source_repo":"."}
{"id":"hermes-zjj","content_hash":"7181e8cc93c90ee04eb163d776e1a4cebb1e62e9dc0b4218719212c129e32235","title":"Migrate Goodreads cache to SQLite","description":"Update Goodreads importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/goodreads/cache.go\n- Use openlibrary_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedBook() function signature\n- Test with actual Goodreads import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.492988+02:00","updated_at":"2025-11-17T23:44:03.213611+02:00","closed_at":"2025-11-17T23:44:03.213611+02:00","source_repo":"."}
