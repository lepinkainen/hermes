{"id":"hermes-02s","content_hash":"392d51497b1b204e361b90c6908cec0da3000f4f32834ac31b5f6080037e8107","title":"Goodreads automation improvements","description":"Group workflow automation and scripting for Goodreads data exports and browser helpers.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-11-20T21:20:11.873701+02:00","updated_at":"2025-11-20T21:20:11.873701+02:00","source_repo":"."}
{"id":"hermes-04x","content_hash":"b3012c19a8f113b26521722d58b36ac8cf6ce1831d611083506c853d8dc771f0","title":"Add CLI flags for TMDB features to IMDB command","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:31.278625+02:00","updated_at":"2025-11-15T01:43:52.863839+02:00","closed_at":"2025-11-15T01:43:52.863839+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-04x","depends_on_id":"hermes-694","type":"blocks","created_at":"2025-11-15T01:34:31.279494+02:00","created_by":"daemon"}]}
{"id":"hermes-07c","content_hash":"a22530869cf5fdac652cbaac0836be5ad9e34a70bf53bf1e3681257176b82730","title":"Split internal/content/builder.go into themed builders","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:28.509142+02:00","updated_at":"2025-11-18T23:59:28.509142+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-07c","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:32.464548+02:00","created_by":"daemon"}]}
{"id":"hermes-0ns","content_hash":"b9664f42046a59e06df6af02a223887a72666656ff7e73f5d0b219c526d45fae","title":"Add external cover URL handling and conversion","description":"Detect HTTP(S) cover URLs in frontmatter and convert to local files. Download and replace external covers. Update cmd/enhance/cmd.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.674479+02:00","updated_at":"2025-11-17T21:59:02.719998+02:00","closed_at":"2025-11-17T21:59:02.719998+02:00","source_repo":"."}
{"id":"hermes-0q6","content_hash":"778c61129293bab285c2b657cf2b237473a596a199ca0c5d08a27ceaade5f843","title":"Create WriteMarkdownFile wrapper with logging","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T22:57:53.401262+02:00","updated_at":"2025-11-18T23:31:18.505449+02:00","closed_at":"2025-11-18T23:31:18.505449+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-0q6","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:26.080353+02:00","created_by":"daemon"}]}
{"id":"hermes-0ss","content_hash":"6dea08cab4659af9064c7fb37ac839632bdeb7ced1dc143147e1763be3847cac","title":"Adopt testutil in cache layer tests","description":"Refactor internal/cache/cache_test.go to run inside internal/testutil's sandbox rather than bespoke temp directories.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:58.620518+02:00","updated_at":"2025-11-19T20:44:58.620518+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-0ss","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:58.621342+02:00","created_by":"daemon"},{"issue_id":"hermes-0ss","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.28831+02:00","created_by":"daemon"}]}
{"id":"hermes-1bc","content_hash":"7071627763db0482bacd08e61336668fc4902f3257eb920ce7d8a8979b938ed8","title":"Create AddCoverToMarkdown helper function","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:53.203291+02:00","updated_at":"2025-11-18T23:30:48.194088+02:00","closed_at":"2025-11-18T23:30:48.194088+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-1bc","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.973096+02:00","created_by":"daemon"}]}
{"id":"hermes-1gd","content_hash":"91d040e7e127fe1130b5bd9fe5aa57ca1d8a78f7864c8822f973983406045c09","title":"Add coverage for Letterboxd importer","description":"cmd/letterboxd coverage is ~24%. Uncovered functions: getCachedMovie, ParseLetterboxdWithParams, OMDB fetchMovieData/parse helpers, JSON writer, rate-limit helpers, and markdown edge cases. Add tests using fixtures/stub OMDB to avoid network and to exercise TMDB options and cache paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:27.864326+02:00","updated_at":"2025-11-19T09:15:29.020613+02:00","closed_at":"2025-11-19T09:15:29.020613+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-1gd","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:27.865492+02:00","created_by":"shrike"},{"issue_id":"hermes-1gd","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.529742+02:00","created_by":"daemon"}]}
{"id":"hermes-1k0","content_hash":"f7b8cedc0aba683338a6517ff994e72e5fa103419dd1f0814fc8a66f8580818d","title":"Improve code coverage","description":"Coverage is 26.5% (go tool cover -func coverage/coverage.out after go test -race). Several packages sit at 0-25% coverage: root CLI (main/cmd), config initialization, content builder helpers, enrichment orchestrator, custom error helpers, importer CLIs (enhance/goodreads/imdb/letterboxd/steam), TMDB client, tui/select, and llm-shared utilities. Fresh go test runs currently fail offline (goodreads cover download expectations and tmdb httptest listener on ::1), so coverage work likely needs to stabilize those tests first.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:52:28.226194+02:00","updated_at":"2025-11-19T01:28:17.986058+02:00","closed_at":"2025-11-19T01:28:17.986058+02:00","source_repo":"."}
{"id":"hermes-1sl","content_hash":"4b4b38f8ec8b8e1ba439e0606b98c40f20cace8f20543fc5c6340f6cedf2a7dd","title":"Make interactive TUI the default for TMDB enrichment","description":"Change all TMDB commands to default to interactive mode when multiple results found. Rename --tmdb-interactive to --tmdb-no-interactive to disable the TUI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:27:20.004438+02:00","updated_at":"2025-11-17T07:28:36.542687+02:00","closed_at":"2025-11-17T07:28:36.542687+02:00","source_repo":"."}
{"id":"hermes-1uk","content_hash":"8cb3d2e4b1c974c46bd31f57499b22df7bd3d24435361fec51734e5e0e2a2cab","title":"Adopt testutil in letterboxd parser tests","description":"Move cmd/letterboxd/parser_test.go to internal/testutil for CSV/file fixture handling.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:21.996458+02:00","updated_at":"2025-11-19T20:45:21.996458+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-1uk","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:21.998329+02:00","created_by":"daemon"},{"issue_id":"hermes-1uk","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.366073+02:00","created_by":"daemon"}]}
{"id":"hermes-21j","content_hash":"9ef949ea1c86938e5eb35be29b65128f037e8e7c1bcb7ed1ee42b77022d1dc0d","title":"Split large files refactoring","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:59:17.504761+02:00","updated_at":"2025-11-18T23:59:17.504761+02:00","source_repo":"."}
{"id":"hermes-30d","content_hash":"5c9637b35a36fc1cfc05f5f03fec3de60c86c8c9829339e95d5ec1d02c0c653e","title":"Skip existing covers unless --update-covers flag provided","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.78197+02:00","updated_at":"2025-11-18T10:03:36.304758+02:00","closed_at":"2025-11-18T10:03:36.304758+02:00","source_repo":"."}
{"id":"hermes-32g","content_hash":"5befc046bd4e2277cd10bd948c1d6809a1b5d5e5ab3628567762ee45fff1194e","title":"Update cache tests for SQLite","description":"Refactor cache tests to work with SQLite backend.\n\n- Update internal/cache/cache_test.go for SQL-based cache\n- Add tests for TTL expiration logic\n- Add tests for cache hit/miss with database\n- Add tests for expired cache entries\n- Ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.313731+02:00","updated_at":"2025-11-18T17:15:07.682341+02:00","closed_at":"2025-11-18T17:15:07.682341+02:00","source_repo":"."}
{"id":"hermes-32y","content_hash":"d56fe71d2befcc5011e3f4eff594dc29e3896ab0e230d6ed81e737578803c433","title":"Consolidate OMDB cache access patterns into internal/omdb/cache.go","description":"Move similar cache access patterns from cmd/imdb/cache.go:11-40 and cmd/letterboxd/cache.go:14-55 to internal/omdb/cache.go. Create GetMovieByID(imdbID string) for IMDb importer. Create GetMovieByTitle(title string, year int) for Letterboxd importer. Consolidate rate limit error handling and logging patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:44:02.631425+02:00","updated_at":"2025-11-18T21:37:21.810955+02:00","closed_at":"2025-11-18T21:37:21.810955+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-32y","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:55.006044+02:00","created_by":"daemon"}]}
{"id":"hermes-33m","content_hash":"691402877866d6bc943285b387cf9b539fad247bfa381dae41d7a5071794b8f0","title":"Add unit test for --overwrite-tmdb behavior","description":"Add a unit test to cmd/enhance that verifies --overwrite-tmdb only updates TMDB-related data while preserving other fields.\n\n     Test should verify:\n     1. TMDB frontmatter fields ARE updated: tmdb_id, tmdb_type, runtime, total_episodes, cover, genre tags\n     2. Non-TMDB frontmatter fields are PRESERVED: created, modified, service, status, episodes (for tracking), finished, custom fields\n     3. Content between TMDB markers (\u003c!-- TMDB_DATA_START/END --\u003e) IS replaced when overwrite=true\n     4. Content OUTSIDE TMDB markers (personal notes, links) is preserved\n     5. Content is APPENDED (not replaced) when overwrite=false and markers don't exist\n\n     Test location: cmd/enhance/parser_test.go or cmd/enhance/cmd_test.go\n     Reference: BuildMarkdown() in parser.go, AddTMDBData() in parser.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-20T00:18:13.6929+02:00","updated_at":"2025-11-20T00:23:39.710813+02:00","closed_at":"2025-11-20T00:23:39.710813+02:00","source_repo":".","labels":["enhance","testing"]}
{"id":"hermes-3dk","content_hash":"21d129e12ef6960605553746757a2d2fe2f828793a1b058edb2180e5db4b441a","title":"Refactoring","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T18:12:24.961741+02:00","updated_at":"2025-11-18T21:55:09.849853+02:00","closed_at":"2025-11-18T21:55:09.849853+02:00","source_repo":"."}
{"id":"hermes-3f4","content_hash":"1a56f27f77573494f1a27ab29a4b26e778837b7efc8012d080221456c5e374ab","title":"Update Taskfile to match llm-shared build-ci and goimports guidance","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:28:21.054421+02:00","updated_at":"2025-11-17T07:32:04.042628+02:00","closed_at":"2025-11-17T07:32:04.042628+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-3f4","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:21.055655+02:00","created_by":"daemon"}]}
{"id":"hermes-3h5","content_hash":"25d5475b8fadb0264f36a5c2dc734d8edc6e2649283e335135e91bf6a8edf5f4","title":"Fix staticcheck QF1003 - use tagged switch instead of if/else for mode checks","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.017586+02:00","updated_at":"2025-11-15T01:50:07.225936+02:00","closed_at":"2025-11-15T01:50:07.225936+02:00","source_repo":"."}
{"id":"hermes-3ly","content_hash":"06612d029afddb695b789d7c4637bcb73e98b1a53e89367f45befc86d2555bd3","title":"Split internal/enrichment/tmdb.go enrichment flow into smaller units","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:45.055858+02:00","updated_at":"2025-11-18T23:59:45.055858+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-3ly","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:48.290187+02:00","created_by":"daemon"}]}
{"id":"hermes-3lz","content_hash":"c22c3ab0492f2175ecf25934f3ec593e692547eb40a7cf25232bc15a260b35f1","title":"Fix timezone mismatch in cache expiry calculations","description":"SQLite CURRENT_TIMESTAMP stores UTC but time.Now() comparisons use local time, causing incorrect expiry in non-UTC timezones. Use time.Now().UTC() consistently at lines 180 and 211 in internal/cache/cache.go. This affects Get() and ClearExpired() methods.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.147316+02:00","updated_at":"2025-11-17T23:28:16.478957+02:00","closed_at":"2025-11-17T23:28:16.478957+02:00","source_repo":"."}
{"id":"hermes-3o5","content_hash":"8c72aeacf5c07536907fa6a62b39e008fea470412ec275c3c02ca5f7da26c6c5","title":"Fix IMDb importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:07.814947+02:00","updated_at":"2025-11-18T08:54:32.623382+02:00","closed_at":"2025-11-18T08:54:32.623382+02:00","source_repo":"."}
{"id":"hermes-3u6","content_hash":"0b97a0516582ff5098f1ad33c6e0bfd2e25237c8eb3fe3985eeb90f5c5cb2f94","title":"Apply sizing to cover embeds in markdown format","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.264269+02:00","updated_at":"2025-11-18T10:03:36.807179+02:00","closed_at":"2025-11-18T10:03:36.807179+02:00","source_repo":"."}
{"id":"hermes-48o","content_hash":"6148a15eb0515ad61752a3dea31434552418d69c4267f62a29afcec1f77a385c","title":"Migrate internal/cmdutil tests to new file framework","description":"Refactor internal/cmdutil/base_test.go to rely on internal/testutil's TestEnv for sandbox directories and helper utilities.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:26.313392+02:00","updated_at":"2025-11-19T20:44:26.313392+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-48o","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:26.314647+02:00","created_by":"daemon"},{"issue_id":"hermes-48o","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.442939+02:00","created_by":"daemon"}]}
{"id":"hermes-4fc","content_hash":"f0f62b025bd1f66579c8cfd07363362411cd6d8c0c77a9ee52229dc41b8c522d","title":"Refactor internal/cache for SQLite backend","description":"Replace file-based JSON cache with SQLite database implementation.\n\n- Replace GetOrFetch[T]() with database-based implementation\n- Add cache database connection management (similar to datastore pattern)\n- Keep generic/type-safe interface\n- Maintain backward compatibility during migration\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.111271+02:00","updated_at":"2025-11-17T23:13:04.115787+02:00","closed_at":"2025-11-17T23:13:04.115787+02:00","source_repo":"."}
{"id":"hermes-4vu","content_hash":"e44cc06b262a6e1fb24b39927ee1c161b01d3c9f617196a3bc51f2242e20a487","title":"Cover llm-shared utilities","description":"llm-shared/utils/gofuncs and llm-shared/utils/validate-docs both have 0% coverage. Add tests that exercise function extraction CLI (AST walking, formatting) and validate-docs checking logic so these helper tools stay stable.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T16:54:48.306341+02:00","updated_at":"2025-11-19T01:28:13.621297+02:00","closed_at":"2025-11-19T01:28:13.621297+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-4vu","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:48.307429+02:00","created_by":"shrike"}]}
{"id":"hermes-4ws","content_hash":"4d64e5bf6a4efb8a2b7560fa28ec2954ae40505098b14b153d5051b8d6feb4bf","title":"Unify OMDB rate-limit handling between IMDb and Letterboxd importers","description":"Delete cmd/imdb/omdb_limit.go and cmd/letterboxd/omdb_limit.go (19 lines each, identical code). Replace local markOmdbRateLimitReached() and omdbRequestsAllowed() with imports from internal/omdb.MarkRateLimitReached() and internal/omdb.RequestsAllowed() which already exist in internal/omdb/ratelimit.go. Straightforward find-and-replace refactor.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:51.144366+02:00","updated_at":"2025-11-18T21:28:44.942045+02:00","closed_at":"2025-11-18T21:28:44.942045+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-4ws","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.703924+02:00","created_by":"daemon"}]}
{"id":"hermes-4wy","content_hash":"8fc7c3e7a60bbac723533a34d534d67cb86f6552df4d16dd37fb3c5d921d096a","title":"Add database connectivity check in NewCacheDB","description":"sql.Open at line 58 in internal/cache/cache.go only validates arguments but doesn't verify connectivity. Add db.Ping() after opening to fail fast on permission/configuration issues rather than waiting for first query. Return descriptive error if Ping fails.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.29416+02:00","updated_at":"2025-11-17T23:28:25.101279+02:00","closed_at":"2025-11-17T23:28:25.101279+02:00","source_repo":"."}
{"id":"hermes-57z","content_hash":"583a427b1dc5c2e3aa5ecee582381df4aa49f3fcf62745009bba1e631414bfbd","title":"Adopt testutil in enrichment TMDB tests","description":"Update internal/enrichment/tmdb_test.go to use internal/testutil for temp dirs, file copies, and cleanup.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:43.096006+02:00","updated_at":"2025-11-19T20:44:43.096006+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-57z","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:43.097378+02:00","created_by":"daemon"},{"issue_id":"hermes-57z","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.519214+02:00","created_by":"daemon"}]}
{"id":"hermes-5km","content_hash":"255f25ce6eca3f653eb0cf27a401d3540fbdbc60d27655a96c037899d40f7a4b","title":"Stabilize and expand internal/tmdb coverage","description":"internal/tmdb coverage was ~20% and fresh go test runs fail at TestFindByIMDBID because httptest.NewServer cannot bind ::1 in restricted env. Add deterministic tests for FindByIMDBID/cache behavior using loopback-safe listeners or injected transports, and cover TMDB client error handling/response parsing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:59.152822+02:00","updated_at":"2025-11-19T09:14:58.503455+02:00","closed_at":"2025-11-19T09:14:58.503455+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-5km","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:59.154165+02:00","created_by":"shrike"},{"issue_id":"hermes-5km","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.702878+02:00","created_by":"daemon"}]}
{"id":"hermes-5p7","content_hash":"cf10edbc6c3a41fc9c9d4979ad4131f6164ba393530f76b696aab89f79d3b13b","title":"Create caching documentation","description":"Create new documentation explaining SQLite-based cache with TTL.\n\nCreate: docs/caching.md\n\nContent:\n- Explain cache.db vs hermes.db separation\n- Document TTL behavior (default 30 days)\n- Explain how to configure cache location and TTL\n- Document cache table schemas\n- Explain cache warming strategy\n- Add troubleshooting section\n- Note the migration from JSON files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.977718+02:00","updated_at":"2025-11-18T18:08:58.082982+02:00","closed_at":"2025-11-18T18:08:58.082982+02:00","source_repo":"."}
{"id":"hermes-5sq","content_hash":"52ab89728308b2cb30e6c3eaa8849408905d7e5ee1489a3c7b37a75428b25fa0","title":"Update IMDB and Letterboxd importers to use refactored functions","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:58:09.233405+02:00","updated_at":"2025-11-18T23:35:19.689797+02:00","closed_at":"2025-11-18T23:35:19.689797+02:00","source_repo":"."}
{"id":"hermes-694","content_hash":"daaa57ba32b4c55867b04fd40706fc3250192d1a8e1a5a8f5023c2b818b4d8dc","title":"Wire up IMDB importer to use TMDB enrichment","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:27.368275+02:00","updated_at":"2025-11-15T01:43:52.73491+02:00","closed_at":"2025-11-15T01:43:52.73491+02:00","source_repo":"."}
{"id":"hermes-6a8","content_hash":"3922c1161d92181a30bf8359272a48edb3dd06ac1d52fb51ca2c228788dcd68f","title":"Add TTL support to cache system","description":"Implement cache expiration logic with configurable TTL.\n\n- Add TTL checking logic (check cached_at timestamp)\n- Add ClearExpiredCache() function to clean old entries\n- Default TTL: 30 days\n- Update/remove ClearCache() and CacheExists() functions as needed\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.392414+02:00","updated_at":"2025-11-17T23:16:25.841775+02:00","closed_at":"2025-11-17T23:16:25.841775+02:00","source_repo":"."}
{"id":"hermes-6ag","content_hash":"9c18e4708daeb20c4a5508e9537ed277bd92d543f7c0fdbf6f6a21012a84ab2d","title":"Refactor shared markdown writing/enrichment helpers for movie importers","description":"Consolidate enrichMovieData() (~70 lines each) from cmd/imdb/parser.go:264-343 and cmd/letterboxd/parser.go:238-346. Both implement identical workflow: check existing data, attempt OMDB enrichment, merge fields, attempt TMDB enrichment, combine results. Create internal/enrichment/movie.go with generic EnrichMovie() using interface or generics to handle type differences. Also add TMDB frontmatter helpers like ApplyTMDBData() to update frontmatter with TMDB enrichment, and tag merging utilities.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:08.804775+02:00","updated_at":"2025-11-18T21:33:14.99914+02:00","closed_at":"2025-11-18T21:33:14.99914+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-6ag","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.854167+02:00","created_by":"daemon"}]}
{"id":"hermes-6en","content_hash":"3881d1a4fd3f65782f6053cd5c4e358b70c3190cdd6a5e71d77ee8fadc75481e","title":"Add unit tests for WriteMarkdownFile","description":"Test wrapper delegates correctly to WriteFileWithOverwrite, logging behavior for written vs skipped files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.598182+02:00","updated_at":"2025-11-19T18:21:30.922218+02:00","closed_at":"2025-11-19T18:21:30.922218+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-6en","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.510638+02:00","created_by":"daemon"}]}
{"id":"hermes-6fr","content_hash":"d79749b4939d247222ee687ea303e9d507644288a8f87c3f3b0b32a3f4af1470","title":"Download local covers with attachments and update rules","description":"- Download all covers to attachments/ subdir under markdown output (e.g. markdown/goodreads/attachments/)\n- Skip re-downloading existing covers unless --update-covers is set\n- Update links to point to local attachments and use frontmatter key 'cover' with attachment path (e.g. attachments/Arcane - cover.jpg)\n- Render markdown images with max size using Obsidian syntax ![[Arcane - cover.jpg|250]]","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:40:03.767784+02:00","updated_at":"2025-11-18T10:03:37.213998+02:00","closed_at":"2025-11-18T10:03:37.213998+02:00","source_repo":"."}
{"id":"hermes-6l7","content_hash":"d03806eb59cdef7496c657eddde1c4b1ac3979c93f7e35f283a8e8e3700f20cc","title":"Move internal/tmdb cache tests to testutil","description":"Refactor internal/tmdb/cache_test.go to create sandboxes via internal/testutil and drop bespoke temp dir plumbing.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:49.430079+02:00","updated_at":"2025-11-19T20:44:49.430079+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-6l7","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:49.430812+02:00","created_by":"daemon"},{"issue_id":"hermes-6l7","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.595354+02:00","created_by":"daemon"}]}
{"id":"hermes-6r6","content_hash":"9c8ec8b7327074b93ed270d25bcc8d2e78f8f70ecbc2ce8e82f25790a36b9de2","title":"Move fileutil helpers tests to testutil","description":"Update internal/fileutil/fileutil_test.go to run inside internal/testutil TestEnv rather than os.MkdirTemp/CreateTemp combos.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:46:06.351662+02:00","updated_at":"2025-11-19T20:46:06.351662+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-6r6","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:46:06.354932+02:00","created_by":"daemon"},{"issue_id":"hermes-6r6","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.669938+02:00","created_by":"daemon"}]}
{"id":"hermes-6xf","content_hash":"fa44f557f47d26cddce1b5911cdff36f530ba1c9587524379222b6c9e5aac9c1","title":"Add cache configuration to CLI and config file","description":"Add cache settings to command-line flags and config.yaml.\n\nCLI flags (cmd/root.go):\n- --cache-dbfile (default: cache.db)\n- --cache-ttl (default: 30 days)\n\nConfig file (config.yaml):\n- cache.dbfile\n- cache.ttl\n\nFollow existing pattern for datasette config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.956911+02:00","updated_at":"2025-11-17T22:59:46.017482+02:00","closed_at":"2025-11-17T22:59:46.017482+02:00","source_repo":"."}
{"id":"hermes-6yx","content_hash":"c2270230175996d542b15554b6894420ede52feab7f156cda2ec61a7dd3b270b","title":"Implement FindByIMDBID using TMDB find endpoint","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.640364+02:00","updated_at":"2025-11-18T10:40:42.234553+02:00","closed_at":"2025-11-18T10:40:42.234553+02:00","source_repo":"."}
{"id":"hermes-7do","content_hash":"12210545e37ea0edc012f1aba971d8b4496fe36e2740eddf833e820e9838dab2","title":"Make cover download and content generation default in enhance command","description":"Remove --tmdb-download-cover and --tmdb-generate-content flags and make both features the default behavior when running enhance command","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:17:04.841784+02:00","updated_at":"2025-11-17T07:19:00.152534+02:00","closed_at":"2025-11-17T07:19:00.152534+02:00","source_repo":"."}
{"id":"hermes-7ie","content_hash":"49e5a39ef828cd9ee8ce866fd9b0a3eea650af325397194d83feca00d3a5fdff","title":"Migrate Letterboxd cache to SQLite","description":"Update Letterboxd importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/letterboxd/cache.go\n- Use omdb_cache table (same as IMDb)\n- Remove cross-cache file lookup logic (no longer needed with shared DB)\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual Letterboxd import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.15936+02:00","updated_at":"2025-11-17T23:50:04.595667+02:00","closed_at":"2025-11-17T23:50:04.595667+02:00","source_repo":"."}
{"id":"hermes-869","content_hash":"6f8d37ffff6737aee6b49cade433ec0b2ac71c04e0300cba5cd5ba4b6d86a867","title":"Refactor cmd/goodreads/parser.go into smaller parsing phases","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:36.02574+02:00","updated_at":"2025-11-18T23:59:36.02574+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-869","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:39.037254+02:00","created_by":"daemon"}]}
{"id":"hermes-89l","content_hash":"85802c03adb4101e2538b2e4443a2bc4774fc32786f63a23bd1bf4febced4cf6","title":"Add unit tests for AddCoverToMarkdown","description":"Test TMDB cover preferred over fallback, download failure fallback to URL, no cover scenario, all options combinations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.392261+02:00","updated_at":"2025-11-19T18:20:39.673619+02:00","closed_at":"2025-11-19T18:20:39.673619+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-89l","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.583143+02:00","created_by":"daemon"}]}
{"id":"hermes-8v5","content_hash":"b0a60a2d1c58978455c888f352fa414c54cf9cd69555f7032a0432bb93987028","title":"Rename cover_url frontmatter to cover for Obsidian compatibility","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.095812+02:00","updated_at":"2025-11-18T10:03:36.610421+02:00","closed_at":"2025-11-18T10:03:36.610421+02:00","source_repo":"."}
{"id":"hermes-8vy","content_hash":"fa3392655b435960d7310d486edcc6ba3ec35816173976570af5f727cec74bfa","title":"Add HTML color code detection and replacement","description":"Detect #RRGGBB color codes in cover field and replace with actual cover downloads. Update cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.89189+02:00","updated_at":"2025-11-17T21:52:45.453155+02:00","closed_at":"2025-11-17T21:52:45.453155+02:00","source_repo":"."}
{"id":"hermes-8xv","content_hash":"16c82902d7ac0c5efa2065bc155352e74f7bd56a438e9f4b74929451d1852a66","title":"Improve test coverage","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:26:42.391035+02:00","updated_at":"2025-11-19T09:15:53.697527+02:00","closed_at":"2025-11-19T09:15:53.697527+02:00","source_repo":"."}
{"id":"hermes-9u1","content_hash":"be897ba56904bda07794588828bd970c7530c4d9023558fe2431be6a50f0d796","title":"Add unit tests for TagCollector","description":"Test NewTagCollector, Add, AddIf (true/false conditions), AddFormat, GetSorted, deduplication behavior, empty tag handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:46.937533+02:00","updated_at":"2025-11-19T18:19:43.099076+02:00","closed_at":"2025-11-19T18:19:43.099076+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-9u1","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.658568+02:00","created_by":"daemon"}]}
{"id":"hermes-9wq","content_hash":"a17c2d9612ad4a2a09b57c1a78254df1cb067019e63442fdf22ce0976e803608","title":"Add coverage for Steam importer","description":"cmd/steam coverage is ~37%. Missing tests for cache.go getCachedGame, ParseSteamWithParams, Steam client fetchGameData/GetGameDetails/ImportSteamGames, parser helpers, and JSON writer. Add fixtures or stub HTTP responses so CLI/JSON/markdown paths are exercised without live Steam API calls.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:38.313403+02:00","updated_at":"2025-11-19T09:15:36.383081+02:00","closed_at":"2025-11-19T09:15:36.383081+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-9wq","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:38.314702+02:00","created_by":"shrike"},{"issue_id":"hermes-9wq","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.617548+02:00","created_by":"daemon"}]}
{"id":"hermes-9za","content_hash":"8aa00b830da70c4b5bbefc7cdea614f62b7e9d2187e36c5c25263974e70e68bc","title":"Add Goodreads browser automation","description":"Add Goodreads browser automation so users can run `hermes import goodreads --automated` without manually fetching the CSV. The existing importer already assumes a local CSV via the `--input` flag (`cmd/root.go` and `cmd/goodreads/cmd.go`), so this work is purely about downloading that file automatically and then piping it back into the current parser.\n\n## Implementation outline\n\n1. **Dependencies \u0026 wiring**\n   - Add `github.com/chromedp/chromedp` (and the generated `cdproto` packages such as `github.com/chromedp/cdproto/page`) to `go.mod` / `go.sum`.\n   - Create `cmd/goodreads/automation.go` to keep the browser automation isolated from parsing logic.\n   - Introduce a seam such as `var downloadGoodreadsCSV = AutomateGoodreadsExport` inside the package so CLI tests can stub the automation when we exercise the new flags.\n\n2. **CLI / config surface (`cmd/root.go`, `config.yml`, docs)**\n   - Extend `GoodreadsCmd` with `Automated bool`, `GoodreadsEmail string`, `GoodreadsPassword string`, `Headful bool` (optional), `DownloadDir string`, and `AutomationTimeout time.Duration`. The `--automated` flag should skip the existing “input file required” validation, while the legacy CSV path still works when automation is disabled.\n   - Bind those fields to config keys via Viper so users can keep credentials outside the CLI invocation, e.g. `goodreads.automation.email`, `.password`, `.headful`, `.download_dir`, `.timeout`. Document how to source them from environment variables to avoid storing plaintext in repos.\n   - When `--automated` is set, resolve the credentials (flag \u003e env \u003e config), build an `AutomationOptions` struct, and call the automation helper before continuing with `parseGoodreads(...)`. Re‑use the `cmdutil.SetupOutputDir` flow so we do not duplicate business logic.\n\n3. **Automation flow (`cmd/goodreads/automation.go`)**\n   - Define `type AutomationOptions struct { Email, Password, DownloadDir string; Headless bool; Timeout time.Duration }` and `func AutomateGoodreadsExport(ctx context.Context, opts AutomationOptions) (string, error)`.\n   - Inside the helper:\n     * Create a chromedp allocator (`chromedp.NewExecAllocator`) with sane defaults (`chromedp.Flag(\"headless\", opts.Headless)`, `chromedp.Flag(\"disable-gpu\", true)`, `chromedp.Flag(\"disable-sync\", true)`, etc.) and ensure downloads land inside a temporary directory (use `page.SetDownloadBehavior(page.SetDownloadBehaviorBehaviorAllow).WithDownloadPath(tmpDir)`).\n     * Navigate to `https://www.goodreads.com/user/sign_in`, wait for the login form (`input[name=\"user[email]\"]`, `input[name=\"user[password]\"]`), fill credentials, and submit.\n     * Block until the profile avatar / site header loads (e.g. wait for `.siteHeader__topLevelItem--profile` to become visible) so we know authentication succeeded.\n     * Navigate to `https://www.goodreads.com/review/import`, click the “Export Library” button (`//input[@value='Export Library']`), and poll for the generated download link (`a[href*=\"goodreads_library_export.csv\"]`). Goodreads queues exports, so wrap this portion in a retry loop with a user-configurable timeout (default 2–3 minutes) and surface helpful log lines via `slog`.\n     * Once the CSV download finishes, return the on-disk path; copy/move it into the location Hermes already expects (`goodreads_library_export.csv` inside the working directory or under `exports/`), and make sure callers clean up temporary directories.\n   - Guard rails: bubble up authentication failures with actionable errors, redact passwords in logs, and respect `context.WithTimeout` from the caller so Ctrl‑C cancels the headless browser cleanly.\n\n4. **Parser integration**\n   - Refactor `cmd/goodreads/cmd.go` / `ParseGoodreadsWithParams` so the resulting CSV path (manual or automated) is injected via function parameters instead of mutating the global `csvFile` var directly. This keeps automation from having to know about package-level globals and will make it easier to test.\n   - After automation delivers the CSV, set `csvFile` to that temp path, then run the existing `ParseGoodreads` exactly as today so markdown/JSON/sqlite flows stay untouched.\n\n5. **Testing**\n   - Extend `cmd/goodreads/cmd_test.go` to cover the new `--automated` path by faking `downloadGoodreadsCSV` and asserting that `parseGoodreadsFunc` receives the generated file path and that `--input` stays optional when automation is enabled.\n   - Add targeted unit tests for any pure helpers in `automation.go` (e.g., selector builders, timeout calculation). For browser actions, lean on dependency injection so we can provide a mock chromedp runner and avoid launching Chrome during tests.\n\n6. **Docs \u0026 release notes**\n   - Update `docs/importers/goodreads.md` (and the README import section) with an “Automated export” subsection that documents the new flags, config block, required dependencies (Chrome/Chromium installed, headless by default), and security guidance for credentials.\n   - Mention the new workflow in `CHANGELOG` / release notes if applicable and remind contributors to run `task build` to pick up the `chromedp` dependency.\n\nCompletion criteria: running `hermes import goodreads --automated --goodreads-email $EMAIL --goodreads-password $PASSWORD` downloads the latest CSV with chromedp, pipes it through the current importer, and all `task build` checks pass.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-11-19T00:11:42.393974+02:00","updated_at":"2025-11-19T09:33:58.461935+02:00","source_repo":"."}
{"id":"hermes-a1k","content_hash":"606f60b6d69b33f91ce9dc5f8291489df822391bcc0652ae6b3b312235ca5c83","title":"Add unit tests for AddTMDBEnrichmentFields","description":"Test zero TMDB ID skipping, empty content markdown, total episodes handling, full enrichment scenario","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.173602+02:00","updated_at":"2025-11-19T18:19:43.356919+02:00","closed_at":"2025-11-19T18:19:43.356919+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-a1k","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.727829+02:00","created_by":"daemon"}]}
{"id":"hermes-aby","content_hash":"6b697d99d4d03904b25e33a9524e320e8f77f00236ed627b89e2e9a869b94a63","title":"Update enrichment to use cached TMDB calls","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.771464+02:00","updated_at":"2025-11-18T10:41:44.552353+02:00","closed_at":"2025-11-18T10:41:44.552353+02:00","source_repo":"."}
{"id":"hermes-ae5","content_hash":"f463b8d3b76f2d3b169ca226a32f8d587ebfc44a5cd3346d43c5e8698db5b964","title":"Add coverage for internal/tui select UI","description":"internal/tui/select.go is entirely untested (Title/FilterValue/Description formatting, delegate render/update, model lifecycle and selection helpers). Add unit tests with bubbletea list model to exercise input update, rendering, truncation, and vote formatting to prevent regressions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:45.402518+02:00","updated_at":"2025-11-19T01:28:09.157294+02:00","closed_at":"2025-11-19T01:28:09.157294+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ae5","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:45.403953+02:00","created_by":"shrike"},{"issue_id":"hermes-ae5","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.864553+02:00","created_by":"daemon"}]}
{"id":"hermes-aeg","content_hash":"0f3d6a03d866e048f59baaeb77190761ed11700c4ea384befa402e86979406ea","title":"Align IMDb and Letterboxd enrichment/cover flow via shared helper","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T00:21:30.998034+02:00","updated_at":"2025-11-19T00:26:52.664095+02:00","closed_at":"2025-11-19T00:26:52.664095+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-aeg","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:41.864668+02:00","created_by":"daemon"}]}
{"id":"hermes-apg","content_hash":"a362ac5fcad22ba9bbec0c4fc0c62ccbe582eff8649eec8bd211c45d172daa15","title":"Add unit tests for core utilities","description":"Collection of tasks to add unit tests for various utility functions","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-19T09:26:57.273731+02:00","updated_at":"2025-11-19T18:22:02.003018+02:00","closed_at":"2025-11-19T18:22:02.003018+02:00","source_repo":"."}
{"id":"hermes-baf","content_hash":"d04281a8585ffb3764afacf2e3ecec343f5792169a00975389b162598385a088","title":"Use testutil in cmd/enhance CLI tests","description":"Move cmd/enhance/cmd_test.go to the internal/testutil TestEnv + golden helpers instead of manual temp file setup.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:53.536432+02:00","updated_at":"2025-11-19T20:44:53.536432+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-baf","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:53.537344+02:00","created_by":"daemon"},{"issue_id":"hermes-baf","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.752265+02:00","created_by":"daemon"}]}
{"id":"hermes-bdf","content_hash":"ad56e2ce29f9d4624684824ffd0aa806e44eddfd79da5e81ec4424cbf54a1cb9","title":"Adopt testutil across hermes tests","description":"Track migration of importer and helper tests onto internal/testutil for consistent sandboxes and fixtures.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-11-20T21:19:20.819399+02:00","updated_at":"2025-11-20T21:19:20.819399+02:00","source_repo":"."}
{"id":"hermes-bhh","content_hash":"4a8e5117d5734465f4d6d44702afa5e4c6c6c31f4f5fd637796424e257c7a157","title":"Simplify datasette configuration","description":"Remove remote-specific config options from CLI and config file.\n\nRemove from cmd/root.go:\n- --datasette-mode flag (no longer needed)\n- --datasette-url flag\n- --datasette-token flag\n\nKeep only:\n- --datasette (boolean to enable/disable)\n- --datasette-dbfile (path, default: hermes.db)\n\nUpdate config.yaml structure to match.\nSet datasette enabled=true by default.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.87343+02:00","updated_at":"2025-11-17T23:59:13.206304+02:00","closed_at":"2025-11-17T23:59:13.206304+02:00","source_repo":"."}
{"id":"hermes-bn6","content_hash":"84f4b7bf5ea6e3452c1d7e2f6f09550a37a43a4608cc04f018461f8b54d0723b","title":"Fix SQL injection risk in cache table name interpolation","description":"Cache methods (Get, Set, ClearExpired, ClearAll, CacheExists) directly interpolate tableName into SQL queries via fmt.Sprintf. Add validation against AllCacheSchemas whitelist before constructing queries to prevent potential SQL injection if untrusted input ever reaches these methods. Files: internal/cache/cache.go lines 163, 193, 213, 235, 250","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:26.998268+02:00","updated_at":"2025-11-17T23:21:31.818747+02:00","closed_at":"2025-11-17T23:21:31.818747+02:00","source_repo":"."}
{"id":"hermes-bue","content_hash":"dc355d6d27631e371681e110386b9ba6f2eef3662bde1f3ab8995a28b23fd3dc","title":"Enable cache only when flag set; avoid stale dev artifacts","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:33:00.777236+02:00","updated_at":"2025-11-19T20:37:12.845923+02:00","closed_at":"2025-11-19T20:37:12.845923+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-bue","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:33:00.778127+02:00","created_by":"daemon"},{"issue_id":"hermes-bue","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.599721+02:00","created_by":"daemon"}]}
{"id":"hermes-bv1","content_hash":"42856f2dbd8be7978dbc337ea0e7fe1fd247152e5507a967a85e78b38b40a25c","title":"Cover CLI entrypoints","description":"Packages hermes (main) and cmd/root.go sit at 0% coverage. Add smoke tests around cmd.Execute/initConfig/updateGlobalConfig and Kong parsing to exercise Run() for Goodreads/IMDB/Letterboxd/Steam/Enhance. Include cases for config fallback vs required flags to guard error messages and app exit paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:52:52.820317+02:00","updated_at":"2025-11-18T17:44:20.873626+02:00","closed_at":"2025-11-18T17:44:20.873626+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-bv1","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:52:52.8213+02:00","created_by":"shrike"}]}
{"id":"hermes-c5k","content_hash":"ae2e2b545c52e51798f02d11bc69ed948a06b61ebcfd0cd7a323e0ef4e22252b","title":"Add tests for TMDB caching","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T10:39:09.0644+02:00","updated_at":"2025-11-18T10:43:37.570386+02:00","closed_at":"2025-11-18T10:43:37.570386+02:00","source_repo":"."}
{"id":"hermes-c7i","content_hash":"1080db97351cc705c3d095a6601a5c9c19cd581df6d183c490a9ffea042415f9","title":"Migrate IMDb cache to SQLite","description":"Update IMDb importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/imdb/cache.go\n- Use omdb_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual IMDb import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.787434+02:00","updated_at":"2025-11-17T23:44:45.826657+02:00","closed_at":"2025-11-17T23:44:45.826657+02:00","source_repo":"."}
{"id":"hermes-cd4","content_hash":"bc2d911d5466f04bd6bdc416e55735f6d53051e18a0c60807d1cc1dcee3a3f88","title":"Implement smart needs detection (NeedsCover, NeedsMetadata, NeedsTMDB)","description":"Add intelligent detection to only update what's missing. Skip notes that already have all data. Implement in cmd/enhance/parser.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.099407+02:00","updated_at":"2025-11-17T22:01:13.285308+02:00","closed_at":"2025-11-17T22:01:13.285308+02:00","source_repo":"."}
{"id":"hermes-cxe","content_hash":"9c20d5d43cbe2ce2a8d263e66fd3caf8ac076a114a401d0a0ca0011de10bc1aa","title":"Update content injection to use marker-based replacement","description":"Use markers for content replacement instead of simple append across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go to use marker-based injection","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.218902+02:00","updated_at":"2025-11-17T00:30:33.482882+02:00","closed_at":"2025-11-17T00:30:33.482882+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-cxe","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.739097+02:00","created_by":"daemon"}]}
{"id":"hermes-d45","content_hash":"08751d9492e3a68efd705aee0a2f4235270ab3d04a55c129f950f1062df47768","title":"Add coverage for IMDb importer","description":"cmd/imdb coverage is ~24%. Uncovered areas include cache.go getCachedMovie, ParseImdbWithParams CLI wrapper, OMDB fetchMovieData, JSON writer, markdown validation/mapTypeToTag, and error paths. Add tests with stub OMDB responses to avoid network and to exercise TMDB/cover option flags.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:16.918258+02:00","updated_at":"2025-11-19T09:15:14.119284+02:00","closed_at":"2025-11-19T09:15:14.119284+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-d45","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:16.9193+02:00","created_by":"shrike"},{"issue_id":"hermes-d45","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.443854+02:00","created_by":"daemon"}]}
{"id":"hermes-dnc","content_hash":"39e2f0daad32d7ccec102e6f14ad68de92879dfb95e30262132254f7c02c9b7e","title":"Fix staticcheck ST1005 - uncapitalize error strings in cmd/root.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.156764+02:00","updated_at":"2025-11-15T01:50:07.193718+02:00","closed_at":"2025-11-15T01:50:07.193718+02:00","source_repo":"."}
{"id":"hermes-e01","content_hash":"caf1b25ee7e1e7d162690448ee270e67fc4a64021df7ab317e682ed49cb70d59","title":"Use testutil in llm-shared gofuncs tests","description":"Update llm-shared/utils/gofuncs/gofuncs_test.go to consume internal/testutil instead of raw t.TempDir for filesystem fixtures.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:32.619295+02:00","updated_at":"2025-11-19T20:45:32.619295+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e01","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:32.620162+02:00","created_by":"daemon"},{"issue_id":"hermes-e01","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.841039+02:00","created_by":"daemon"}]}
{"id":"hermes-e50","content_hash":"7a3354ed7556caa434a1ef6ac5d68a9aa387074e4cccd4b76cd41fb3b2bec0a7","title":"Mark rated movies as seen in front matter","description":"Add seen:true to movie front matter whenever a rating exists so rated movies are marked as seen in exports.\nEnsure importer/backfill logic keys off rating presence without affecting unrated entries.\nUpdate docs/tests to capture the new field.","acceptance_criteria":"Movies with ratings export front matter containing seen: true.\nMovies without ratings keep seen omitted/false to match existing behaviour.\nAutomated tests cover rated vs unrated movie cases.\nDocs mention the new seen flag in movie front matter.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-18T10:45:41.015823+02:00","updated_at":"2025-11-18T18:13:53.63405+02:00","closed_at":"2025-11-18T18:13:53.63405+02:00","source_repo":"."}
{"id":"hermes-e80","content_hash":"4b8cedb56acbc859c687d9facd8cf8837ce4faa5def21a96ba5a24ba0e51002a","title":"Common test framework for file operations","description":"Create internal/testutil package with sandboxed test environment, golden file helpers, and config management utilities","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:52:53.494943+02:00","updated_at":"2025-11-19T09:36:57.237335+02:00","closed_at":"2025-11-19T09:36:57.237335+02:00","source_repo":"."}
{"id":"hermes-e80.1","content_hash":"aaa349deee07aa580412e4c197179a18b618f3303a1150ed5d9989e03fe961a3","title":"Create TestEnv sandboxed test environment","description":"Create internal/testutil/testutil.go with TestEnv struct that validates all paths stay within temp dir, provides Path(), WriteFile(), ReadFile() methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:04.36975+02:00","updated_at":"2025-11-19T09:30:46.23653+02:00","closed_at":"2025-11-19T09:30:46.23653+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.1","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.750707+02:00","created_by":"daemon"}]}
{"id":"hermes-e80.2","content_hash":"6a313af1e4c4dfa1a61a527b2d503740a6e410c50a1dd912f8edb893650cdc65","title":"Create GoldenHelper for golden file testing","description":"Create internal/testutil/golden.go with GoldenHelper that handles golden file comparison with UPDATE_GOLDEN env var support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:04.627954+02:00","updated_at":"2025-11-19T09:31:12.947381+02:00","closed_at":"2025-11-19T09:31:12.947381+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.2","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.809879+02:00","created_by":"daemon"}]}
{"id":"hermes-e80.3","content_hash":"1853857fd9a7152c8d56680f0c4feef7ba46bab46f99711f6a68b84695fe9485","title":"Create test config management utilities","description":"Create internal/testutil/config.go with ResetConfig() and SetTestConfig() helpers that save/restore config state on test cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:05.014751+02:00","updated_at":"2025-11-19T09:31:41.975665+02:00","closed_at":"2025-11-19T09:31:41.975665+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.3","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.868144+02:00","created_by":"daemon"}]}
{"id":"hermes-e80.4","content_hash":"d00240193967b5f7e97649e94b9e9cb6f2a8fa2a386e220ff109a8871ce2f4e4","title":"Fix tmdb/cache_test.go safety issue","description":"Replace fixed /tmp/hermes-tmdb-cache-tests path with t.TempDir() to prevent conflicts and ensure cleanup","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-18T23:53:05.393669+02:00","updated_at":"2025-11-19T09:31:59.081736+02:00","closed_at":"2025-11-19T09:31:59.081736+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.4","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.929106+02:00","created_by":"daemon"}]}
{"id":"hermes-e80.5","content_hash":"c2397d1414beab1db56ea26f410dfe376eb2eda02cbf7d03322c0c346149e70d","title":"Migrate golden file tests to use testutil helpers","description":"Refactor cmd/imdb/markdown_test.go, cmd/goodreads/markdown_test.go, cmd/steam/markdown_test.go, cmd/letterboxd/markdown_test.go to use GoldenHelper","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T23:53:07.01737+02:00","updated_at":"2025-11-19T09:33:33.864387+02:00","closed_at":"2025-11-19T09:33:33.864387+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.5","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.986607+02:00","created_by":"daemon"}]}
{"id":"hermes-e80.6","content_hash":"f00fb29fffaad14de70844c3b7c24e7ed967736a54bfd2491988926ffbb76046","title":"Add tests for testutil package","description":"Create internal/testutil/testutil_test.go with tests for TestEnv path validation, GoldenHelper comparison, config reset behavior","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T23:53:07.312489+02:00","updated_at":"2025-11-19T09:34:22.269926+02:00","closed_at":"2025-11-19T09:34:22.269926+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-e80.6","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:52.050185+02:00","created_by":"daemon"}]}
{"id":"hermes-e9q","content_hash":"81813ac8bf35416224ad268780bd1fce570deac454ae767e6db9529d3b811953","title":"Fix Goodreads importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:55:56.795332+02:00","updated_at":"2025-11-18T08:54:23.163061+02:00","closed_at":"2025-11-18T08:54:23.163061+02:00","source_repo":"."}
{"id":"hermes-ekx","content_hash":"5c8da9dbdbb96c08d6b52a4f012b323d8b6e2e76d68b418ad179fd54b6797dbe","title":"Add coverage for Goodreads importer","description":"cmd/goodreads sits around 33% coverage. Missing tests for cache retrieval, ParseGoodreadsWithParams CLI wrapper, OpenLibrary fetchers (getHTTPClient/fetchBookData/fetchEditionData/fetchCoverImage), and JSON writer. Current tests fail offline when cover downloads fall back to remote URLs; add fixtures/mocking so parsing and cover handling are exercised without network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:06.296525+02:00","updated_at":"2025-11-19T09:15:07.359866+02:00","closed_at":"2025-11-19T09:15:07.359866+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ekx","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:06.297661+02:00","created_by":"shrike"},{"issue_id":"hermes-ekx","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.355901+02:00","created_by":"daemon"}]}
{"id":"hermes-eyq","content_hash":"cb1ef612c083cb12a39ade9b353035be292d63bc92aa540547b8402348194c5d","title":"Use testutil in cmd/imdb CLI tests","description":"Refactor cmd/imdb/cmd_test.go to create sandboxes and golden fixtures through internal/testutil instead of bespoke temp dirs.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:13.851266+02:00","updated_at":"2025-11-19T20:45:13.851266+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-eyq","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:13.851937+02:00","created_by":"daemon"},{"issue_id":"hermes-eyq","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.921721+02:00","created_by":"daemon"}]}
{"id":"hermes-ezx","content_hash":"aa865b43141eaabe4a0ce0680ebdbbb610d2faa4540d6a37ef20a27721bac9c5","title":"Fallback to TMDB when OMDB rate limited","description":"Letterboxd enrichment stops after OMDB rate limit hits because errors from cache.GetOrFetch wrap the RateLimitError. The wrapped error bypasses the rate-limit guard and bubbles up, so TMDB enrichment is never attempted and the run logs 'failed to fetch data: OMDB API request limit reached' before skipping the file.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-18T10:54:22.451722+02:00","updated_at":"2025-11-19T00:54:17.111822+02:00","closed_at":"2025-11-19T00:54:17.111822+02:00","source_repo":"."}
{"id":"hermes-f3q","content_hash":"c4fef5d1c2afe44585908bc118392697ce7ce1b59fd1c03ecd2e205da58b32ee","title":"Deduplicate enhance/imdb/letterboxd importer helpers","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:27:42.83232+02:00","updated_at":"2025-11-19T01:09:27.236666+02:00","closed_at":"2025-11-19T01:09:27.236666+02:00","source_repo":"."}
{"id":"hermes-fsr","content_hash":"25cebf9f92524ee72072896080f4b7edc3e895dfa78ce0b24c51b218b676516f","title":"Improve data combination logic between OMDB and TMDB","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-18T10:39:08.92293+02:00","updated_at":"2025-11-18T10:42:47.663694+02:00","closed_at":"2025-11-18T10:42:47.663694+02:00","source_repo":"."}
{"id":"hermes-ghv","content_hash":"4eb650128f3bec3249e44b633b364d094594970ec62f7b912a1e68cc95439029","title":"IMDb importer misses covers when omdb.api_key is used","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-19T00:13:12.300358+02:00","updated_at":"2025-11-19T00:14:23.509594+02:00","closed_at":"2025-11-19T00:14:23.509594+02:00","source_repo":"."}
{"id":"hermes-gvk","content_hash":"797769e6044920bf3ebc19ba0f39a8943d78a42985e745831fb0b7278f1ccce5","title":"Remove remote datasette client code","description":"Delete remote Datasette functionality - we only need local SQLite.\n\nFiles to delete:\n- internal/datastore/client.go\n- internal/datastore/client_test.go\n\nThis simplifies the codebase to local-only mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.684428+02:00","updated_at":"2025-11-17T23:59:04.345213+02:00","closed_at":"2025-11-17T23:59:04.345213+02:00","source_repo":"."}
{"id":"hermes-gxf","content_hash":"3a777c5cce7b04448d02f259add33cce464074c6e289c6955873c536f2533b67","title":"Align CI workflow with llm-shared Go template","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T00:28:18.849046+02:00","updated_at":"2025-11-17T07:32:03.868477+02:00","closed_at":"2025-11-17T07:32:03.868477+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-gxf","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:18.851874+02:00","created_by":"daemon"}]}
{"id":"hermes-hcr","content_hash":"1be29d99364d744207c16b9c9d62786828ac35b848107ff47e6df1874375a206","title":"Use testutil in internal/tmdb client cover tests","description":"Move internal/tmdb/client_cover_test.go onto internal/testutil's sandbox helpers so cover image fixture writes/read go through the shared framework.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:31.098774+02:00","updated_at":"2025-11-19T20:44:31.098774+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-hcr","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:31.099579+02:00","created_by":"daemon"},{"issue_id":"hermes-hcr","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.999449+02:00","created_by":"daemon"}]}
{"id":"hermes-hjv","content_hash":"11ec81f60a2749e6d0c401a13a5294c97c220e4b6df6c458e425c6752b40388b","title":"Fix IMDb markdown tests - update testdata for new field names","description":"Update cmd/imdb/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md, tv_series.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.381243+02:00","updated_at":"2025-11-17T00:38:53.157037+02:00","closed_at":"2025-11-17T00:38:53.157037+02:00","source_repo":"."}
{"id":"hermes-hnb","content_hash":"28a52a9b43141ab136d372ab0e9ba9c2425b9ec8d565bc8655264ec339bb9b78","title":"Don’t cache TMDB misses for searches/IMDb lookups","description":"TMDB caching stores empty search results and not-found /find responses for the full TTL. After a single miss, later runs keep returning the cached miss even if the title or IMDb ID is added to TMDB, blocking recovery until TTL expiry or manual cache clear. Avoid caching negative results or store them with a very short TTL so new items can be found.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:51.918962+02:00","updated_at":"2025-11-18T17:23:53.183249+02:00","closed_at":"2025-11-18T17:23:53.183249+02:00","source_repo":"."}
{"id":"hermes-i5m","content_hash":"30e6662c63ab4363f512675b2b69e382e3a6c0663d96166910cb91a834d3711d","title":"Increase coverage for internal/config","description":"internal/config package sits at ~10% coverage. Add tests for InitConfig to ensure defaults, env binding, and error handling, plus SetUpdateCovers/SetOverwriteFiles interactions and resulting viper values.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:04.464713+02:00","updated_at":"2025-11-18T17:39:03.930536+02:00","closed_at":"2025-11-18T17:39:03.930536+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-i5m","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:04.465789+02:00","created_by":"shrike"}]}
{"id":"hermes-irr","content_hash":"1c6ed2f23eb5df66d90a45fc9c75b640ec187e0237470a32929d1c4e5ef7e642","title":"Implement cover image embedding in TMDB content","description":"Use content.BuildCoverImageEmbed() to prepend ![[filename|250]] to TMDB content sections. Update cmd/enhance/cmd.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.995153+02:00","updated_at":"2025-11-17T00:30:33.482531+02:00","closed_at":"2025-11-17T00:30:33.482531+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-irr","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.547494+02:00","created_by":"daemon"}]}
{"id":"hermes-ivm","content_hash":"b8f6a3d74c90fe354f5b1fbede462d2939db4a192da41015eebe5bb95b7b8d66","title":"Use testutil in llm-shared validate-docs tests","description":"Move llm-shared/utils/validate-docs/validate-docs_test.go over to internal/testutil to share sandbox creation and cleanup.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:38.040614+02:00","updated_at":"2025-11-19T20:45:38.040614+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ivm","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:38.04206+02:00","created_by":"daemon"},{"issue_id":"hermes-ivm","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.075462+02:00","created_by":"daemon"}]}
{"id":"hermes-jmo","content_hash":"2e24a1db2a471fd576943eb6c548ebd3ed8d745e961d0cf0ab40e77d89322271","title":"Change attachments directory to root-level","description":"Change from per-directory _attachments/ to root-level attachments/ directory. Update paths in cmd/enhance/cmd.go, cmd/imdb/cmd.go, cmd/letterboxd/cmd.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.509764+02:00","updated_at":"2025-11-17T00:30:33.48211+02:00","closed_at":"2025-11-17T00:30:33.48211+02:00","source_repo":"."}
{"id":"hermes-jtb","content_hash":"778966375ff50aee12a779a0967f04aa0d24dc53598d399d561d3ed239f3e9da","title":"Clean up old JSON cache files","description":"Remove file-based cache system after SQLite migration is complete.\n\n- Delete entire cache/ directory (~200MB, ~5,255 files)\n- Update .gitignore to ignore cache.db\n- Update .gitignore to remove cache/ directory pattern if present\n\nOnly do this after all importers are successfully migrated to SQLite cache.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.522378+02:00","updated_at":"2025-11-18T18:08:52.612592+02:00","closed_at":"2025-11-18T18:08:52.612592+02:00","source_repo":"."}
{"id":"hermes-k7q","content_hash":"4a590de8bc0d6fc700280ea34489ddcabc76b91f831469af88ad3a9f652c7dbf","title":"Update tests for new field names and marker functionality","description":"Update tests across all TMDB commands: cmd/enhance/*_test.go, cmd/imdb/*_test.go, cmd/letterboxd/*_test.go. Add marker tests, cover embed tests, update testdata for new frontmatter fields","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.84067+02:00","updated_at":"2025-11-17T00:40:45.923008+02:00","closed_at":"2025-11-17T00:40:45.923008+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-k7q","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.897609+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.932424+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-irr","type":"blocks","created_at":"2025-11-17T00:11:21.977925+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-cxe","type":"blocks","created_at":"2025-11-17T00:11:22.009388+02:00","created_by":"daemon"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-jmo","type":"blocks","created_at":"2025-11-17T00:11:22.051559+02:00","created_by":"daemon"}]}
{"id":"hermes-kgo","content_hash":"3d6681f1601787e5ac8cf03449812ac5b70f6dd08f54e21347985386722dd3dc","title":"Migrate Steam cache to SQLite","description":"Update Steam importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/steam/cache.go\n- Use steam_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedGame() function signature\n- Test with actual Steam import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.460452+02:00","updated_at":"2025-11-17T23:52:04.202826+02:00","closed_at":"2025-11-17T23:52:04.202826+02:00","source_repo":"."}
{"id":"hermes-kmm","content_hash":"23fdb02505ed5e1d651a2752bee51e7cb94e286068f44915589eb4b143eb431d","title":"Use sanitized cover filename; debug log cache hit/miss","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:51.528629+02:00","updated_at":"2025-11-19T20:37:12.533388+02:00","closed_at":"2025-11-19T20:37:12.533388+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-kmm","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:51.529297+02:00","created_by":"daemon"},{"issue_id":"hermes-kmm","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.663031+02:00","created_by":"daemon"}]}
{"id":"hermes-lbe","content_hash":"d8bc429c735ac2c1d3f3cfe4d5628ac2cc5512abb46725bc580773fb19193c24","title":"Define SQLite cache table schemas","description":"Create schema definitions for each cache type with TTL support.\n\nTables to create:\n- omdb_cache (imdb_id, title, rating, runtime, genres, directors, plot, cached_at, etc.)\n- openlibrary_cache (isbn, title, authors, publishers, description, cached_at, etc.)\n- steam_cache (app_id, name, developers, publishers, release_date, cached_at, etc.)\n\nAll schemas must include:\n- Primary key column (imdb_id/isbn/app_id)\n- cached_at DATETIME column for TTL\n- All relevant data columns matching current cached JSON structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.713761+02:00","updated_at":"2025-11-17T23:02:31.333465+02:00","closed_at":"2025-11-17T23:02:31.333465+02:00","source_repo":"."}
{"id":"hermes-lis","content_hash":"5eecdc56c6cae2db8637889b48d724cd12e535a0ba4354e2b3912e2b69505cb8","title":"Create cached TMDB wrapper functions in internal/tmdb/cache.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.513445+02:00","updated_at":"2025-11-18T10:40:25.362032+02:00","closed_at":"2025-11-18T10:40:25.362032+02:00","source_repo":"."}
{"id":"hermes-lyy","content_hash":"33b7783dd03733315fb5bf2457862c5167455ca343297935809a95f643cdee3e","title":"Audit hermes against llm-shared guidelines","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:20:44.288022+02:00","updated_at":"2025-11-17T07:32:04.192954+02:00","closed_at":"2025-11-17T07:32:04.192954+02:00","source_repo":"."}
{"id":"hermes-ma4","content_hash":"6d8ba80364d9a0a17354139c4e8ae11b35656a76a9e4146bbac95928a9ae0aaf","title":"Cover internal/errors helpers","description":"internal/errors has 0% coverage (RateLimitError, StopProcessingError). Add unit tests verifying Error() messages, constructor behavior, and Is* helpers so rate-limit detection and stop-processing semantics stay stable.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:36.398346+02:00","updated_at":"2025-11-19T01:28:04.827983+02:00","closed_at":"2025-11-19T01:28:04.827983+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ma4","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:36.399541+02:00","created_by":"shrike"},{"issue_id":"hermes-ma4","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:20:58.175817+02:00","created_by":"daemon"}]}
{"id":"hermes-n4b","content_hash":"7480686401451c2d79ad3479d666daaf2ac312ba8378b0cb2d733ccc52daa77a","title":"Create new 'enhance' command for enriching existing notes","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T01:34:41.181584+02:00","updated_at":"2025-11-15T02:03:08.110454+02:00","closed_at":"2025-11-15T02:03:08.110454+02:00","source_repo":"."}
{"id":"hermes-n7i","content_hash":"416b283627533171b3dab25cea5bd5d1f47aa8e032804d4f2984b7bcfb3faa9d","title":"Move fileutil JSON tests to testutil","description":"Update internal/fileutil/json_test.go to rely on internal/testutil's TestEnv for JSON fixture writes/reads instead of manual os/temp dir handling.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:11.461819+02:00","updated_at":"2025-11-19T20:45:11.461819+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-n7i","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:11.462527+02:00","created_by":"daemon"},{"issue_id":"hermes-n7i","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.15217+02:00","created_by":"daemon"}]}
{"id":"hermes-nb0","content_hash":"9c55c26542d11ad435ca49a76f41a2e28e97f953cfde0324c1fe19a2bd6b57e8","title":"Update datasette documentation","description":"Rewrite datasette docs to reflect local-only, simplified mode.\n\nFile: docs/datasette_integration.md\n\nChanges:\n- Remove all remote mode sections\n- Remove mode configuration examples\n- Simplify to focus on local SQLite usage only\n- Update CLI flag examples\n- Emphasize that datasette is enabled by default\n- Add note about separate cache.db vs hermes.db","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.734359+02:00","updated_at":"2025-11-17T23:59:32.288674+02:00","closed_at":"2025-11-17T23:59:32.288674+02:00","source_repo":"."}
{"id":"hermes-nht","content_hash":"d9cad68e8e7d99a3f1e4ea1ef955dca037d62da9669983a12cab523b39638288","title":"Enhance Letterboxd importer with TMDB enrichment","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:34.725674+02:00","updated_at":"2025-11-15T01:48:24.719855+02:00","closed_at":"2025-11-15T01:48:24.719855+02:00","source_repo":"."}
{"id":"hermes-o9l","content_hash":"02a56750bdda125a818fb45bacc83c1489210f82937e297a6d29954327eabc7e","title":"Add TMDB cover dev cache flag (--use-tmdb-cover-cache)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:31:29.245034+02:00","updated_at":"2025-11-19T20:37:12.224634+02:00","closed_at":"2025-11-19T20:37:12.224634+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-o9l","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.827303+02:00","created_by":"daemon"}]}
{"id":"hermes-ogn","content_hash":"3eca582358500945a40a88723b83f6e20f70f4344c4f098e2e1c59ccd66d53c7","title":"Migrate cmd/steam tests to testutil","description":"Update cmd/steam/cmd_test.go to use internal/testutil for filesystem fixtures and cleanup.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:04.589591+02:00","updated_at":"2025-11-19T20:45:04.589591+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ogn","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:04.590556+02:00","created_by":"daemon"},{"issue_id":"hermes-ogn","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.227987+02:00","created_by":"daemon"}]}
{"id":"hermes-ok0","content_hash":"8f0006f2e2d5687de4e2cc5fbf711673e03f7fa91fae34cd31d7c7945184fc07","title":"Migrate internal/csvutil tests to new file framework","description":"Update internal/csvutil/processor_test.go to use internal/testutil for sandboxed temp dirs, config cleanup, and golden helper access instead of manual t.TempDir wiring.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:21.527983+02:00","updated_at":"2025-11-19T20:44:21.527983+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ok0","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:21.529427+02:00","created_by":"daemon"},{"issue_id":"hermes-ok0","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.303698+02:00","created_by":"daemon"}]}
{"id":"hermes-osu","content_hash":"60ffd400bf968cd2e315322a1df7e4fd360890cd2b687fb0ca933428093bfa45","title":"Fix Letterboxd markdown tests - update testdata for new field names","description":"Update cmd/letterboxd/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.548316+02:00","updated_at":"2025-11-17T00:38:53.340225+02:00","closed_at":"2025-11-17T00:38:53.340225+02:00","source_repo":"."}
{"id":"hermes-p2i","content_hash":"3021748f95af0ee8101465c8992d4c2916599c09897fe1332bf45aaa1ab5b8bc","title":"TMDB cover caching system","description":"Implement a development cache for TMDB covers to avoid repeated downloads during development","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-11-19T09:27:14.468028+02:00","updated_at":"2025-11-19T20:37:18.43375+02:00","closed_at":"2025-11-19T20:37:18.43375+02:00","source_repo":"."}
{"id":"hermes-pfu","content_hash":"3d1a8fdd63bbf83b0a2a0b598c5f00f7ec68488c6d1acd4aefb777da0f61790a","title":"Test Coverage","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T18:19:40.918266+02:00","updated_at":"2025-11-19T09:15:46.638245+02:00","closed_at":"2025-11-19T09:15:46.638245+02:00","source_repo":"."}
{"id":"hermes-ph7","content_hash":"ca6ce5cc44b7a8599e074e2eccd139eb8ca6dbf55eb6605e10d660d13df54b84","title":"Implement TMDB content markers","description":"Add TMDB_DATA_START/END constants and functions across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go. Add HasTMDBContentMarkers(), GetTMDBContent(), ReplaceTMDBContent()","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.798838+02:00","updated_at":"2025-11-17T00:30:33.481662+02:00","closed_at":"2025-11-17T00:30:33.481662+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ph7","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.368879+02:00","created_by":"daemon"}]}
{"id":"hermes-pku","content_hash":"69ec0bdc2da69d71cad31525cae7bb723b80e96c14b98fe012c9ee6d62050bba","title":"Use testutil in cmd/goodreads CLI tests","description":"Refactor cmd/goodreads/cmd_test.go to consume internal/testutil for sandboxing and golden comparisons.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:08.634343+02:00","updated_at":"2025-11-19T20:45:08.634343+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-pku","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:08.635291+02:00","created_by":"daemon"},{"issue_id":"hermes-pku","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.386632+02:00","created_by":"daemon"}]}
{"id":"hermes-q2p","content_hash":"447d31256b6888e99c6d36aee5349cff82a4cb60ab564b00fb83358af348c69f","title":"Fix Steam importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:28.646026+02:00","updated_at":"2025-11-18T08:54:52.799839+02:00","closed_at":"2025-11-18T08:54:52.799839+02:00","source_repo":"."}
{"id":"hermes-qgn","content_hash":"cdc9ccf0dc727e341039750ceb2c0ebec388394f1950c31621d0c1b1f24f0091","title":"Cover TMDB content builder","description":"internal/content coverage is ~15%. BuildTMDBContent and helpers (buildOverview/buildInfo/buildSeasons plus string/int/float/bool extraction helpers) are untested. Add unit tests that generate content sections from sample TMDB metadata and assert expected markdown output and nil handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:13.892768+02:00","updated_at":"2025-11-19T01:27:57.449705+02:00","closed_at":"2025-11-19T01:27:57.449705+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-qgn","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:13.893742+02:00","created_by":"shrike"},{"issue_id":"hermes-qgn","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.717777+02:00","created_by":"daemon"}]}
{"id":"hermes-qk4","content_hash":"c6aa7205976b0eb4ca566f6aeb20eb80fae9c3a53404e1c89e7414bb7eea2aa8","title":"Implement cover-only update mode","description":"Add ability to update just cover embed without regenerating TMDB content. Add ensureCoverEmbed() function in cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:11:00.077454+02:00","updated_at":"2025-11-17T21:58:35.5193+02:00","closed_at":"2025-11-17T21:58:35.5193+02:00","source_repo":"."}
{"id":"hermes-rge","content_hash":"06dee04c823dd551078f1f01796725cf8b29e2fe5d93cc9ecfc3318fbb94a9a0","title":"Update IMDB and Letterboxd importers to use refactored functions","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:58:00.821295+02:00","updated_at":"2025-11-18T23:41:20.244309+02:00","closed_at":"2025-11-18T23:41:20.244309+02:00","source_repo":"."}
{"id":"hermes-riw","content_hash":"f5f35d4c915f63182d3364b1d461afde5d59aaa58e233af9d593aa39979ea648","title":"Adopt testutil in fileutil cover tests","description":"Refactor internal/fileutil/cover_test.go to create temp assets via internal/testutil's sandbox helpers instead of os.MkdirTemp.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:46:01.660309+02:00","updated_at":"2025-11-19T20:46:01.660309+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-riw","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:46:01.662043+02:00","created_by":"daemon"},{"issue_id":"hermes-riw","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.462993+02:00","created_by":"daemon"}]}
{"id":"hermes-rur","content_hash":"3c406ff1daad9ca9f5a81c5629973034d00b2e6a28e01592205943aff8984270","title":"Increase coverage for enhance CLI","description":"cmd/enhance coverage is ~40%; key entrypoints are untested (EnhanceNotes, findMarkdownFiles, updateNoteWithTMDBData, parseNoteFile/readFile/title detection). Add tests that scan fixtures, drive options (recursive/dry-run/force), and verify note updates and TMDB content generation hooks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:55.670224+02:00","updated_at":"2025-11-19T09:14:50.8296+02:00","closed_at":"2025-11-19T09:14:50.8296+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-rur","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:55.671218+02:00","created_by":"shrike"},{"issue_id":"hermes-rur","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.93839+02:00","created_by":"daemon"}]}
{"id":"hermes-s6w","content_hash":"ecdb211c117183685a09afcaedd77fa5b9772f1e1c72cb40da6d546aaa71d2a4","title":"Use local image paths instead of URLs in frontmatter","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.938145+02:00","updated_at":"2025-11-18T10:03:36.447265+02:00","closed_at":"2025-11-18T10:03:36.447265+02:00","source_repo":"."}
{"id":"hermes-sd8","content_hash":"08c508e58505d68a592ff9fceabff4fb97adb1aa1f73bcc7aecd12bbf3f40a70","title":"Configurable cache path; default tmdb-cover-cache/","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:45.844732+02:00","updated_at":"2025-11-19T20:37:12.385549+02:00","closed_at":"2025-11-19T20:37:12.385549+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-sd8","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:45.846043+02:00","created_by":"daemon"},{"issue_id":"hermes-sd8","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.964893+02:00","created_by":"daemon"}]}
{"id":"hermes-sdc","content_hash":"54527f3f491f24bcab3d55ffa6110801cdfac09f3af9e1249e820144a2759eca","title":"Fix Letterboxd importer output dir creation failure","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:18.125943+02:00","updated_at":"2025-11-18T08:54:42.879119+02:00","closed_at":"2025-11-18T08:54:42.879119+02:00","source_repo":"."}
{"id":"hermes-smz","content_hash":"3abe2fd53f0f86c813214e15929ce7cce0cb5c9918b14d6b672c71e30742f935","title":"Test TMDB enrichment orchestrator","description":"internal/enrichment/tmdb.go has 0% coverage (EnrichFromTMDB, findTMDBIDByIMDBID). Add tests that drive happy path and error cases with stub TMDB client/cache to ensure IDs resolve, content sections are filled, and rate-limit/lookup errors propagate correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:24.837156+02:00","updated_at":"2025-11-19T01:28:01.0381+02:00","closed_at":"2025-11-19T01:28:01.0381+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-smz","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:24.838361+02:00","created_by":"shrike"},{"issue_id":"hermes-smz","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.790415+02:00","created_by":"daemon"}]}
{"id":"hermes-t2q","content_hash":"245a12081b0d86cb674021758cd36491bbe193f5273c451d8d440b5cffa158ea","title":"On download: write to cache, then copy/symlink to attachments respecting UpdateCovers","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:56.088949+02:00","updated_at":"2025-11-19T20:37:12.688702+02:00","closed_at":"2025-11-19T20:37:12.688702+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-t2q","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:56.08993+02:00","created_by":"daemon"},{"issue_id":"hermes-t2q","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:21.097983+02:00","created_by":"daemon"}]}
{"id":"hermes-tj3","content_hash":"fc024fc575661228d93ff01f79ef5bba3d6e08602b5da9029a7e93a9d031605b","title":"Fix ineffassign linter issue in tmdb.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.875135+02:00","updated_at":"2025-11-15T01:50:07.160206+02:00","closed_at":"2025-11-15T01:50:07.160206+02:00","source_repo":"."}
{"id":"hermes-trs","content_hash":"f13644e5b169bab42c980c099361928005a779a16fcb0e6680380a73830b1fc3","title":"Fix errcheck linter issues - unchecked Close() and defer errors","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.698467+02:00","updated_at":"2025-11-15T01:51:36.134029+02:00","closed_at":"2025-11-15T01:51:36.134029+02:00","source_repo":"."}
{"id":"hermes-ukl","content_hash":"85ec962fc5cb32711be2cca3ac9af7d995ccd71543c6950c1b7ca2b2bc937972","title":"Use testutil in cmd/letterboxd CLI tests","description":"Refactor cmd/letterboxd/cmd_test.go to rely on internal/testutil for sandbox directories, config setup, and golden updates.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:27.03228+02:00","updated_at":"2025-11-19T20:45:27.03228+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ukl","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:27.033144+02:00","created_by":"daemon"},{"issue_id":"hermes-ukl","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.537988+02:00","created_by":"daemon"}]}
{"id":"hermes-umj","content_hash":"751b225f25e20e376f164cea1c11414f770d6161c14a70472ef8397de9800087","title":"Add tests for cover cache hit/miss; skip download on hit","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:33:05.587894+02:00","updated_at":"2025-11-19T20:37:12.999071+02:00","closed_at":"2025-11-19T20:37:12.999071+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-umj","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:33:05.588634+02:00","created_by":"daemon"},{"issue_id":"hermes-umj","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:21.155108+02:00","created_by":"daemon"}]}
{"id":"hermes-uwr","content_hash":"c6586255a96c5fce6865143b2410193bece7699885b36c24c8bdbae3636d1557","title":"Add AddTMDBEnrichment method to MarkdownBuilder","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:52.876831+02:00","updated_at":"2025-11-18T23:30:11.772072+02:00","closed_at":"2025-11-18T23:30:11.772072+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-uwr","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.849823+02:00","created_by":"daemon"}]}
{"id":"hermes-v7f","content_hash":"393f1161d4a93f154bd2fd933cc14ac7737cf69cfa07dba81d2b55cd5d912fc6","title":"Remove datasette mode switching from importers","description":"Simplify all importer parser.go files to remove local/remote mode logic.\n\nFiles to update:\n- cmd/goodreads/parser.go (lines 193-278)\n- cmd/imdb/parser.go (lines 76-163)\n- cmd/letterboxd/parser.go (lines 77-147)\n- cmd/steam/parser.go (lines 79-154)\n\nRemove mode switch statements, keep only SQLite code path.\nAll importers should always use local SQLite (hermes.db).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.099321+02:00","updated_at":"2025-11-17T23:59:22.906493+02:00","closed_at":"2025-11-17T23:59:22.906493+02:00","source_repo":"."}
{"id":"hermes-vhi","content_hash":"5f9270f7091d24a4f2dba8053181c9ea2f1897d489dad938ca05fb757302e8e8","title":"Add TMDB cache schema to internal/cache/schema.go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.364146+02:00","updated_at":"2025-11-18T10:39:38.913654+02:00","closed_at":"2025-11-18T10:39:38.913654+02:00","source_repo":"."}
{"id":"hermes-vk8","content_hash":"0cb8f19fb7e9ab53ec1bccd8e5976f9a5b403eed9c839bb266fde42f6f5caae4","title":"Update documentation (README, CLAUDE.md) for TMDB features","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:34:44.968762+02:00","updated_at":"2025-11-15T01:51:36.166643+02:00","closed_at":"2025-11-15T01:51:36.166643+02:00","source_repo":"."}
{"id":"hermes-vsc","content_hash":"29f2488c3db20b5c62dc5210c27b538ec3d6e0fa4c30aed3bdc2fbc65bc3632b","title":"Extract shared frontmatter ID loader for IMDb/Letterboxd/enhance","description":"Consolidate duplicate frontmatter parsing: loadExistingTMDBID() from cmd/imdb/parser.go:397-450 and cmd/letterboxd/parser.go:384-440, plus parseNote() from cmd/enhance/parser.go:29-98. Expand internal/frontmatter package to include generic ParseMarkdown() and LoadNote() functions. Also move intFromAny() from cmd/imdb/parser.go:452-466 and cmd/letterboxd/parser.go:442-456 - similar to existing toInt() in internal/frontmatter/ids.go:59-74. Export a unified type conversion utility.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:59.417473+02:00","updated_at":"2025-11-18T21:31:46.247419+02:00","closed_at":"2025-11-18T21:31:46.247419+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-vsc","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.779721+02:00","created_by":"daemon"}]}
{"id":"hermes-vyo","content_hash":"dd4b4ab2d2da7331abab3d54228a16ed16be1e0b687d7eaa3367c32d92dbc932","title":"Consolidate CSV-to-database/JSON pipelines for IMDb and Letterboxd","description":"Consolidate CSV processing: processCSVFile() in cmd/imdb/parser.go:140-262 and cmd/letterboxd/parser.go:128-212 follow identical flow (open CSV, read header, iterate records, error handling). Consider creating internal/csv package with generic ProcessCSV[T any](filename string, parser func([]string) (T, error)) ([]T, error) using Go generics. Also consolidate main parsing flow in ParseImdb() and ParseLetterboxd() which share the same pattern: process CSV, log items, write markdown, write JSON conditionally, write to datasette conditionally, log summary.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:17.964037+02:00","updated_at":"2025-11-18T21:35:08.693667+02:00","closed_at":"2025-11-18T21:35:08.693667+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-vyo","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.931578+02:00","created_by":"daemon"}]}
{"id":"hermes-w7k","content_hash":"831961fbfa8eb1c6c58c4789bf2c0dece276e57753fb28447ff8842b520c0c76","title":"Force TMDB re-enrichment should bypass cache","description":"TMDBEnrichmentOptions.Force only skips the search step but still uses CachedGetMetadataByID/CachedGetFull* so a forced re-enrich returns stale cached TMDB metadata/content instead of re-fetching. When Force is set, metadata/content fetches should bypass or invalidate the cache so users can refresh old notes.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:41.436226+02:00","updated_at":"2025-11-18T17:35:09.89271+02:00","closed_at":"2025-11-18T17:35:09.89271+02:00","source_repo":"."}
{"id":"hermes-wf5","content_hash":"872fcb3c13724a9282c00a1bf7212019abbfb381122eee2250f0dc7e5d2b1544","title":"Use stored TMDB ID for Letterboxd imports","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T12:44:16.513201+02:00","updated_at":"2025-11-19T00:50:59.20759+02:00","closed_at":"2025-11-19T00:50:59.20759+02:00","source_repo":"."}
{"id":"hermes-whr","content_hash":"4398b074fdda0468b0e9ad5f67ebf91f3322b9e1111521f22a5a2050101cb94d","title":"Adopt testutil in mediaids importer tests","description":"Refactor internal/importer/mediaids/mediaids_test.go to construct paths and temp files via internal/testutil instead of manual t.TempDir coverage.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:39.108734+02:00","updated_at":"2025-11-19T20:44:39.108734+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-whr","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:39.109768+02:00","created_by":"daemon"},{"issue_id":"hermes-whr","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.613109+02:00","created_by":"daemon"}]}
{"id":"hermes-xfd","content_hash":"0b0bf9ac758b4518e83f4a39263f960d74e22f88a707838bfa2fdbeac4c57063","title":"Implement stored TMDB ID direct lookup optimization","description":"When TMDB ID exists in frontmatter, use direct API lookup instead of searching. Add --force flag to override. Update cmd/enhance/cmd.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.400369+02:00","updated_at":"2025-11-17T07:36:39.817508+02:00","closed_at":"2025-11-17T07:36:39.817508+02:00","source_repo":"."}
{"id":"hermes-y8g","content_hash":"801d24705789113100f21eb55e41020fbde1bf2588c9353b1ab754b80d2732c7","title":"Download covers to local attachments directory","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.620785+02:00","updated_at":"2025-11-18T10:03:36.145466+02:00","closed_at":"2025-11-18T10:03:36.145466+02:00","source_repo":"."}
{"id":"hermes-yco","content_hash":"4d787bd42ef6e6f6e5c920bcab1f73d61523fa7e9689c6966b97df27e52ab723","title":"Update frontmatter field names to match obsidian-tmdb-cover","description":"Breaking change: tmdb_cover→cover, runtime_mins→runtime, genres→tags. Update across all commands: cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.577705+02:00","updated_at":"2025-11-17T00:30:33.480391+02:00","closed_at":"2025-11-17T00:30:33.480391+02:00","source_repo":"."}
{"id":"hermes-ysr","content_hash":"15b2a7fad810b171d33cf86598d2b45fb1f41d92aed5114be79d18fa67534e4a","title":"Split internal/tmdb/client.go into focused files","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:20.976351+02:00","updated_at":"2025-11-18T23:59:20.976351+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-ysr","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:24.702363+02:00","created_by":"daemon"}]}
{"id":"hermes-zhu","content_hash":"124af8579b51f905ce1c4a4d5704d8347b4b9ca47dcf5d250b2eaf9d4506b3d6","title":"Create TagCollector type for tag deduplication","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:46.090013+02:00","updated_at":"2025-11-18T23:29:28.623385+02:00","closed_at":"2025-11-18T23:29:28.623385+02:00","source_repo":".","dependencies":[{"issue_id":"hermes-zhu","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.731889+02:00","created_by":"daemon"}]}
{"id":"hermes-zjj","content_hash":"7181e8cc93c90ee04eb163d776e1a4cebb1e62e9dc0b4218719212c129e32235","title":"Migrate Goodreads cache to SQLite","description":"Update Goodreads importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/goodreads/cache.go\n- Use openlibrary_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedBook() function signature\n- Test with actual Goodreads import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.492988+02:00","updated_at":"2025-11-17T23:44:03.213611+02:00","closed_at":"2025-11-17T23:44:03.213611+02:00","source_repo":"."}
