{"id":"hermes-02s","title":"Goodreads automation improvements","description":"Group workflow automation and scripting for Goodreads data exports and browser helpers.","status":"closed","priority":4,"issue_type":"epic","created_at":"2025-11-20T21:20:11.873701+02:00","updated_at":"2025-11-26T00:32:34.142167+02:00","closed_at":"2025-11-26T00:32:34.142167+02:00"}
{"id":"hermes-04x","title":"Add CLI flags for TMDB features to IMDB command","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:31.278625+02:00","updated_at":"2025-11-15T01:43:52.863839+02:00","closed_at":"2025-11-15T01:43:52.863839+02:00","dependencies":[{"issue_id":"hermes-04x","depends_on_id":"hermes-694","type":"blocks","created_at":"2025-11-15T01:34:31.279494+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-06dk","title":"Update Goodreads CSV loader to use golden files","description":"Refactor csv_loader_test.go to use golden files with actual Goodreads data from imports/goodreads_library_export.csv (top 20 lines as test fixture)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T07:37:42.095516+02:00","updated_at":"2025-12-18T07:41:03.12628+02:00","closed_at":"2025-12-18T07:41:03.12628+02:00","close_reason":"Completed: Added testdata/goodreads_sample.csv golden file with 20 books from actual Goodreads export and added TestParseGoodreadsCSV_GoldenFile test","dependencies":[{"issue_id":"hermes-06dk","depends_on_id":"hermes-hn6g","type":"parent-child","created_at":"2025-12-18T07:38:02.526759+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-07c","title":"Split internal/content/builder.go into themed builders","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:28.509142+02:00","updated_at":"2025-11-24T23:57:50.18141+02:00","closed_at":"2025-11-24T23:57:50.18141+02:00","dependencies":[{"issue_id":"hermes-07c","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:32.464548+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-0ns","title":"Add external cover URL handling and conversion","description":"Detect HTTP(S) cover URLs in frontmatter and convert to local files. Download and replace external covers. Update cmd/enhance/cmd.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.674479+02:00","updated_at":"2025-11-17T21:59:02.719998+02:00","closed_at":"2025-11-17T21:59:02.719998+02:00"}
{"id":"hermes-0p9f","title":"Archive or remove stale documentation files","description":"Review and archive/remove stale documentation files like separate_goodreds_module.md, letterboxd_automation_plan.md, and AUDIT_2025-11-20.md.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:35:16.238108+02:00","updated_at":"2025-12-22T09:35:16.238108+02:00","dependencies":[{"issue_id":"hermes-0p9f","depends_on_id":"hermes-41en","type":"discovered-from","created_at":"2025-12-22T09:35:16.239779+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-0q6","title":"Create WriteMarkdownFile wrapper with logging","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T22:57:53.401262+02:00","updated_at":"2025-11-18T23:31:18.505449+02:00","closed_at":"2025-11-18T23:31:18.505449+02:00","dependencies":[{"issue_id":"hermes-0q6","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:26.080353+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-0ss","title":"Adopt testutil in cache layer tests","description":"Refactor internal/cache/cache_test.go to run inside internal/testutil's sandbox rather than bespoke temp directories.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:58.620518+02:00","updated_at":"2025-11-25T00:29:29.876978+02:00","closed_at":"2025-11-25T00:29:29.876978+02:00","dependencies":[{"issue_id":"hermes-0ss","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:58.621342+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-0ss","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.28831+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-0x3","title":"Move directory creation outside markdown writers","description":"writeBookToMarkdown() and similar functions call os.MkdirAll() for every item. If processing 100 items, 100 syscalls to create the same directory. Create output directory once in main parser before the loop.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T22:38:57.79625+02:00","updated_at":"2025-11-25T23:27:33.177356+02:00","closed_at":"2025-11-25T23:27:33.177356+02:00","labels":["efficiency","medium"]}
{"id":"hermes-13o","title":"Refactor parser integration to support automation","description":"1. Update GoodreadsCmd.Run() to call automation when --automated is set, 2. Keep existing --input flag behavior, 3. Add seam variable for testing (var downloadGoodreadsCSV = AutomateGoodreadsExport)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:07.895156+02:00","updated_at":"2025-11-26T00:26:28.192456+02:00","closed_at":"2025-11-26T00:26:28.192456+02:00","dependencies":[{"issue_id":"hermes-13o","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:07.896271+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-13o","depends_on_id":"hermes-2p3","type":"blocks","created_at":"2025-11-25T22:03:55.371945+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-13o","depends_on_id":"hermes-xsw","type":"blocks","created_at":"2025-11-25T22:03:55.424765+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-180","title":"Update enrichment pipeline in cmd/goodreads/csv_loader.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:53.526206+02:00","updated_at":"2025-11-26T00:59:12.484476+02:00","closed_at":"2025-11-26T00:59:12.484476+02:00"}
{"id":"hermes-1bc","title":"Create AddCoverToMarkdown helper function","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:53.203291+02:00","updated_at":"2025-11-18T23:30:48.194088+02:00","closed_at":"2025-11-18T23:30:48.194088+02:00","dependencies":[{"issue_id":"hermes-1bc","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.973096+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-1gd","title":"Add coverage for Letterboxd importer","description":"cmd/letterboxd coverage is ~24%. Uncovered functions: getCachedMovie, ParseLetterboxdWithParams, OMDB fetchMovieData/parse helpers, JSON writer, rate-limit helpers, and markdown edge cases. Add tests using fixtures/stub OMDB to avoid network and to exercise TMDB options and cache paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:27.864326+02:00","updated_at":"2025-11-19T09:15:29.020613+02:00","closed_at":"2025-11-19T09:15:29.020613+02:00","dependencies":[{"issue_id":"hermes-1gd","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:27.865492+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-1gd","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.529742+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-1k0","title":"Improve code coverage","description":"Coverage is 26.5% (go tool cover -func coverage/coverage.out after go test -race). Several packages sit at 0-25% coverage: root CLI (main/cmd), config initialization, content builder helpers, enrichment orchestrator, custom error helpers, importer CLIs (enhance/goodreads/imdb/letterboxd/steam), TMDB client, tui/select, and llm-shared utilities. Fresh go test runs currently fail offline (goodreads cover download expectations and tmdb httptest listener on ::1), so coverage work likely needs to stabilize those tests first.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:52:28.226194+02:00","updated_at":"2025-11-19T01:28:17.986058+02:00","closed_at":"2025-11-19T01:28:17.986058+02:00"}
{"id":"hermes-1ni","title":"Consolidate markdown generation across importers","description":"Each importer has 150-200 lines of similar markdown generation code (~400+ total duplicate lines). Common patterns: MarkdownBuilder init, cover download with defaultCoverWidth=250, TagCollector usage, callout sections. Create a generic WriteMediaToMarkdown[T] function.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T22:38:56.9749+02:00","updated_at":"2025-11-25T22:38:56.9749+02:00","labels":["high-impact","refactor"]}
{"id":"hermes-1rg","title":"Deduplicate *ToMap functions via reflection","description":"Identical pattern in bookToMap(), movieToMap() (x2), gameDetailsToMap() - each ~30 lines converting struct to map[string]any. Use reflect package or JSON marshaling to create generic StructToMap[T] utility.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T22:38:57.545368+02:00","updated_at":"2025-11-25T22:38:57.545368+02:00","labels":["high-impact","refactor"]}
{"id":"hermes-1sl","title":"Make interactive TUI the default for TMDB enrichment","description":"Change all TMDB commands to default to interactive mode when multiple results found. Rename --tmdb-interactive to --tmdb-no-interactive to disable the TUI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:27:20.004438+02:00","updated_at":"2025-11-17T07:28:36.542687+02:00","closed_at":"2025-11-17T07:28:36.542687+02:00"}
{"id":"hermes-1uk","title":"Adopt testutil in letterboxd parser tests","description":"Move cmd/letterboxd/parser_test.go to internal/testutil for CSV/file fixture handling.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:21.996458+02:00","updated_at":"2025-11-25T09:18:48.525736+02:00","closed_at":"2025-11-25T09:18:48.525736+02:00","dependencies":[{"issue_id":"hermes-1uk","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:21.998329+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-1uk","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.366073+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-21j","title":"Split large files refactoring","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:59:17.504761+02:00","updated_at":"2025-11-24T23:58:06.188016+02:00","closed_at":"2025-11-24T23:58:06.188016+02:00"}
{"id":"hermes-2is0","title":"Update docs/05_output_formats.md with tag examples","description":"Add section on tag format showing flow-style YAML examples, tag normalization examples, and sorted frontmatter keys.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:29.69396+02:00","updated_at":"2025-12-27T01:38:29.69396+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-2is0","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:29.707988+02:00","created_by":"daemon"}]}
{"id":"hermes-2jr","title":"Write tests for Google Books integration (cmd/goodreads/googlebooks_test.go)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:53.809467+02:00","updated_at":"2025-11-26T00:59:58.106854+02:00","closed_at":"2025-11-26T00:59:58.106854+02:00"}
{"id":"hermes-2l6","title":"Disambiguate TMDB movie vs TV selection","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-24T01:03:38.443187+02:00","updated_at":"2025-11-25T00:09:53.543248+02:00","closed_at":"2025-11-25T00:09:53.543248+02:00"}
{"id":"hermes-2p3","title":"Implement core automation logic in cmd/goodreads/automation.go","description":"Create AutomationOptions struct, implement AutomateGoodreadsExport function with chromedp logic: login, navigate to export page, download CSV, handle errors with password redaction","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:07.618059+02:00","updated_at":"2025-11-26T00:26:18.728792+02:00","closed_at":"2025-11-26T00:26:18.728792+02:00","dependencies":[{"issue_id":"hermes-2p3","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:07.619886+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-2p3","depends_on_id":"hermes-5j0","type":"blocks","created_at":"2025-11-25T22:03:55.26081+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-2vi2","title":"Update Steam enrichment to normalize genre tags","description":"Apply obsidian.NormalizeTag() to genre descriptions in internal/enrichment/steam_content.go before adding to tags array. Ensures consistent tag formatting.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:57.990273+02:00","updated_at":"2025-12-27T01:51:10.739645+02:00","closed_at":"2025-12-27T01:51:10.739645+02:00","close_reason":"Applied obsidian.NormalizeTag() to genre descriptions in extractGenreTags function. Steam genre tags now use consistent Obsidian-compatible normalization.","labels":["phase-4","refactor","steam"],"dependencies":[{"issue_id":"hermes-2vi2","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:37:57.99973+02:00","created_by":"daemon"}]}
{"id":"hermes-30d","title":"Skip existing covers unless --update-covers flag provided","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.78197+02:00","updated_at":"2025-11-18T10:03:36.304758+02:00","closed_at":"2025-11-18T10:03:36.304758+02:00"}
{"id":"hermes-31x6","title":"Extract common API client patterns","description":"Create shared API client utilities for common patterns: HTTP requests, JSON decoding, error handling across OMDB, TMDB, OpenLibrary, and Steam APIs.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:36:22.584275+02:00","updated_at":"2025-12-22T09:36:22.584275+02:00","dependencies":[{"issue_id":"hermes-31x6","depends_on_id":"hermes-dg3p","type":"discovered-from","created_at":"2025-12-22T09:36:22.585676+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-32g","title":"Update cache tests for SQLite","description":"Refactor cache tests to work with SQLite backend.\n\n- Update internal/cache/cache_test.go for SQL-based cache\n- Add tests for TTL expiration logic\n- Add tests for cache hit/miss with database\n- Add tests for expired cache entries\n- Ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.313731+02:00","updated_at":"2025-11-18T17:15:07.682341+02:00","closed_at":"2025-11-18T17:15:07.682341+02:00"}
{"id":"hermes-32y","title":"Consolidate OMDB cache access patterns into internal/omdb/cache.go","description":"Move similar cache access patterns from cmd/imdb/cache.go:11-40 and cmd/letterboxd/cache.go:14-55 to internal/omdb/cache.go. Create GetMovieByID(imdbID string) for IMDb importer. Create GetMovieByTitle(title string, year int) for Letterboxd importer. Consolidate rate limit error handling and logging patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:44:02.631425+02:00","updated_at":"2025-11-18T21:37:21.810955+02:00","closed_at":"2025-11-18T21:37:21.810955+02:00","dependencies":[{"issue_id":"hermes-32y","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:55.006044+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-33m","title":"Add unit test for --overwrite-tmdb behavior","description":"Add a unit test to cmd/enhance that verifies --overwrite-tmdb only updates TMDB-related data while preserving other fields.\n\n     Test should verify:\n     1. TMDB frontmatter fields ARE updated: tmdb_id, tmdb_type, runtime, total_episodes, cover, genre tags\n     2. Non-TMDB frontmatter fields are PRESERVED: created, modified, service, status, episodes (for tracking), finished, custom fields\n     3. Content between TMDB markers (\u003c!-- TMDB_DATA_START/END --\u003e) IS replaced when overwrite=true\n     4. Content OUTSIDE TMDB markers (personal notes, links) is preserved\n     5. Content is APPENDED (not replaced) when overwrite=false and markers don't exist\n\n     Test location: cmd/enhance/parser_test.go or cmd/enhance/cmd_test.go\n     Reference: BuildMarkdown() in parser.go, AddTMDBData() in parser.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-20T00:18:13.6929+02:00","updated_at":"2025-11-20T00:23:39.710813+02:00","closed_at":"2025-11-20T00:23:39.710813+02:00","labels":["enhance","testing"]}
{"id":"hermes-38vg","title":"Add golden file tests for obsidian package","description":"Create testdata/*.md files and add golden file tests to internal/obsidian/note_test.go. Test cases: block→flow tags, round-trip, tag normalization, sorted keys.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:31.714262+02:00","updated_at":"2025-12-27T01:38:31.714262+02:00","labels":["phase-5","testing"],"dependencies":[{"issue_id":"hermes-38vg","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:31.722343+02:00","created_by":"daemon"}]}
{"id":"hermes-3dk","title":"Refactoring","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T18:12:24.961741+02:00","updated_at":"2025-11-18T21:55:09.849853+02:00","closed_at":"2025-11-18T21:55:09.849853+02:00"}
{"id":"hermes-3f4","title":"Update Taskfile to match llm-shared build-ci and goimports guidance","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:28:21.054421+02:00","updated_at":"2025-11-17T07:32:04.042628+02:00","closed_at":"2025-11-17T07:32:04.042628+02:00","dependencies":[{"issue_id":"hermes-3f4","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:21.055655+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-3h5","title":"Fix staticcheck QF1003 - use tagged switch instead of if/else for mode checks","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.017586+02:00","updated_at":"2025-11-15T01:50:07.225936+02:00","closed_at":"2025-11-15T01:50:07.225936+02:00"}
{"id":"hermes-3ly","title":"Split internal/enrichment/tmdb.go enrichment flow into smaller units","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:45.055858+02:00","updated_at":"2025-11-24T23:57:55.177908+02:00","closed_at":"2025-11-24T23:57:55.177908+02:00","dependencies":[{"issue_id":"hermes-3ly","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:48.290187+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-3lz","title":"Fix timezone mismatch in cache expiry calculations","description":"SQLite CURRENT_TIMESTAMP stores UTC but time.Now() comparisons use local time, causing incorrect expiry in non-UTC timezones. Use time.Now().UTC() consistently at lines 180 and 211 in internal/cache/cache.go. This affects Get() and ClearExpired() methods.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.147316+02:00","updated_at":"2025-11-17T23:28:16.478957+02:00","closed_at":"2025-11-17T23:28:16.478957+02:00"}
{"id":"hermes-3o5","title":"Fix IMDb importer output dir creation failure","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:07.814947+02:00","updated_at":"2025-11-18T08:54:32.623382+02:00","closed_at":"2025-11-18T08:54:32.623382+02:00"}
{"id":"hermes-3r7f","title":"Migrate Letterboxd importer to obsidian.TagSet","description":"Replace fileutil.NewTagCollector() with obsidian.NewTagSet() in cmd/letterboxd/markdown.go. Same pattern as IMDB migration.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:00.526291+02:00","updated_at":"2025-12-27T01:53:53.162039+02:00","labels":["letterboxd","phase-4","refactor"],"dependencies":[{"issue_id":"hermes-3r7f","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:38:00.558122+02:00","created_by":"daemon"}]}
{"id":"hermes-3rn","title":"Make unexported functions private","description":"ImportSteamGames() and GetGameDetails() in cmd/steam/ are exported but only used within the package. Change to lowercase unless part of public API. Also review EnsureDir(), IntFromAny(), StringFromAny() in internal/fileutil/.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T22:38:58.334663+02:00","updated_at":"2025-11-25T22:38:58.334663+02:00","labels":["cleanup","medium"]}
{"id":"hermes-3u6","title":"Apply sizing to cover embeds in markdown format","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.264269+02:00","updated_at":"2025-11-18T10:03:36.807179+02:00","closed_at":"2025-11-18T10:03:36.807179+02:00"}
{"id":"hermes-3wmr","title":"Add enhance command documentation to README.md","description":"Update README.md to document the enhance command for enriching existing markdown notes with TMDB data, including usage examples and key features.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T09:34:45.993713+02:00","updated_at":"2025-12-22T09:34:45.993713+02:00","dependencies":[{"issue_id":"hermes-3wmr","depends_on_id":"hermes-41en","type":"discovered-from","created_at":"2025-12-22T09:34:45.995928+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-41en","title":"Documentation Updates and Config Drift","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T09:33:15.246232+02:00","updated_at":"2025-12-22T09:33:15.246232+02:00"}
{"id":"hermes-42wr","title":"Create history/ENRICHMENT_MIGRATION.md guide","description":"Document migration paths for enrichment.MergeTags→obsidian.MergeTags, enrichment.TagsFromAny→obsidian.TagsFromAny, fileutil.TagCollector→obsidian.TagSet, tmdb.sanitizeGenreName→obsidian.NormalizeTag. NEW FILE.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:30.870557+02:00","updated_at":"2025-12-27T01:38:30.870557+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-42wr","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:30.878878+02:00","created_by":"daemon"}]}
{"id":"hermes-48o","title":"Migrate internal/cmdutil tests to new file framework","description":"Refactor internal/cmdutil/base_test.go to rely on internal/testutil's TestEnv for sandbox directories and helper utilities.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:26.313392+02:00","updated_at":"2025-11-25T00:24:35.708426+02:00","closed_at":"2025-11-25T00:24:35.708426+02:00","dependencies":[{"issue_id":"hermes-48o","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:26.314647+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-48o","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.442939+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-4fc","title":"Refactor internal/cache for SQLite backend","description":"Replace file-based JSON cache with SQLite database implementation.\n\n- Replace GetOrFetch[T]() with database-based implementation\n- Add cache database connection management (similar to datastore pattern)\n- Keep generic/type-safe interface\n- Maintain backward compatibility during migration\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.111271+02:00","updated_at":"2025-11-17T23:13:04.115787+02:00","closed_at":"2025-11-17T23:13:04.115787+02:00"}
{"id":"hermes-4vu","title":"Cover llm-shared utilities","description":"llm-shared/utils/gofuncs and llm-shared/utils/validate-docs both have 0% coverage. Add tests that exercise function extraction CLI (AST walking, formatting) and validate-docs checking logic so these helper tools stay stable.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T16:54:48.306341+02:00","updated_at":"2025-11-19T01:28:13.621297+02:00","closed_at":"2025-11-19T01:28:13.621297+02:00","dependencies":[{"issue_id":"hermes-4vu","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:48.307429+02:00","created_by":"shrike","metadata":"{}"}]}
{"id":"hermes-4ws","title":"Unify OMDB rate-limit handling between IMDb and Letterboxd importers","description":"Delete cmd/imdb/omdb_limit.go and cmd/letterboxd/omdb_limit.go (19 lines each, identical code). Replace local markOmdbRateLimitReached() and omdbRequestsAllowed() with imports from internal/omdb.MarkRateLimitReached() and internal/omdb.RequestsAllowed() which already exist in internal/omdb/ratelimit.go. Straightforward find-and-replace refactor.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:51.144366+02:00","updated_at":"2025-11-18T21:28:44.942045+02:00","closed_at":"2025-11-18T21:28:44.942045+02:00","dependencies":[{"issue_id":"hermes-4ws","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.703924+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-4wy","title":"Add database connectivity check in NewCacheDB","description":"sql.Open at line 58 in internal/cache/cache.go only validates arguments but doesn't verify connectivity. Add db.Ping() after opening to fail fast on permission/configuration issues rather than waiting for first query. Return descriptive error if Ping fails.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:27.29416+02:00","updated_at":"2025-11-17T23:28:25.101279+02:00","closed_at":"2025-11-17T23:28:25.101279+02:00"}
{"id":"hermes-50q","title":"Implement negative caching for missing books with shorter TTL","description":"Cache 'not found' responses from OpenLibrary and Google Books APIs with a 7-day TTL instead of 30 days. Prevents repeated API calls for books that don't exist in the APIs.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-26T01:08:43.063959+02:00","updated_at":"2025-11-26T08:52:22.90559+02:00","closed_at":"2025-11-26T08:52:22.90559+02:00"}
{"id":"hermes-55o8","title":"Add unit tests for cmd/imdb parser and OMDB client","description":"Currently at 38.5% coverage. Add tests for: TSV parsing edge cases, markdown/JSON formatting, OMDB response handling with cached/mocked responses. Use testdata fixtures and cached responses, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:17.411286+02:00","updated_at":"2025-12-18T00:56:23.509234+02:00","closed_at":"2025-12-18T00:56:23.509234+02:00","close_reason":"Added comprehensive tests for CSV parsing (parseMovieRecord with valid/minimal/null/invalid data), movieToMap, processCSVFile, and loadExistingMediaIDs with multiple edge cases. Coverage improved from 38.5% to 55.0%.","labels":["imdb","testing"],"dependencies":[{"issue_id":"hermes-55o8","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:17.41226+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-57z","title":"Adopt testutil in enrichment TMDB tests","description":"Update internal/enrichment/tmdb_test.go to use internal/testutil for temp dirs, file copies, and cleanup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:43.096006+02:00","updated_at":"2025-11-25T00:27:33.219983+02:00","closed_at":"2025-11-25T00:27:33.219983+02:00","dependencies":[{"issue_id":"hermes-57z","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:43.097378+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-57z","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.519214+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-5j0","title":"Setup: Create feature branch and add chromedp dependency","description":"1. Create feature branch feature/goodreads-chromedp, 2. Add chromedp dependency with go get, 3. Update go.mod/go.sum","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:07.388821+02:00","updated_at":"2025-11-26T00:26:14.647083+02:00","closed_at":"2025-11-26T00:26:14.647083+02:00","dependencies":[{"issue_id":"hermes-5j0","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:07.392591+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-5km","title":"Stabilize and expand internal/tmdb coverage","description":"internal/tmdb coverage was ~20% and fresh go test runs fail at TestFindByIMDBID because httptest.NewServer cannot bind ::1 in restricted env. Add deterministic tests for FindByIMDBID/cache behavior using loopback-safe listeners or injected transports, and cover TMDB client error handling/response parsing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:59.152822+02:00","updated_at":"2025-11-19T09:14:58.503455+02:00","closed_at":"2025-11-19T09:14:58.503455+02:00","dependencies":[{"issue_id":"hermes-5km","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:59.154165+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-5km","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.702878+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-5p7","title":"Create caching documentation","description":"Create new documentation explaining SQLite-based cache with TTL.\n\nCreate: docs/caching.md\n\nContent:\n- Explain cache.db vs hermes.db separation\n- Document TTL behavior (default 30 days)\n- Explain how to configure cache location and TTL\n- Document cache table schemas\n- Explain cache warming strategy\n- Add troubleshooting section\n- Note the migration from JSON files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.977718+02:00","updated_at":"2025-11-18T18:08:58.082982+02:00","closed_at":"2025-11-18T18:08:58.082982+02:00"}
{"id":"hermes-5sq","title":"Update IMDB and Letterboxd importers to use refactored functions","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:58:09.233405+02:00","updated_at":"2025-11-18T23:35:19.689797+02:00","closed_at":"2025-11-18T23:35:19.689797+02:00"}
{"id":"hermes-5tz","title":"Create Google Books API client (cmd/goodreads/googlebooks.go)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:52.777808+02:00","updated_at":"2025-11-26T00:58:07.010586+02:00","closed_at":"2025-11-26T00:58:07.010586+02:00"}
{"id":"hermes-694","title":"Wire up IMDB importer to use TMDB enrichment","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:27.368275+02:00","updated_at":"2025-11-15T01:43:52.73491+02:00","closed_at":"2025-11-15T01:43:52.73491+02:00"}
{"id":"hermes-6a8","title":"Add TTL support to cache system","description":"Implement cache expiration logic with configurable TTL.\n\n- Add TTL checking logic (check cached_at timestamp)\n- Add ClearExpiredCache() function to clean old entries\n- Default TTL: 30 days\n- Update/remove ClearCache() and CacheExists() functions as needed\n\nLocation: internal/cache/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.392414+02:00","updated_at":"2025-11-17T23:16:25.841775+02:00","closed_at":"2025-11-17T23:16:25.841775+02:00"}
{"id":"hermes-6ag","title":"Refactor shared markdown writing/enrichment helpers for movie importers","description":"Consolidate enrichMovieData() (~70 lines each) from cmd/imdb/parser.go:264-343 and cmd/letterboxd/parser.go:238-346. Both implement identical workflow: check existing data, attempt OMDB enrichment, merge fields, attempt TMDB enrichment, combine results. Create internal/enrichment/movie.go with generic EnrichMovie() using interface or generics to handle type differences. Also add TMDB frontmatter helpers like ApplyTMDBData() to update frontmatter with TMDB enrichment, and tag merging utilities.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:08.804775+02:00","updated_at":"2025-11-18T21:33:14.99914+02:00","closed_at":"2025-11-18T21:33:14.99914+02:00","dependencies":[{"issue_id":"hermes-6ag","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.854167+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-6en","title":"Add unit tests for WriteMarkdownFile","description":"Test wrapper delegates correctly to WriteFileWithOverwrite, logging behavior for written vs skipped files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.598182+02:00","updated_at":"2025-11-19T18:21:30.922218+02:00","closed_at":"2025-11-19T18:21:30.922218+02:00","dependencies":[{"issue_id":"hermes-6en","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.510638+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-6fr","title":"Download local covers with attachments and update rules","description":"- Download all covers to attachments/ subdir under markdown output (e.g. markdown/goodreads/attachments/)\n- Skip re-downloading existing covers unless --update-covers is set\n- Update links to point to local attachments and use frontmatter key 'cover' with attachment path (e.g. attachments/Arcane - cover.jpg)\n- Render markdown images with max size using Obsidian syntax ![[Arcane - cover.jpg|250]]","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:40:03.767784+02:00","updated_at":"2025-11-18T10:03:37.213998+02:00","closed_at":"2025-11-18T10:03:37.213998+02:00"}
{"id":"hermes-6j64","title":"Phase 4: Update Importers to obsidian.TagSet","description":"Replace fileutil.TagCollector with obsidian.TagSet across all importers and ensure consistent tag normalization using obsidian.NormalizeTag() for TMDB and Steam.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T01:37:26.372975+02:00","updated_at":"2025-12-27T01:37:26.372975+02:00"}
{"id":"hermes-6l7","title":"Move internal/tmdb cache tests to testutil","description":"Refactor internal/tmdb/cache_test.go to create sandboxes via internal/testutil and drop bespoke temp dir plumbing.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:49.430079+02:00","updated_at":"2025-11-25T00:28:13.407811+02:00","closed_at":"2025-11-25T00:28:13.407811+02:00","dependencies":[{"issue_id":"hermes-6l7","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:49.430812+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-6l7","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.595354+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-6r6","title":"Move fileutil helpers tests to testutil","description":"Update internal/fileutil/fileutil_test.go to run inside internal/testutil TestEnv rather than os.MkdirTemp/CreateTemp combos.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:46:06.351662+02:00","updated_at":"2025-11-25T09:14:56.804059+02:00","closed_at":"2025-11-25T09:14:56.804059+02:00","dependencies":[{"issue_id":"hermes-6r6","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:46:06.354932+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-6r6","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.669938+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-6wy","title":"Extract command parameter setup boilerplate","description":"Each importer has a ParseXWithParams function with nearly identical structure (~50 lines x 4 = 200+ lines). Create a generic SetupImporterCommand helper in cmdutil that handles the common setup pattern.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T22:38:57.19022+02:00","updated_at":"2025-11-25T22:38:57.19022+02:00","labels":["high-impact","refactor"]}
{"id":"hermes-6xf","title":"Add cache configuration to CLI and config file","description":"Add cache settings to command-line flags and config.yaml.\n\nCLI flags (cmd/root.go):\n- --cache-dbfile (default: cache.db)\n- --cache-ttl (default: 30 days)\n\nConfig file (config.yaml):\n- cache.dbfile\n- cache.ttl\n\nFollow existing pattern for datasette config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.956911+02:00","updated_at":"2025-11-17T22:59:46.017482+02:00","closed_at":"2025-11-17T22:59:46.017482+02:00"}
{"id":"hermes-6yx","title":"Implement FindByIMDBID using TMDB find endpoint","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.640364+02:00","updated_at":"2025-11-18T10:40:42.234553+02:00","closed_at":"2025-11-18T10:40:42.234553+02:00"}
{"id":"hermes-739s","title":"Add unit tests for cmd/goodreads parser and API clients","description":"Currently at 42.2% coverage. Add tests for: CSV parsing, markdown/JSON formatting, OpenLibrary/GoogleBooks response handling using cached responses, getCachedBook function. Use testdata fixtures and cached API responses, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:17.744504+02:00","updated_at":"2025-12-18T07:25:24.812386+02:00","closed_at":"2025-12-18T07:25:24.812386+02:00","close_reason":"Added comprehensive tests for CSV parsing functions: parseBookRecord (with various edge cases), parseIntField, parseFloatField, sanitizeISBNValue, countBooksInCSV, and bookToMap. Coverage improved from 42.2% to 48.2%.","labels":["goodreads","testing"],"dependencies":[{"issue_id":"hermes-739s","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:17.746293+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-7do","title":"Make cover download and content generation default in enhance command","description":"Remove --tmdb-download-cover and --tmdb-generate-content flags and make both features the default behavior when running enhance command","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T07:17:04.841784+02:00","updated_at":"2025-11-17T07:19:00.152534+02:00","closed_at":"2025-11-17T07:19:00.152534+02:00"}
{"id":"hermes-7ie","title":"Migrate Letterboxd cache to SQLite","description":"Update Letterboxd importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/letterboxd/cache.go\n- Use omdb_cache table (same as IMDb)\n- Remove cross-cache file lookup logic (no longer needed with shared DB)\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual Letterboxd import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.15936+02:00","updated_at":"2025-11-17T23:50:04.595667+02:00","closed_at":"2025-11-17T23:50:04.595667+02:00"}
{"id":"hermes-7pb8","title":"Clean up thousands of generated test files in temp directories","description":"Remove and configure git ignore for the thousands of generated test files in cmd/*/markdown/var/folders/ paths. Set up proper test cleanup procedures.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T09:34:14.449732+02:00","updated_at":"2025-12-22T09:34:14.449732+02:00","dependencies":[{"issue_id":"hermes-7pb8","depends_on_id":"hermes-moec","type":"discovered-from","created_at":"2025-12-22T09:34:14.450941+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-7ryz","title":"Extract common error handling patterns to shared utilities","description":"Create shared error handling utilities in internal/errors/ to replace 100+ duplicated fmt.Errorf patterns across cmd/ packages.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:36:06.215525+02:00","updated_at":"2025-12-22T09:36:06.215525+02:00","dependencies":[{"issue_id":"hermes-7ryz","depends_on_id":"hermes-dg3p","type":"discovered-from","created_at":"2025-12-22T09:36:06.21725+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-869","title":"Refactor cmd/goodreads/parser.go into smaller parsing phases","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:36.02574+02:00","updated_at":"2025-11-24T23:57:59.810879+02:00","closed_at":"2025-11-24T23:57:59.810879+02:00","dependencies":[{"issue_id":"hermes-869","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:39.037254+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-89l","title":"Add unit tests for AddCoverToMarkdown","description":"Test TMDB cover preferred over fallback, download failure fallback to URL, no cover scenario, all options combinations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.392261+02:00","updated_at":"2025-11-19T18:20:39.673619+02:00","closed_at":"2025-11-19T18:20:39.673619+02:00","dependencies":[{"issue_id":"hermes-89l","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.583143+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-8a4","title":"Add tests for automation functionality","description":"1. Create cmd/goodreads/automation_test.go with unit tests, 2. Update cmd/goodreads/cmd_test.go to test new flags with mocked automation seam","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:08.033763+02:00","updated_at":"2025-11-26T00:32:33.826533+02:00","closed_at":"2025-11-26T00:32:33.826533+02:00","labels":["testing"],"dependencies":[{"issue_id":"hermes-8a4","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:08.035854+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-8a4","depends_on_id":"hermes-13o","type":"blocks","created_at":"2025-11-25T22:03:55.486031+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-8ch","title":"Add Google Books data types to cmd/goodreads/types.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:52.57015+02:00","updated_at":"2025-11-26T00:57:44.789924+02:00","closed_at":"2025-11-26T00:57:44.789924+02:00"}
{"id":"hermes-8rv0","title":"Update CHANGELOG.md with migration notes","description":"Document changes (centralized obsidian handling, flow-style tags, normalization), deprecations (enrichment/fileutil functions), and link to migration guide.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:32.478573+02:00","updated_at":"2025-12-27T01:38:32.478573+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-8rv0","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:32.488642+02:00","created_by":"daemon"}]}
{"id":"hermes-8v5","title":"Rename cover_url frontmatter to cover for Obsidian compatibility","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:47.095812+02:00","updated_at":"2025-11-18T10:03:36.610421+02:00","closed_at":"2025-11-18T10:03:36.610421+02:00"}
{"id":"hermes-8vy","title":"Add HTML color code detection and replacement","description":"Detect #RRGGBB color codes in cover field and replace with actual cover downloads. Update cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:10:59.89189+02:00","updated_at":"2025-11-17T21:52:45.453155+02:00","closed_at":"2025-11-17T21:52:45.453155+02:00"}
{"id":"hermes-8xv","title":"Improve test coverage","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:26:42.391035+02:00","updated_at":"2025-11-19T09:15:53.697527+02:00","closed_at":"2025-11-19T09:15:53.697527+02:00"}
{"id":"hermes-9u1","title":"Add unit tests for TagCollector","description":"Test NewTagCollector, Add, AddIf (true/false conditions), AddFormat, GetSorted, deduplication behavior, empty tag handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:46.937533+02:00","updated_at":"2025-11-19T18:19:43.099076+02:00","closed_at":"2025-11-19T18:19:43.099076+02:00","dependencies":[{"issue_id":"hermes-9u1","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.658568+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-9wq","title":"Add coverage for Steam importer","description":"cmd/steam coverage is ~37%. Missing tests for cache.go getCachedGame, ParseSteamWithParams, Steam client fetchGameData/GetGameDetails/ImportSteamGames, parser helpers, and JSON writer. Add fixtures or stub HTTP responses so CLI/JSON/markdown paths are exercised without live Steam API calls.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:38.313403+02:00","updated_at":"2025-11-19T09:15:36.383081+02:00","closed_at":"2025-11-19T09:15:36.383081+02:00","dependencies":[{"issue_id":"hermes-9wq","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:38.314702+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-9wq","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.617548+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-9za","title":"Add Goodreads browser automation","description":"Add Goodreads browser automation so users can run `hermes import goodreads --automated` without manually fetching the CSV. The existing importer already assumes a local CSV via the `--input` flag (`cmd/root.go` and `cmd/goodreads/cmd.go`), so this work is purely about downloading that file automatically and then piping it back into the current parser.\n\n## Implementation outline\n\n1. **Dependencies \u0026 wiring**\n   - Add `github.com/chromedp/chromedp` (and the generated `cdproto` packages such as `github.com/chromedp/cdproto/page`) to `go.mod` / `go.sum`.\n   - Create `cmd/goodreads/automation.go` to keep the browser automation isolated from parsing logic.\n   - Introduce a seam such as `var downloadGoodreadsCSV = AutomateGoodreadsExport` inside the package so CLI tests can stub the automation when we exercise the new flags.\n\n2. **CLI / config surface (`cmd/root.go`, `config.yml`, docs)**\n   - Extend `GoodreadsCmd` with `Automated bool`, `GoodreadsEmail string`, `GoodreadsPassword string`, `Headful bool` (optional), `DownloadDir string`, and `AutomationTimeout time.Duration`. The `--automated` flag should skip the existing “input file required” validation, while the legacy CSV path still works when automation is disabled.\n   - Bind those fields to config keys via Viper so users can keep credentials outside the CLI invocation, e.g. `goodreads.automation.email`, `.password`, `.headful`, `.download_dir`, `.timeout`. Document how to source them from environment variables to avoid storing plaintext in repos.\n   - When `--automated` is set, resolve the credentials (flag \u003e env \u003e config), build an `AutomationOptions` struct, and call the automation helper before continuing with `parseGoodreads(...)`. Re‑use the `cmdutil.SetupOutputDir` flow so we do not duplicate business logic.\n\n3. **Automation flow (`cmd/goodreads/automation.go`)**\n   - Define `type AutomationOptions struct { Email, Password, DownloadDir string; Headless bool; Timeout time.Duration }` and `func AutomateGoodreadsExport(ctx context.Context, opts AutomationOptions) (string, error)`.\n   - Inside the helper:\n     * Create a chromedp allocator (`chromedp.NewExecAllocator`) with sane defaults (`chromedp.Flag(\"headless\", opts.Headless)`, `chromedp.Flag(\"disable-gpu\", true)`, `chromedp.Flag(\"disable-sync\", true)`, etc.) and ensure downloads land inside a temporary directory (use `page.SetDownloadBehavior(page.SetDownloadBehaviorBehaviorAllow).WithDownloadPath(tmpDir)`).\n     * Navigate to `https://www.goodreads.com/user/sign_in`, wait for the login form (`input[name=\"user[email]\"]`, `input[name=\"user[password]\"]`), fill credentials, and submit.\n     * Block until the profile avatar / site header loads (e.g. wait for `.siteHeader__topLevelItem--profile` to become visible) so we know authentication succeeded.\n     * Navigate to `https://www.goodreads.com/review/import`, click the “Export Library” button (`//input[@value='Export Library']`), and poll for the generated download link (`a[href*=\"goodreads_library_export.csv\"]`). Goodreads queues exports, so wrap this portion in a retry loop with a user-configurable timeout (default 2–3 minutes) and surface helpful log lines via `slog`.\n     * Once the CSV download finishes, return the on-disk path; copy/move it into the location Hermes already expects (`goodreads_library_export.csv` inside the working directory or under `exports/`), and make sure callers clean up temporary directories.\n   - Guard rails: bubble up authentication failures with actionable errors, redact passwords in logs, and respect `context.WithTimeout` from the caller so Ctrl‑C cancels the headless browser cleanly.\n\n4. **Parser integration**\n   - Refactor `cmd/goodreads/cmd.go` / `ParseGoodreadsWithParams` so the resulting CSV path (manual or automated) is injected via function parameters instead of mutating the global `csvFile` var directly. This keeps automation from having to know about package-level globals and will make it easier to test.\n   - After automation delivers the CSV, set `csvFile` to that temp path, then run the existing `ParseGoodreads` exactly as today so markdown/JSON/sqlite flows stay untouched.\n\n5. **Testing**\n   - Extend `cmd/goodreads/cmd_test.go` to cover the new `--automated` path by faking `downloadGoodreadsCSV` and asserting that `parseGoodreadsFunc` receives the generated file path and that `--input` stays optional when automation is enabled.\n   - Add targeted unit tests for any pure helpers in `automation.go` (e.g., selector builders, timeout calculation). For browser actions, lean on dependency injection so we can provide a mock chromedp runner and avoid launching Chrome during tests.\n\n6. **Docs \u0026 release notes**\n   - Update `docs/importers/goodreads.md` (and the README import section) with an “Automated export” subsection that documents the new flags, config block, required dependencies (Chrome/Chromium installed, headless by default), and security guidance for credentials.\n   - Mention the new workflow in `CHANGELOG` / release notes if applicable and remind contributors to run `task build` to pick up the `chromedp` dependency.\n\nCompletion criteria: running `hermes import goodreads --automated --goodreads-email $EMAIL --goodreads-password $PASSWORD` downloads the latest CSV with chromedp, pipes it through the current importer, and all `task build` checks pass.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-19T00:11:42.393974+02:00","updated_at":"2025-12-18T01:12:00.350161+02:00","closed_at":"2025-12-16T20:10:14.807888+02:00","dependencies":[{"issue_id":"hermes-9za","depends_on_id":"hermes-02s","type":"parent-child","created_at":"2025-11-20T21:20:39.680786+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-a1k","title":"Add unit tests for AddTMDBEnrichmentFields","description":"Test zero TMDB ID skipping, empty content markdown, total episodes handling, full enrichment scenario","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:44:47.173602+02:00","updated_at":"2025-11-19T18:19:43.356919+02:00","closed_at":"2025-11-19T18:19:43.356919+02:00","dependencies":[{"issue_id":"hermes-a1k","depends_on_id":"hermes-apg","type":"parent-child","created_at":"2025-11-19T09:27:09.727829+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-a5w","title":"Add enrichBookFromGoogleBooks function to cmd/goodreads/goodreads.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:53.24716+02:00","updated_at":"2025-11-26T00:58:58.109025+02:00","closed_at":"2025-11-26T00:58:58.109025+02:00"}
{"id":"hermes-aby","title":"Update enrichment to use cached TMDB calls","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.771464+02:00","updated_at":"2025-11-18T10:41:44.552353+02:00","closed_at":"2025-11-18T10:41:44.552353+02:00"}
{"id":"hermes-ae5","title":"Add coverage for internal/tui select UI","description":"internal/tui/select.go is entirely untested (Title/FilterValue/Description formatting, delegate render/update, model lifecycle and selection helpers). Add unit tests with bubbletea list model to exercise input update, rendering, truncation, and vote formatting to prevent regressions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:45.402518+02:00","updated_at":"2025-11-19T01:28:09.157294+02:00","closed_at":"2025-11-19T01:28:09.157294+02:00","dependencies":[{"issue_id":"hermes-ae5","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:45.403953+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-ae5","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.864553+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-aeg","title":"Align IMDb and Letterboxd enrichment/cover flow via shared helper","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T00:21:30.998034+02:00","updated_at":"2025-11-19T00:26:52.664095+02:00","closed_at":"2025-11-19T00:26:52.664095+02:00","dependencies":[{"issue_id":"hermes-aeg","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:41.864668+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-akio","title":"Update README with Chrome/Chromium requirements for automation","description":"Clearly document that Chrome/Chromium is required for automated export functionality (goodreads --automated, letterboxd automation).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:34:55.639959+02:00","updated_at":"2025-12-22T09:34:55.639959+02:00","dependencies":[{"issue_id":"hermes-akio","depends_on_id":"hermes-41en","type":"discovered-from","created_at":"2025-12-22T09:34:55.641052+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-anlw","title":"Add automated IMDb importer with browser automation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T01:13:42.017776+02:00","updated_at":"2025-12-18T01:14:03.887552+02:00","closed_at":"2025-12-18T01:14:03.887552+02:00","close_reason":"Will recreate with proper description"}
{"id":"hermes-apg","title":"Add unit tests for core utilities","description":"Collection of tasks to add unit tests for various utility functions","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-19T09:26:57.273731+02:00","updated_at":"2025-11-19T18:22:02.003018+02:00","closed_at":"2025-11-19T18:22:02.003018+02:00"}
{"id":"hermes-ax6d","title":"Add agent slash command for code health scans","description":"Add a slash command for the CLI LLM agent that inspects the codebase for code-health targets: very large files that may need refactors, low test coverage hotspots, duplicated/redundant systems, legacy or dead code, and poorly documented areas. Allow splitting into multiple slash commands if combining everything is too heavy.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T23:48:08.946987+02:00","updated_at":"2025-12-18T01:12:00.351621+02:00","closed_at":"2025-12-17T01:06:02.834716+02:00"}
{"id":"hermes-axei","title":"Migrate Goodreads importer to obsidian.TagSet","description":"Replace direct string slice manipulation with obsidian.NewTagSet() in cmd/goodreads/markdown.go. Refactor from append() calls to TagSet methods for consistency.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:02.096592+02:00","updated_at":"2025-12-27T01:38:02.096592+02:00","labels":["goodreads","phase-4","refactor"],"dependencies":[{"issue_id":"hermes-axei","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:38:02.107065+02:00","created_by":"daemon"}]}
{"id":"hermes-b43n","title":"Standardize cache TTL behavior across all modules","description":"Ensure consistent cache TTL logic, expiration handling, and negative caching patterns across all cache implementations.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:36:37.608566+02:00","updated_at":"2025-12-22T09:36:37.608566+02:00","dependencies":[{"issue_id":"hermes-b43n","depends_on_id":"hermes-r1lc","type":"discovered-from","created_at":"2025-12-22T09:36:37.610457+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-baf","title":"Use testutil in cmd/enhance CLI tests","description":"Move cmd/enhance/cmd_test.go to the internal/testutil TestEnv + golden helpers instead of manual temp file setup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:53.536432+02:00","updated_at":"2025-11-25T00:28:51.064695+02:00","closed_at":"2025-11-25T00:28:51.064695+02:00","dependencies":[{"issue_id":"hermes-baf","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:53.537344+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-baf","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.752265+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-bdf","title":"Adopt testutil across hermes tests","description":"Track migration of importer and helper tests onto internal/testutil for consistent sandboxes and fixtures.","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-11-20T21:19:20.819399+02:00","updated_at":"2025-11-25T09:50:50.290404+02:00","closed_at":"2025-11-25T09:50:50.290404+02:00"}
{"id":"hermes-bfb","title":"Consolidate identical getSubjects/getSubjectPeople functions","description":"In cmd/goodreads/parser_helpers.go lines 31-60, getSubjects() and getSubjectPeople() are byte-for-byte identical (29 lines). Replace both with a single function.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T22:38:56.586411+02:00","updated_at":"2025-11-25T22:41:27.725901+02:00","closed_at":"2025-11-25T22:41:27.725901+02:00","labels":["critical","refactor"]}
{"id":"hermes-bhh","title":"Simplify datasette configuration","description":"Remove remote-specific config options from CLI and config file.\n\nRemove from cmd/root.go:\n- --datasette-mode flag (no longer needed)\n- --datasette-url flag\n- --datasette-token flag\n\nKeep only:\n- --datasette (boolean to enable/disable)\n- --datasette-dbfile (path, default: hermes.db)\n\nUpdate config.yaml structure to match.\nSet datasette enabled=true by default.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.87343+02:00","updated_at":"2025-11-17T23:59:13.206304+02:00","closed_at":"2025-11-17T23:59:13.206304+02:00"}
{"id":"hermes-bn6","title":"Fix SQL injection risk in cache table name interpolation","description":"Cache methods (Get, Set, ClearExpired, ClearAll, CacheExists) directly interpolate tableName into SQL queries via fmt.Sprintf. Add validation against AllCacheSchemas whitelist before constructing queries to prevent potential SQL injection if untrusted input ever reaches these methods. Files: internal/cache/cache.go lines 163, 193, 213, 235, 250","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T23:18:26.998268+02:00","updated_at":"2025-11-17T23:21:31.818747+02:00","closed_at":"2025-11-17T23:21:31.818747+02:00"}
{"id":"hermes-bue","title":"Enable cache only when flag set; avoid stale dev artifacts","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:33:00.777236+02:00","updated_at":"2025-11-19T20:37:12.845923+02:00","closed_at":"2025-11-19T20:37:12.845923+02:00","dependencies":[{"issue_id":"hermes-bue","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:33:00.778127+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-bue","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.599721+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-bv1","title":"Cover CLI entrypoints","description":"Packages hermes (main) and cmd/root.go sit at 0% coverage. Add smoke tests around cmd.Execute/initConfig/updateGlobalConfig and Kong parsing to exercise Run() for Goodreads/IMDB/Letterboxd/Steam/Enhance. Include cases for config fallback vs required flags to guard error messages and app exit paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:52:52.820317+02:00","updated_at":"2025-11-18T17:44:20.873626+02:00","closed_at":"2025-11-18T17:44:20.873626+02:00","dependencies":[{"issue_id":"hermes-bv1","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:52:52.8213+02:00","created_by":"shrike","metadata":"{}"}]}
{"id":"hermes-c5k","title":"Add tests for TMDB caching","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T10:39:09.0644+02:00","updated_at":"2025-11-18T10:43:37.570386+02:00","closed_at":"2025-11-18T10:43:37.570386+02:00"}
{"id":"hermes-c7i","title":"Migrate IMDb cache to SQLite","description":"Update IMDb importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/imdb/cache.go\n- Use omdb_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedMovie() function signature\n- Test with actual IMDb import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.787434+02:00","updated_at":"2025-11-17T23:44:45.826657+02:00","closed_at":"2025-11-17T23:44:45.826657+02:00"}
{"id":"hermes-cd4","title":"Implement smart needs detection (NeedsCover, NeedsMetadata, NeedsTMDB)","description":"Add intelligent detection to only update what's missing. Skip notes that already have all data. Implement in cmd/enhance/parser.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.099407+02:00","updated_at":"2025-11-17T22:01:13.285308+02:00","closed_at":"2025-11-17T22:01:13.285308+02:00"}
{"id":"hermes-cow","title":"Run task build and verify all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:54.060594+02:00","updated_at":"2025-11-26T01:00:46.951018+02:00","closed_at":"2025-11-26T01:00:46.951018+02:00"}
{"id":"hermes-cp21","title":"Fix linting issues (interface{} → any) in parser_test.go","description":"Replace 16+ instances of interface{} with any in cmd/enhance/parser_test.go to address linting issues.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:36:27.689072+02:00","updated_at":"2025-12-22T09:36:27.689072+02:00","dependencies":[{"issue_id":"hermes-cp21","depends_on_id":"hermes-dg3p","type":"discovered-from","created_at":"2025-12-22T09:36:27.690838+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-cxe","title":"Update content injection to use marker-based replacement","description":"Use markers for content replacement instead of simple append across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go to use marker-based injection","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.218902+02:00","updated_at":"2025-11-17T00:30:33.482882+02:00","closed_at":"2025-11-17T00:30:33.482882+02:00","dependencies":[{"issue_id":"hermes-cxe","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.739097+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-cz7i","title":"Update importer tests for normalized tags","description":"Update test assertions in cmd/imdb/parser_test.go, cmd/letterboxd/parser_test.go, cmd/goodreads/parser_test.go, and internal/tmdb/client_internal_test.go for normalized tag output (spaces→hyphens, \u0026 →and).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:06.13248+02:00","updated_at":"2025-12-27T01:38:06.13248+02:00","labels":["phase-4","testing"],"dependencies":[{"issue_id":"hermes-cz7i","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:38:06.137824+02:00","created_by":"daemon"}]}
{"id":"hermes-d45","title":"Add coverage for IMDb importer","description":"cmd/imdb coverage is ~24%. Uncovered areas include cache.go getCachedMovie, ParseImdbWithParams CLI wrapper, OMDB fetchMovieData, JSON writer, markdown validation/mapTypeToTag, and error paths. Add tests with stub OMDB responses to avoid network and to exercise TMDB/cover option flags.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:16.918258+02:00","updated_at":"2025-11-19T09:15:14.119284+02:00","closed_at":"2025-11-19T09:15:14.119284+02:00","dependencies":[{"issue_id":"hermes-d45","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:16.9193+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-d45","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.443854+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-dg3p","title":"Code Duplication and Error Handling Consolidation","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-22T09:33:27.846889+02:00","updated_at":"2025-12-22T09:33:27.846889+02:00"}
{"id":"hermes-dnc","title":"Fix staticcheck ST1005 - uncapitalize error strings in cmd/root.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:11.156764+02:00","updated_at":"2025-11-15T01:50:07.193718+02:00","closed_at":"2025-11-15T01:50:07.193718+02:00"}
{"id":"hermes-dsbs","title":"Add automated IMDb importer with browser automation","description":"Based on automation patterns from Goodreads and Letterboxd importers, implement automated IMDb export download using ChromeDP web scraping. Currently IMDb requires manual CSV export, but users should be able to automate login and export download similar to other services.\n\nImplementation should follow established patterns:\n- ChromeDP-based browser automation (headless/headful support)\n- Login to IMDb account with username/password\n- Navigate to export page and trigger CSV download\n- Handle download polling and file management\n- Follow the same automation.go structure as Goodreads/Letterboxd\n- Integrate with existing root.go initialization pattern\n- Support timeout and dry-run modes\n\nKey files to create/modify:\n- cmd/imdb/automation.go (new automation implementation)\n- cmd/imdb/cmd.go (add automation flags and integration)\n- cmd/root.go (initialize Runner field if missing)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T01:14:08.7741+02:00","updated_at":"2025-12-18T01:14:08.7741+02:00"}
{"id":"hermes-e01","title":"Use testutil in llm-shared gofuncs tests","description":"Update llm-shared/utils/gofuncs/gofuncs_test.go to consume internal/testutil instead of raw t.TempDir for filesystem fixtures.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:32.619295+02:00","updated_at":"2025-11-25T09:19:31.884372+02:00","closed_at":"2025-11-25T09:19:31.884372+02:00","dependencies":[{"issue_id":"hermes-e01","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:32.620162+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-e01","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.841039+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e50","title":"Mark rated movies as seen in front matter","description":"Add seen:true to movie front matter whenever a rating exists so rated movies are marked as seen in exports.\nEnsure importer/backfill logic keys off rating presence without affecting unrated entries.\nUpdate docs/tests to capture the new field.","acceptance_criteria":"Movies with ratings export front matter containing seen: true.\nMovies without ratings keep seen omitted/false to match existing behaviour.\nAutomated tests cover rated vs unrated movie cases.\nDocs mention the new seen flag in movie front matter.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-18T10:45:41.015823+02:00","updated_at":"2025-11-18T18:13:53.63405+02:00","closed_at":"2025-11-18T18:13:53.63405+02:00"}
{"id":"hermes-e80","title":"Common test framework for file operations","description":"Create internal/testutil package with sandboxed test environment, golden file helpers, and config management utilities","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T23:52:53.494943+02:00","updated_at":"2025-11-19T09:36:57.237335+02:00","closed_at":"2025-11-19T09:36:57.237335+02:00"}
{"id":"hermes-e80.1","title":"Create TestEnv sandboxed test environment","description":"Create internal/testutil/testutil.go with TestEnv struct that validates all paths stay within temp dir, provides Path(), WriteFile(), ReadFile() methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:04.36975+02:00","updated_at":"2025-11-19T09:30:46.23653+02:00","closed_at":"2025-11-19T09:30:46.23653+02:00","dependencies":[{"issue_id":"hermes-e80.1","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.750707+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e80.2","title":"Create GoldenHelper for golden file testing","description":"Create internal/testutil/golden.go with GoldenHelper that handles golden file comparison with UPDATE_GOLDEN env var support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:04.627954+02:00","updated_at":"2025-11-19T09:31:12.947381+02:00","closed_at":"2025-11-19T09:31:12.947381+02:00","dependencies":[{"issue_id":"hermes-e80.2","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.809879+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e80.3","title":"Create test config management utilities","description":"Create internal/testutil/config.go with ResetConfig() and SetTestConfig() helpers that save/restore config state on test cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:53:05.014751+02:00","updated_at":"2025-11-19T09:31:41.975665+02:00","closed_at":"2025-11-19T09:31:41.975665+02:00","dependencies":[{"issue_id":"hermes-e80.3","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.868144+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e80.4","title":"Fix tmdb/cache_test.go safety issue","description":"Replace fixed /tmp/hermes-tmdb-cache-tests path with t.TempDir() to prevent conflicts and ensure cleanup","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-18T23:53:05.393669+02:00","updated_at":"2025-11-19T09:31:59.081736+02:00","closed_at":"2025-11-19T09:31:59.081736+02:00","dependencies":[{"issue_id":"hermes-e80.4","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.929106+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e80.5","title":"Migrate golden file tests to use testutil helpers","description":"Refactor cmd/imdb/markdown_test.go, cmd/goodreads/markdown_test.go, cmd/steam/markdown_test.go, cmd/letterboxd/markdown_test.go to use GoldenHelper","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T23:53:07.01737+02:00","updated_at":"2025-11-19T09:33:33.864387+02:00","closed_at":"2025-11-19T09:33:33.864387+02:00","dependencies":[{"issue_id":"hermes-e80.5","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:51.986607+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e80.6","title":"Add tests for testutil package","description":"Create internal/testutil/testutil_test.go with tests for TestEnv path validation, GoldenHelper comparison, config reset behavior","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-18T23:53:07.312489+02:00","updated_at":"2025-11-19T09:34:22.269926+02:00","closed_at":"2025-11-19T09:34:22.269926+02:00","dependencies":[{"issue_id":"hermes-e80.6","depends_on_id":"hermes-e80","type":"parent-child","created_at":"2025-11-19T09:26:52.050185+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-e9q","title":"Fix Goodreads importer output dir creation failure","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:55:56.795332+02:00","updated_at":"2025-11-18T08:54:23.163061+02:00","closed_at":"2025-11-18T08:54:23.163061+02:00"}
{"id":"hermes-ekx","title":"Add coverage for Goodreads importer","description":"cmd/goodreads sits around 33% coverage. Missing tests for cache retrieval, ParseGoodreadsWithParams CLI wrapper, OpenLibrary fetchers (getHTTPClient/fetchBookData/fetchEditionData/fetchCoverImage), and JSON writer. Current tests fail offline when cover downloads fall back to remote URLs; add fixtures/mocking so parsing and cover handling are exercised without network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:54:06.296525+02:00","updated_at":"2025-11-19T09:15:07.359866+02:00","closed_at":"2025-11-19T09:15:07.359866+02:00","dependencies":[{"issue_id":"hermes-ekx","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:54:06.297661+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-ekx","depends_on_id":"hermes-8xv","type":"parent-child","created_at":"2025-11-18T23:26:45.355901+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-ep7m","title":"Add Datasette integration test coverage","description":"Create tests for Datasette export functionality, remote API integration, and SQLite output to ensure core export paths work correctly.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:58.894994+02:00","updated_at":"2025-12-22T09:35:58.894994+02:00","dependencies":[{"issue_id":"hermes-ep7m","depends_on_id":"hermes-rwib","type":"discovered-from","created_at":"2025-12-22T09:35:58.896162+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-eyq","title":"Use testutil in cmd/imdb CLI tests","description":"Refactor cmd/imdb/cmd_test.go to create sandboxes and golden fixtures through internal/testutil instead of bespoke temp dirs.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:13.851266+02:00","updated_at":"2025-11-25T09:49:00.992413+02:00","closed_at":"2025-11-25T09:49:00.992413+02:00","dependencies":[{"issue_id":"hermes-eyq","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:13.851937+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-eyq","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.921721+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-eywj","title":"Phase 3: Deprecate Enrichment Tag Functions","description":"Mark legacy enrichment tag functions as deprecated and guide users to obsidian equivalents. This is a quick, low-risk phase with no behavior changes.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-27T01:37:25.771018+02:00","updated_at":"2025-12-27T01:46:22.798811+02:00","closed_at":"2025-12-27T01:46:22.798811+02:00","close_reason":"All Phase 3 tasks completed. Both enrichment tag functions (MergeTags and TagsFromAny) now have deprecation notices with clear migration guidance."}
{"id":"hermes-ezx","title":"Fallback to TMDB when OMDB rate limited","description":"Letterboxd enrichment stops after OMDB rate limit hits because errors from cache.GetOrFetch wrap the RateLimitError. The wrapped error bypasses the rate-limit guard and bubbles up, so TMDB enrichment is never attempted and the run logs 'failed to fetch data: OMDB API request limit reached' before skipping the file.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-18T10:54:22.451722+02:00","updated_at":"2025-11-19T00:54:17.111822+02:00","closed_at":"2025-11-19T00:54:17.111822+02:00"}
{"id":"hermes-f3q","title":"Deduplicate enhance/imdb/letterboxd importer helpers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:27:42.83232+02:00","updated_at":"2025-11-19T01:09:27.236666+02:00","closed_at":"2025-11-19T01:09:27.236666+02:00"}
{"id":"hermes-fige","title":"Add unit tests for cmd/steam parser and formatters","description":"Currently at 42.6% coverage. Add tests for: Steam API response parsing, markdown/JSON formatting, achievement/playtime handling, error cases. Use testdata fixtures with cached responses, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:18.191391+02:00","updated_at":"2025-12-18T07:31:35.001627+02:00","closed_at":"2025-12-18T07:31:35.001627+02:00","close_reason":"Added comprehensive unit tests for cmd/steam parser, JSON formatter, and API response parsing. Coverage improved from 42.6% to 49.7%. Tests include: gameDetailsToMap, writeGameToJson, Steam API JSON parsing, Run method with config/flag handling.","labels":["steam","testing"],"dependencies":[{"issue_id":"hermes-fige","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:18.192303+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-fo2q","title":"Update TMDB to use obsidian.NormalizeTag()","description":"Replace sanitizeGenreName() in internal/tmdb/helpers.go with obsidian.NormalizeTag(). Update call site in internal/tmdb/genres.go. More comprehensive normalization with regex-based hyphen collapsing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:57.415376+02:00","updated_at":"2025-12-27T01:49:11.10944+02:00","closed_at":"2025-12-27T01:49:11.10944+02:00","close_reason":"Replaced sanitizeGenreName() with obsidian.NormalizeTag() in TMDB package. Updated genres.go to use obsidian.NormalizeTag(), removed sanitizeGenreName from helpers.go, and updated test to verify new normalization behavior (preserves / for hierarchical tags).","labels":["phase-4","refactor","tmdb"],"dependencies":[{"issue_id":"hermes-fo2q","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:37:57.423479+02:00","created_by":"daemon"}]}
{"id":"hermes-fprh","title":"Add unit tests for cmd/enhance core functions","description":"Currently at 50.9% coverage. Add tests for: EnhanceNotes workflow, resolveLetterboxdURI, generateLetterboxdSearchURL, extractTitleFromPath. Use local markdown files and mocked TMDB responses, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:18.569516+02:00","updated_at":"2025-12-18T07:35:39.218587+02:00","closed_at":"2025-12-18T07:35:39.218587+02:00","close_reason":"Added comprehensive unit tests for cmd/enhance core functions. Coverage improved from 66.4% to 73.4%. Tests include: Run method (100%), generateLetterboxdSearchURL (100%), resolveLetterboxdURI (52.9%), with various edge cases and error handling.","labels":["enhance","testing"],"dependencies":[{"issue_id":"hermes-fprh","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:18.570591+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-fsr","title":"Improve data combination logic between OMDB and TMDB","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-18T10:39:08.92293+02:00","updated_at":"2025-11-18T10:42:47.663694+02:00","closed_at":"2025-11-18T10:42:47.663694+02:00"}
{"id":"hermes-gays","title":"Add deprecation comments to enrichment/tags.go","description":"Add deprecation notices to MergeTags() and TagsFromAny() functions with clear migration guidance to obsidian equivalents. Include removal timeline (v2.0.0) and behavioral differences.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:36.382137+02:00","updated_at":"2025-12-27T01:45:01.603814+02:00","closed_at":"2025-12-27T01:45:01.603814+02:00","close_reason":"Added deprecation notices to MergeTags() and TagsFromAny() with clear migration guidance to obsidian equivalents, removal timeline (v2.0.0), and behavioral differences documented","labels":["deprecation","phase-3"],"dependencies":[{"issue_id":"hermes-gays","depends_on_id":"hermes-eywj","type":"part-of","created_at":"2025-12-27T01:37:36.390987+02:00","created_by":"daemon"}]}
{"id":"hermes-ghv","title":"IMDb importer misses covers when omdb.api_key is used","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-19T00:13:12.300358+02:00","updated_at":"2025-11-19T00:14:23.509594+02:00","closed_at":"2025-11-19T00:14:23.509594+02:00"}
{"id":"hermes-gvk","title":"Remove remote datasette client code","description":"Delete remote Datasette functionality - we only need local SQLite.\n\nFiles to delete:\n- internal/datastore/client.go\n- internal/datastore/client_test.go\n\nThis simplifies the codebase to local-only mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.684428+02:00","updated_at":"2025-11-17T23:59:04.345213+02:00","closed_at":"2025-11-17T23:59:04.345213+02:00"}
{"id":"hermes-gxf","title":"Align CI workflow with llm-shared Go template","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T00:28:18.849046+02:00","updated_at":"2025-11-17T07:32:03.868477+02:00","closed_at":"2025-11-17T07:32:03.868477+02:00","dependencies":[{"issue_id":"hermes-gxf","depends_on_id":"hermes-lyy","type":"discovered-from","created_at":"2025-11-17T00:28:18.851874+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-h1wu","title":"Increase test coverage for internal/tmdb from 49.3% to 80%","description":"Add comprehensive tests for TMDB search, lookup, content generation, and enrichment flows to improve coverage from 49.3% to 80%.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:43.268263+02:00","updated_at":"2025-12-22T09:35:43.268263+02:00","dependencies":[{"issue_id":"hermes-h1wu","depends_on_id":"hermes-rwib","type":"discovered-from","created_at":"2025-12-22T09:35:43.269352+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-h55a","title":"Create docs/obsidian.md library documentation","description":"Create comprehensive documentation covering: Overview, Tag Normalization Rules (8 steps), API Reference (Note/Frontmatter/TagSet), Usage Examples, Migration Guide. NEW FILE.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:28.688012+02:00","updated_at":"2025-12-27T01:38:28.688012+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-h55a","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:28.69656+02:00","created_by":"daemon"}]}
{"id":"hermes-ham","title":"Create Google Books cache wrapper (cmd/goodreads/googlebooks_cache.go)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:52.987937+02:00","updated_at":"2025-11-26T00:58:25.364914+02:00","closed_at":"2025-11-26T00:58:25.364914+02:00"}
{"id":"hermes-hcr","title":"Use testutil in internal/tmdb client cover tests","description":"Move internal/tmdb/client_cover_test.go onto internal/testutil's sandbox helpers so cover image fixture writes/read go through the shared framework.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:31.098774+02:00","updated_at":"2025-11-25T00:25:15.154272+02:00","closed_at":"2025-11-25T00:25:15.154272+02:00","dependencies":[{"issue_id":"hermes-hcr","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:31.099579+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-hcr","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:28.999449+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-hjv","title":"Fix IMDb markdown tests - update testdata for new field names","description":"Update cmd/imdb/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md, tv_series.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.381243+02:00","updated_at":"2025-11-17T00:38:53.157037+02:00","closed_at":"2025-11-17T00:38:53.157037+02:00"}
{"id":"hermes-hmmo","title":"Deprecate fileutil.TagCollector","description":"Add deprecation comments to TagCollector type and all methods in internal/fileutil/markdown.go. Recommend obsidian.TagSet instead. Keep implementation for backward compatibility.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:05.323552+02:00","updated_at":"2025-12-27T01:38:05.323552+02:00","labels":["deprecation","phase-4"],"dependencies":[{"issue_id":"hermes-hmmo","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:38:05.330231+02:00","created_by":"daemon"}]}
{"id":"hermes-hn6g","title":"Create parent epic for CSV golden file refactoring","description":"Parent epic for refactoring all CSV loaders to use golden files instead of programmatic test data","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-18T07:37:55.244446+02:00","updated_at":"2025-12-18T22:11:09.565813+02:00","closed_at":"2025-12-18T22:11:09.565813+02:00","close_reason":"Completed: All child tasks finished. Added golden file tests for Goodreads, Letterboxd, and IMDb CSV parsers using actual export data (20 records each). All tests pass and project builds successfully."}
{"id":"hermes-hnb","title":"Don’t cache TMDB misses for searches/IMDb lookups","description":"TMDB caching stores empty search results and not-found /find responses for the full TTL. After a single miss, later runs keep returning the cached miss even if the title or IMDb ID is added to TMDB, blocking recovery until TTL expiry or manual cache clear. Avoid caching negative results or store them with a very short TTL so new items can be found.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:51.918962+02:00","updated_at":"2025-11-18T17:23:53.183249+02:00","closed_at":"2025-11-18T17:23:53.183249+02:00"}
{"id":"hermes-i4uk","title":"Refactor cmd/enhance/parser_test.go (1055 lines) into smaller test files","description":"Break down the monolithic parser_test.go file into smaller, focused test files organized by functionality. Extract common test helpers and setup code to reduce duplication.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:34:02.479246+02:00","updated_at":"2025-12-22T09:34:02.479246+02:00","dependencies":[{"issue_id":"hermes-i4uk","depends_on_id":"hermes-moec","type":"discovered-from","created_at":"2025-12-22T09:34:02.484322+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-i5m","title":"Increase coverage for internal/config","description":"internal/config package sits at ~10% coverage. Add tests for InitConfig to ensure defaults, env binding, and error handling, plus SetUpdateCovers/SetOverwriteFiles interactions and resulting viper values.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:04.464713+02:00","updated_at":"2025-11-18T17:39:03.930536+02:00","closed_at":"2025-11-18T17:39:03.930536+02:00","dependencies":[{"issue_id":"hermes-i5m","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:04.465789+02:00","created_by":"shrike","metadata":"{}"}]}
{"id":"hermes-irr","title":"Implement cover image embedding in TMDB content","description":"Use content.BuildCoverImageEmbed() to prepend ![[filename|250]] to TMDB content sections. Update cmd/enhance/cmd.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.995153+02:00","updated_at":"2025-11-17T00:30:33.482531+02:00","closed_at":"2025-11-17T00:30:33.482531+02:00","dependencies":[{"issue_id":"hermes-irr","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.547494+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-ivm","title":"Use testutil in llm-shared validate-docs tests","description":"Move llm-shared/utils/validate-docs/validate-docs_test.go over to internal/testutil to share sandbox creation and cleanup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:38.040614+02:00","updated_at":"2025-11-25T09:50:42.887796+02:00","closed_at":"2025-11-25T09:50:42.887796+02:00","dependencies":[{"issue_id":"hermes-ivm","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:38.04206+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-ivm","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.075462+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-izcp","title":"Add comprehensive CLI flag testing","description":"Create integration tests for all CLI flag combinations, global flags, and flag validation in cmd/root.go to ensure CLI interface robustness.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:48.375633+02:00","updated_at":"2025-12-22T09:35:48.375633+02:00","dependencies":[{"issue_id":"hermes-izcp","depends_on_id":"hermes-rwib","type":"discovered-from","created_at":"2025-12-22T09:35:48.37671+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-j01","title":"Add Google Books cache schema to internal/cache/schema.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:52.30848+02:00","updated_at":"2025-11-26T00:57:24.373661+02:00","closed_at":"2025-11-26T00:57:24.373661+02:00"}
{"id":"hermes-jmo","title":"Change attachments directory to root-level","description":"Change from per-directory _attachments/ to root-level attachments/ directory. Update paths in cmd/enhance/cmd.go, cmd/imdb/cmd.go, cmd/letterboxd/cmd.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.509764+02:00","updated_at":"2025-11-17T00:30:33.48211+02:00","closed_at":"2025-11-17T00:30:33.48211+02:00"}
{"id":"hermes-joad","title":"Phase 5: Documentation \u0026 Cleanup","description":"Complete documentation, add golden file tests, update CHANGELOG, and finalize the obsidian library migration.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T01:37:27.251156+02:00","updated_at":"2025-12-27T01:37:27.251156+02:00"}
{"id":"hermes-jtb","title":"Clean up old JSON cache files","description":"Remove file-based cache system after SQLite migration is complete.\n\n- Delete entire cache/ directory (~200MB, ~5,255 files)\n- Update .gitignore to ignore cache.db\n- Update .gitignore to remove cache/ directory pattern if present\n\nOnly do this after all importers are successfully migrated to SQLite cache.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.522378+02:00","updated_at":"2025-11-18T18:08:52.612592+02:00","closed_at":"2025-11-18T18:08:52.612592+02:00"}
{"id":"hermes-k2e","title":"Standardize logging patterns across importers","description":"Inconsistent logging: goodreads uses 'path' key, steam uses 'file' key, imdb/letterboxd use Debug level vs Info. Standardize logging keys and levels, possibly in fileutil.WriteMarkdownFile().","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T22:38:58.024179+02:00","updated_at":"2025-11-25T23:29:34.438218+02:00","closed_at":"2025-11-25T23:29:34.438218+02:00","labels":["consistency","medium"]}
{"id":"hermes-k7q","title":"Update tests for new field names and marker functionality","description":"Update tests across all TMDB commands: cmd/enhance/*_test.go, cmd/imdb/*_test.go, cmd/letterboxd/*_test.go. Add marker tests, cover embed tests, update testdata for new frontmatter fields","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:58.84067+02:00","updated_at":"2025-11-17T00:40:45.923008+02:00","closed_at":"2025-11-17T00:40:45.923008+02:00","dependencies":[{"issue_id":"hermes-k7q","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.897609+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-ph7","type":"blocks","created_at":"2025-11-17T00:11:21.932424+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-irr","type":"blocks","created_at":"2025-11-17T00:11:21.977925+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-cxe","type":"blocks","created_at":"2025-11-17T00:11:22.009388+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-k7q","depends_on_id":"hermes-jmo","type":"blocks","created_at":"2025-11-17T00:11:22.051559+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-kdd6","title":"Update CLAUDE.md with obsidian library reference","description":"Add brief note about obsidian library in Architecture Overview section of project documentation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:33.417657+02:00","updated_at":"2025-12-27T01:38:33.417657+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-kdd6","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:33.426217+02:00","created_by":"daemon"}]}
{"id":"hermes-kei7","title":"Update enrichment/tags_test.go with deprecation context","description":"Add file-level comment explaining these are legacy tests kept for backward compatibility verification.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:36.776102+02:00","updated_at":"2025-12-27T01:45:02.540013+02:00","closed_at":"2025-12-27T01:45:02.540013+02:00","close_reason":"Added file-level comment explaining these are legacy tests kept for backward compatibility verification","labels":["phase-3","testing"],"dependencies":[{"issue_id":"hermes-kei7","depends_on_id":"hermes-eywj","type":"part-of","created_at":"2025-12-27T01:37:36.779334+02:00","created_by":"daemon"}]}
{"id":"hermes-kgo","title":"Migrate Steam cache to SQLite","description":"Update Steam importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/steam/cache.go\n- Use steam_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedGame() function signature\n- Test with actual Steam import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:59.460452+02:00","updated_at":"2025-11-17T23:52:04.202826+02:00","closed_at":"2025-11-17T23:52:04.202826+02:00"}
{"id":"hermes-kkww","title":"Add unit tests for cmd/letterboxd parser and formatters","description":"Currently at 29.0% coverage (lowest importer). Add tests for: CSV parsing edge cases, markdown formatting, JSON output, error handling for malformed input. Use testdata fixtures, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:17.109273+02:00","updated_at":"2025-12-17T01:39:01.491171+02:00","closed_at":"2025-12-17T01:39:01.491171+02:00","close_reason":"Added comprehensive tests for CSV parsing (parseMovieRecord with edge cases), movieToMap, writeJSONFile, and processCSVFile. Tested error handling for malformed input and skipInvalid behavior. Coverage improved from 29.0% to 32.2%.","labels":["letterboxd","testing"],"dependencies":[{"issue_id":"hermes-kkww","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:17.110725+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-kmm","title":"Use sanitized cover filename; debug log cache hit/miss","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:51.528629+02:00","updated_at":"2025-11-19T20:37:12.533388+02:00","closed_at":"2025-11-19T20:37:12.533388+02:00","dependencies":[{"issue_id":"hermes-kmm","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:51.529297+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-kmm","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.663031+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-lbe","title":"Define SQLite cache table schemas","description":"Create schema definitions for each cache type with TTL support.\n\nTables to create:\n- omdb_cache (imdb_id, title, rating, runtime, genres, directors, plot, cached_at, etc.)\n- openlibrary_cache (isbn, title, authors, publishers, description, cached_at, etc.)\n- steam_cache (app_id, name, developers, publishers, release_date, cached_at, etc.)\n\nAll schemas must include:\n- Primary key column (imdb_id/isbn/app_id)\n- cached_at DATETIME column for TTL\n- All relevant data columns matching current cached JSON structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:57.713761+02:00","updated_at":"2025-11-17T23:02:31.333465+02:00","closed_at":"2025-11-17T23:02:31.333465+02:00"}
{"id":"hermes-lis","title":"Create cached TMDB wrapper functions in internal/tmdb/cache.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.513445+02:00","updated_at":"2025-11-18T10:40:25.362032+02:00","closed_at":"2025-11-18T10:40:25.362032+02:00"}
{"id":"hermes-lyy","title":"Audit hermes against llm-shared guidelines","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T00:20:44.288022+02:00","updated_at":"2025-11-17T07:32:04.192954+02:00","closed_at":"2025-11-17T07:32:04.192954+02:00"}
{"id":"hermes-ma4","title":"Cover internal/errors helpers","description":"internal/errors has 0% coverage (RateLimitError, StopProcessingError). Add unit tests verifying Error() messages, constructor behavior, and Is* helpers so rate-limit detection and stop-processing semantics stay stable.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:36.398346+02:00","updated_at":"2025-11-19T01:28:04.827983+02:00","closed_at":"2025-11-19T01:28:04.827983+02:00","dependencies":[{"issue_id":"hermes-ma4","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:36.399541+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-ma4","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:20:58.175817+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-moec","title":"Code Refactoring: Large Test Files and Modules","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T09:33:11.778893+02:00","updated_at":"2025-12-22T09:33:11.778893+02:00"}
{"id":"hermes-n4b","title":"Create new 'enhance' command for enriching existing notes","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T01:34:41.181584+02:00","updated_at":"2025-11-15T02:03:08.110454+02:00","closed_at":"2025-11-15T02:03:08.110454+02:00"}
{"id":"hermes-n7i","title":"Move fileutil JSON tests to testutil","description":"Update internal/fileutil/json_test.go to rely on internal/testutil's TestEnv for JSON fixture writes/reads instead of manual os/temp dir handling.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:11.461819+02:00","updated_at":"2025-11-25T09:11:14.539524+02:00","closed_at":"2025-11-25T09:11:14.539524+02:00","dependencies":[{"issue_id":"hermes-n7i","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:11.462527+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-n7i","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.15217+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-nb0","title":"Update datasette documentation","description":"Rewrite datasette docs to reflect local-only, simplified mode.\n\nFile: docs/datasette_integration.md\n\nChanges:\n- Remove all remote mode sections\n- Remove mode configuration examples\n- Simplify to focus on local SQLite usage only\n- Update CLI flag examples\n- Emphasize that datasette is enabled by default\n- Add note about separate cache.db vs hermes.db","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.734359+02:00","updated_at":"2025-11-17T23:59:32.288674+02:00","closed_at":"2025-11-17T23:59:32.288674+02:00"}
{"id":"hermes-ncn","title":"Plan letterboxd headless export importer","description":"Create detailed plan for automating headless browser data export for Letterboxd similar to Goodreads importer, using watched.csv from export zip. Document steps starting from login and navigation to data export.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:56:03.183394+02:00","updated_at":"2025-11-26T00:59:18.752041+02:00","closed_at":"2025-11-26T00:59:18.752041+02:00"}
{"id":"hermes-ngsx","title":"Document cache architecture decisions","description":"Create documentation explaining cache architecture, when to use individual vs shared cache, and TTL patterns for maintainability.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:36:41.006575+02:00","updated_at":"2025-12-22T09:36:41.006575+02:00","dependencies":[{"issue_id":"hermes-ngsx","depends_on_id":"hermes-r1lc","type":"discovered-from","created_at":"2025-12-22T09:36:41.008419+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-nht","title":"Enhance Letterboxd importer with TMDB enrichment","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T01:34:34.725674+02:00","updated_at":"2025-11-15T01:48:24.719855+02:00","closed_at":"2025-11-15T01:48:24.719855+02:00"}
{"id":"hermes-nn6s","title":"Refactor browser automation: create internal/automation package","description":"The browser automation logic in cmd/goodreads/automation.go and cmd/letterboxd/automation.go is almost identical. This is a critical maintenance problem. This task is to create a shared internal/automation package and move all the generic browser automation logic into this package (e.g., setting up the browser, logging in, waiting for selectors, downloading files). The goodreads and letterboxd packages should then call these shared functions, providing only the site-specific details (like UI selectors). This will eliminate over 80% of the duplicated code.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T00:10:22.895278+02:00","updated_at":"2025-12-16T00:52:26.294318+02:00","closed_at":"2025-12-16T00:52:26.294318+02:00","close_reason":"Closed"}
{"id":"hermes-o9l","title":"Add TMDB cover dev cache flag (--use-tmdb-cover-cache)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:31:29.245034+02:00","updated_at":"2025-11-19T20:37:12.224634+02:00","closed_at":"2025-11-19T20:37:12.224634+02:00","dependencies":[{"issue_id":"hermes-o9l","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.827303+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-ogn","title":"Migrate cmd/steam tests to testutil","description":"Update cmd/steam/cmd_test.go to use internal/testutil for filesystem fixtures and cleanup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:04.589591+02:00","updated_at":"2025-11-25T09:28:31.853194+02:00","closed_at":"2025-11-25T09:28:31.853194+02:00","dependencies":[{"issue_id":"hermes-ogn","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:04.590556+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-ogn","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.227987+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-ok0","title":"Migrate internal/csvutil tests to new file framework","description":"Update internal/csvutil/processor_test.go to use internal/testutil for sandboxed temp dirs, config cleanup, and golden helper access instead of manual t.TempDir wiring.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:21.527983+02:00","updated_at":"2025-11-25T00:24:01.053916+02:00","closed_at":"2025-11-25T00:24:01.053916+02:00","dependencies":[{"issue_id":"hermes-ok0","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:21.529427+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-ok0","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.303698+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-osu","title":"Fix Letterboxd markdown tests - update testdata for new field names","description":"Update cmd/letterboxd/testdata/*.md files: runtime_mins→runtime, tmdb_cover→cover, genres→tags. Add TMDB content markers to test expectations. Files: basic_movie.md, complex_movie.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T00:30:14.548316+02:00","updated_at":"2025-11-17T00:38:53.340225+02:00","closed_at":"2025-11-17T00:38:53.340225+02:00"}
{"id":"hermes-ox7w","title":"Refactor cmd/root.go: move command logic to respective packages","description":"cmd/root.go is large because it defines all CLI commands and their execution logic. This violates the Single Responsibility Principle. This task is to refactor cmd/root.go by moving the Run() method for each command into its respective package (e.g., move GoodreadsCmd.Run() to the cmd/goodreads package). This will decouple the command logic from the CLI definition.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T00:10:26.786017+02:00","updated_at":"2025-12-16T01:47:27.37632+02:00","closed_at":"2025-12-16T01:47:27.37632+02:00","close_reason":"Closed"}
{"id":"hermes-p2i","title":"TMDB cover caching system","description":"Implement a development cache for TMDB covers to avoid repeated downloads during development","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-11-19T09:27:14.468028+02:00","updated_at":"2025-11-19T20:37:18.43375+02:00","closed_at":"2025-11-19T20:37:18.43375+02:00"}
{"id":"hermes-pfu","title":"Test Coverage","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-18T18:19:40.918266+02:00","updated_at":"2025-11-19T09:15:46.638245+02:00","closed_at":"2025-11-19T09:15:46.638245+02:00"}
{"id":"hermes-ph7","title":"Implement TMDB content markers","description":"Add TMDB_DATA_START/END constants and functions across all commands. Update cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go. Add HasTMDBContentMarkers(), GetTMDBContent(), ReplaceTMDBContent()","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.798838+02:00","updated_at":"2025-11-17T00:30:33.481662+02:00","closed_at":"2025-11-17T00:30:33.481662+02:00","dependencies":[{"issue_id":"hermes-ph7","depends_on_id":"hermes-yco","type":"blocks","created_at":"2025-11-17T00:11:21.368879+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-pku","title":"Use testutil in cmd/goodreads CLI tests","description":"Refactor cmd/goodreads/cmd_test.go to consume internal/testutil for sandboxing and golden comparisons.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:08.634343+02:00","updated_at":"2025-11-25T09:48:15.050888+02:00","closed_at":"2025-11-25T09:48:15.050888+02:00","dependencies":[{"issue_id":"hermes-pku","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:08.635291+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-pku","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.386632+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-q2p","title":"Fix Steam importer output dir creation failure","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:28.646026+02:00","updated_at":"2025-11-18T08:54:52.799839+02:00","closed_at":"2025-11-18T08:54:52.799839+02:00"}
{"id":"hermes-qgn","title":"Cover TMDB content builder","description":"internal/content coverage is ~15%. BuildTMDBContent and helpers (buildOverview/buildInfo/buildSeasons plus string/int/float/bool extraction helpers) are untested. Add unit tests that generate content sections from sample TMDB metadata and assert expected markdown output and nil handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:13.892768+02:00","updated_at":"2025-11-19T01:27:57.449705+02:00","closed_at":"2025-11-19T01:27:57.449705+02:00","dependencies":[{"issue_id":"hermes-qgn","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:13.893742+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-qgn","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.717777+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-qk4","title":"Implement cover-only update mode","description":"Add ability to update just cover embed without regenerating TMDB content. Add ensureCoverEmbed() function in cmd/enhance/parser.go","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-11-17T00:11:00.077454+02:00","updated_at":"2025-11-17T21:58:35.5193+02:00","closed_at":"2025-11-17T21:58:35.5193+02:00"}
{"id":"hermes-qylv","title":"Evaluate and consolidate multiple cache implementations","description":"Analyze individual cache.go files in cmd packages and internal/tmdb/cache.go, internal/omdb/cache.go to determine consolidation opportunities with internal/cache/cache.go.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T09:36:32.743494+02:00","updated_at":"2025-12-22T09:36:32.743494+02:00","dependencies":[{"issue_id":"hermes-qylv","depends_on_id":"hermes-r1lc","type":"discovered-from","created_at":"2025-12-22T09:36:32.745122+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-r1lc","title":"Cache Architecture Unification","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-22T09:33:31.23329+02:00","updated_at":"2025-12-22T09:33:31.23329+02:00"}
{"id":"hermes-ra0","title":"Extract generic movie processor for IMDB/Letterboxd","description":"After analysis: IMDB and Letterboxd have similar structure but key differences (field names: Title/Name, ImdbId/ImdbID; behavior: skipEnrich flag, error handling). The shared logic is already in enrich.Enrich and enrichment.EnrichFromTMDB. Creating a fully generic interface would add complexity without significant benefit. Consider closing or reducing scope to: 1) Extract TMDBEnrichmentOptions builder helper, 2) Standardize field names across types.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T22:38:56.127873+02:00","updated_at":"2025-11-25T23:22:04.759931+02:00","closed_at":"2025-11-25T23:22:04.759931+02:00","labels":["critical","refactor"]}
{"id":"hermes-rd8s","title":"Add documentation and comments to refactored code","description":"The Run() methods in cmd/root.go and the automation files lack high-level comments explaining the steps of the process. While the code is readable, comments would help new developers understand the flow more quickly. This task is to add comments to the main functions in the cmd and internal/automation packages to describe their purpose and the overall logic, after the refactoring is complete.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T00:10:33.221761+02:00","updated_at":"2025-12-16T00:11:46.382234+02:00"}
{"id":"hermes-riw","title":"Adopt testutil in fileutil cover tests","description":"Refactor internal/fileutil/cover_test.go to create temp assets via internal/testutil's sandbox helpers instead of os.MkdirTemp.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:46:01.660309+02:00","updated_at":"2025-11-25T09:13:00.274162+02:00","closed_at":"2025-11-25T09:13:00.274162+02:00","dependencies":[{"issue_id":"hermes-riw","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:46:01.662043+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-riw","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.462993+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-rufb","title":"Improve test coverage for cmd and automation packages","description":"The cmd packages have critically low test coverage (30-45%). This means the code that interacts directly with the user and external systems is the most likely to have bugs. This task is to improve test coverage for the cmd packages and the new internal/automation package. For the automation package, tests can be run against local HTML files to validate UI selectors without hitting live websites. For the cmd packages, unit tests should be added for flag parsing, configuration loading, and argument validation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T00:10:29.999426+02:00","updated_at":"2025-12-18T07:38:16.036089+02:00","closed_at":"2025-12-18T07:38:16.036089+02:00","close_reason":"Successfully improved test coverage across all cmd and automation packages. Summary:\n- cmd/root: 11.6% (zv28) ✅\n- cmd/letterboxd: 29.0% → improved (kkww) ✅\n- cmd/imdb: 38.5% → 55.0% (55o8) ✅\n- cmd/goodreads: 42.2% → 48.2% (739s) ✅\n- cmd/steam: 42.6% → 49.7% (fige) ✅\n- cmd/enhance: 66.4% → 73.4% (fprh) ✅\n- internal/automation: 58.2% → 65.9% (uy4n) ✅\n\nAll packages now have significantly improved test coverage with comprehensive unit tests covering parser logic, formatters, API response handling, command configuration, and error cases."}
{"id":"hermes-rur","title":"Increase coverage for enhance CLI","description":"cmd/enhance coverage is ~40%; key entrypoints are untested (EnhanceNotes, findMarkdownFiles, updateNoteWithTMDBData, parseNoteFile/readFile/title detection). Add tests that scan fixtures, drive options (recursive/dry-run/force), and verify note updates and TMDB content generation hooks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:55.670224+02:00","updated_at":"2025-11-19T09:14:50.8296+02:00","closed_at":"2025-11-19T09:14:50.8296+02:00","dependencies":[{"issue_id":"hermes-rur","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:55.671218+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-rur","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.93839+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-rwib","title":"Test Coverage Improvement for Critical Modules","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T09:33:18.68447+02:00","updated_at":"2025-12-22T09:33:18.68447+02:00"}
{"id":"hermes-s6w","title":"Use local image paths instead of URLs in frontmatter","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.938145+02:00","updated_at":"2025-11-18T10:03:36.447265+02:00","closed_at":"2025-11-18T10:03:36.447265+02:00"}
{"id":"hermes-sd8","title":"Configurable cache path; default tmdb-cover-cache/","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:45.844732+02:00","updated_at":"2025-11-19T20:37:12.385549+02:00","closed_at":"2025-11-19T20:37:12.385549+02:00","dependencies":[{"issue_id":"hermes-sd8","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:45.846043+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-sd8","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:20.964893+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-sdc","title":"Fix Letterboxd importer output dir creation failure","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-18T00:56:18.125943+02:00","updated_at":"2025-11-18T08:54:42.879119+02:00","closed_at":"2025-11-18T08:54:42.879119+02:00"}
{"id":"hermes-smz","title":"Test TMDB enrichment orchestrator","description":"internal/enrichment/tmdb.go has 0% coverage (EnrichFromTMDB, findTMDBIDByIMDBID). Add tests that drive happy path and error cases with stub TMDB client/cache to ensure IDs resolve, content sections are filled, and rate-limit/lookup errors propagate correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:53:24.837156+02:00","updated_at":"2025-11-19T01:28:01.0381+02:00","closed_at":"2025-11-19T01:28:01.0381+02:00","dependencies":[{"issue_id":"hermes-smz","depends_on_id":"hermes-1k0","type":"discovered-from","created_at":"2025-11-18T16:53:24.838361+02:00","created_by":"shrike","metadata":"{}"},{"issue_id":"hermes-smz","depends_on_id":"hermes-pfu","type":"parent-child","created_at":"2025-11-18T18:19:46.790415+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-szfb","title":"Update IMDb CSV parser to use golden files","description":"Refactor parser_test.go to use golden files with actual IMDb data from imports/imdb_watched.csv (top 20 lines as test fixture)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T07:37:50.825255+02:00","updated_at":"2025-12-18T07:43:23.690525+02:00","closed_at":"2025-12-18T07:43:23.690525+02:00","close_reason":"Completed: Added testdata/imdb_sample.csv golden file with 20 movies from actual IMDb export and added TestParseIMDbCSV_GoldenFile test","dependencies":[{"issue_id":"hermes-szfb","depends_on_id":"hermes-hn6g","type":"parent-child","created_at":"2025-12-18T07:38:12.046016+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-t2q","title":"On download: write to cache, then copy/symlink to attachments respecting UpdateCovers","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:32:56.088949+02:00","updated_at":"2025-11-19T20:37:12.688702+02:00","closed_at":"2025-11-19T20:37:12.688702+02:00","dependencies":[{"issue_id":"hermes-t2q","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:32:56.08993+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-t2q","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:21.097983+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-tfa8","title":"Migrate IMDB importer to obsidian.TagSet","description":"Replace fileutil.NewTagCollector() with obsidian.NewTagSet() in cmd/imdb/markdown.go. API is 100% compatible. Tags will be automatically normalized.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:58.860736+02:00","updated_at":"2025-12-27T01:53:38.981516+02:00","closed_at":"2025-12-27T01:53:38.981516+02:00","close_reason":"Migrated IMDB importer from fileutil.TagCollector to obsidian.TagSet. Updated golden file to reflect normalized tag output (Science Fiction -\u003e Science-Fiction).","labels":["imdb","phase-4","refactor"],"dependencies":[{"issue_id":"hermes-tfa8","depends_on_id":"hermes-6j64","type":"part-of","created_at":"2025-12-27T01:37:58.870088+02:00","created_by":"daemon"}]}
{"id":"hermes-tj3","title":"Fix ineffassign linter issue in tmdb.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.875135+02:00","updated_at":"2025-11-15T01:50:07.160206+02:00","closed_at":"2025-11-15T01:50:07.160206+02:00"}
{"id":"hermes-trs","title":"Fix errcheck linter issues - unchecked Close() and defer errors","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:45:10.698467+02:00","updated_at":"2025-11-15T01:51:36.134029+02:00","closed_at":"2025-11-15T01:51:36.134029+02:00"}
{"id":"hermes-ukl","title":"Use testutil in cmd/letterboxd CLI tests","description":"Refactor cmd/letterboxd/cmd_test.go to rely on internal/testutil for sandbox directories, config setup, and golden updates.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:45:27.03228+02:00","updated_at":"2025-11-25T09:49:45.771073+02:00","closed_at":"2025-11-25T09:49:45.771073+02:00","dependencies":[{"issue_id":"hermes-ukl","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:45:27.033144+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-ukl","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.537988+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-umj","title":"Add tests for cover cache hit/miss; skip download on hit","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T00:33:05.587894+02:00","updated_at":"2025-11-19T20:37:12.999071+02:00","closed_at":"2025-11-19T20:37:12.999071+02:00","dependencies":[{"issue_id":"hermes-umj","depends_on_id":"hermes-o9l","type":"discovered-from","created_at":"2025-11-19T00:33:05.588634+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-umj","depends_on_id":"hermes-p2i","type":"parent-child","created_at":"2025-11-19T09:27:21.155108+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-uwr","title":"Add AddTMDBEnrichment method to MarkdownBuilder","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:52.876831+02:00","updated_at":"2025-11-18T23:30:11.772072+02:00","closed_at":"2025-11-18T23:30:11.772072+02:00","dependencies":[{"issue_id":"hermes-uwr","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.849823+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-uy4n","title":"Add unit tests for internal/automation using local HTML fixtures","description":"Currently at 58.2% coverage. Add tests for: UI selector validation, element extraction, navigation logic using local HTML test files. Create fixture HTML files matching Goodreads/Letterboxd structure to test selectors without network access. Focus on selector accuracy and error handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:18.902902+02:00","updated_at":"2025-12-18T07:37:59.588826+02:00","closed_at":"2025-12-18T07:37:59.588826+02:00","close_reason":"Added comprehensive unit tests for internal/automation package. Coverage improved from 58.2% to 65.9%. Tests include: NewBrowser function (100%), improved MockCDPRunner with function fields for better testability, and combined cancel function validation.","labels":["automation","testing"],"dependencies":[{"issue_id":"hermes-uy4n","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:18.903911+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-v00h","title":"Add configuration documentation for cache TTL and database options","description":"Update configuration documentation to explain cache TTL, database options, and TMDB cover cache settings with examples.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:00.918454+02:00","updated_at":"2025-12-22T09:35:00.918454+02:00","dependencies":[{"issue_id":"hermes-v00h","depends_on_id":"hermes-41en","type":"discovered-from","created_at":"2025-12-22T09:35:00.919344+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-v7f","title":"Remove datasette mode switching from importers","description":"Simplify all importer parser.go files to remove local/remote mode logic.\n\nFiles to update:\n- cmd/goodreads/parser.go (lines 193-278)\n- cmd/imdb/parser.go (lines 76-163)\n- cmd/letterboxd/parser.go (lines 77-147)\n- cmd/steam/parser.go (lines 79-154)\n\nRemove mode switch statements, keep only SQLite code path.\nAll importers should always use local SQLite (hermes.db).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:33:00.099321+02:00","updated_at":"2025-11-17T23:59:22.906493+02:00","closed_at":"2025-11-17T23:59:22.906493+02:00"}
{"id":"hermes-vhi","title":"Add TMDB cache schema to internal/cache/schema.go","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T10:39:08.364146+02:00","updated_at":"2025-11-18T10:39:38.913654+02:00","closed_at":"2025-11-18T10:39:38.913654+02:00"}
{"id":"hermes-vicd","title":"Add end-to-end workflow integration tests","description":"Create comprehensive end-to-end tests covering complete user workflows: import → enrich → export to verify system integration.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:54.073814+02:00","updated_at":"2025-12-22T09:35:54.073814+02:00","dependencies":[{"issue_id":"hermes-vicd","depends_on_id":"hermes-rwib","type":"discovered-from","created_at":"2025-12-22T09:35:54.075747+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-vjy","title":"Add TVDB fetch helper script","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T00:52:48.346349+02:00","updated_at":"2025-11-25T00:10:08.021389+02:00","closed_at":"2025-11-25T00:10:08.021389+02:00"}
{"id":"hermes-vk8","title":"Update documentation (README, CLAUDE.md) for TMDB features","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T01:34:44.968762+02:00","updated_at":"2025-11-15T01:51:36.166643+02:00","closed_at":"2025-11-15T01:51:36.166643+02:00"}
{"id":"hermes-vsc","title":"Extract shared frontmatter ID loader for IMDb/Letterboxd/enhance","description":"Consolidate duplicate frontmatter parsing: loadExistingTMDBID() from cmd/imdb/parser.go:397-450 and cmd/letterboxd/parser.go:384-440, plus parseNote() from cmd/enhance/parser.go:29-98. Expand internal/frontmatter package to include generic ParseMarkdown() and LoadNote() functions. Also move intFromAny() from cmd/imdb/parser.go:452-466 and cmd/letterboxd/parser.go:442-456 - similar to existing toInt() in internal/frontmatter/ids.go:59-74. Export a unified type conversion utility.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:34:59.417473+02:00","updated_at":"2025-11-18T21:31:46.247419+02:00","closed_at":"2025-11-18T21:31:46.247419+02:00","dependencies":[{"issue_id":"hermes-vsc","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.779721+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-vyo","title":"Consolidate CSV-to-database/JSON pipelines for IMDb and Letterboxd","description":"Consolidate CSV processing: processCSVFile() in cmd/imdb/parser.go:140-262 and cmd/letterboxd/parser.go:128-212 follow identical flow (open CSV, read header, iterate records, error handling). Consider creating internal/csv package with generic ProcessCSV[T any](filename string, parser func([]string) (T, error)) ([]T, error) using Go generics. Also consolidate main parsing flow in ParseImdb() and ParseLetterboxd() which share the same pattern: process CSV, log items, write markdown, write JSON conditionally, write to datasette conditionally, log summary.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T16:35:17.964037+02:00","updated_at":"2025-11-18T21:35:08.693667+02:00","closed_at":"2025-11-18T21:35:08.693667+02:00","dependencies":[{"issue_id":"hermes-vyo","depends_on_id":"hermes-3dk","type":"parent-child","created_at":"2025-11-18T18:13:54.931578+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-w7k","title":"Force TMDB re-enrichment should bypass cache","description":"TMDBEnrichmentOptions.Force only skips the search step but still uses CachedGetMetadataByID/CachedGetFull* so a forced re-enrich returns stale cached TMDB metadata/content instead of re-fetching. When Force is set, metadata/content fetches should bypass or invalidate the cache so users can refresh old notes.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T16:24:41.436226+02:00","updated_at":"2025-11-18T17:35:09.89271+02:00","closed_at":"2025-11-18T17:35:09.89271+02:00"}
{"id":"hermes-wba","title":"Documentation and validation for Goodreads automation","description":"1. Update docs with new workflow and Chrome requirement, 2. Run task lint, 3. Run task build, 4. Manual test with real credentials","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:08.183772+02:00","updated_at":"2025-11-26T00:33:25.335755+02:00","closed_at":"2025-11-26T00:33:25.335755+02:00","labels":["documentation"],"dependencies":[{"issue_id":"hermes-wba","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:08.185497+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-wba","depends_on_id":"hermes-8a4","type":"blocks","created_at":"2025-11-25T22:03:55.539799+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-wf5","title":"Use stored TMDB ID for Letterboxd imports","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T12:44:16.513201+02:00","updated_at":"2025-11-19T00:50:59.20759+02:00","closed_at":"2025-11-19T00:50:59.20759+02:00"}
{"id":"hermes-whr","title":"Adopt testutil in mediaids importer tests","description":"Refactor internal/importer/mediaids/mediaids_test.go to construct paths and temp files via internal/testutil instead of manual t.TempDir coverage.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-19T20:44:39.108734+02:00","updated_at":"2025-11-25T00:25:40.158794+02:00","closed_at":"2025-11-25T00:25:40.158794+02:00","dependencies":[{"issue_id":"hermes-whr","depends_on_id":"hermes-e80","type":"discovered-from","created_at":"2025-11-19T20:44:39.109768+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-whr","depends_on_id":"hermes-bdf","type":"parent-child","created_at":"2025-11-20T21:19:29.613109+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-xex1","title":"Refactor internal/content/builder_test.go (792 lines) and extract common patterns","description":"Break down large builder_test.go file, extract reusable test utilities and create more focused test cases to improve maintainability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:34:20.120384+02:00","updated_at":"2025-12-22T09:34:20.120384+02:00","dependencies":[{"issue_id":"hermes-xex1","depends_on_id":"hermes-moec","type":"discovered-from","created_at":"2025-12-22T09:34:20.121626+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-xf6v","title":"Generalize Obsidian markdown handling into internal library","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T02:37:33.50893+02:00","updated_at":"2025-12-26T02:37:33.50893+02:00"}
{"id":"hermes-xfd","title":"Implement stored TMDB ID direct lookup optimization","description":"When TMDB ID exists in frontmatter, use direct API lookup instead of searching. Add --force flag to override. Update cmd/enhance/cmd.go","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-17T00:10:59.400369+02:00","updated_at":"2025-11-17T07:36:39.817508+02:00","closed_at":"2025-11-17T07:36:39.817508+02:00"}
{"id":"hermes-xsw","title":"Extend CLI with automation flags and config bindings","description":"1. Add Automated, GoodreadsEmail, GoodreadsPassword, Headful, DownloadDir, AutomationTimeout fields to GoodreadsCmd in cmd/root.go, 2. Add env var bindings in initConfig() for GOODREADS_EMAIL and GOODREADS_PASSWORD","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T22:02:07.762059+02:00","updated_at":"2025-11-26T00:26:23.783139+02:00","closed_at":"2025-11-26T00:26:23.783139+02:00","dependencies":[{"issue_id":"hermes-xsw","depends_on_id":"hermes-9za","type":"discovered-from","created_at":"2025-11-25T22:02:07.76352+02:00","created_by":"daemon","metadata":"{}"},{"issue_id":"hermes-xsw","depends_on_id":"hermes-5j0","type":"blocks","created_at":"2025-11-25T22:03:55.318136+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-y42","title":"Create generic writeToDatastore helper","description":"Identical datastore integration pattern (~30 lines) repeated in all 4 importers (goodreads, imdb, letterboxd, steam). Create a generic writeToDatastore[T] helper in internal/cmdutil/ that accepts schema, table name, items, and a mapping function.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T22:38:56.78287+02:00","updated_at":"2025-11-25T23:14:38.609246+02:00","closed_at":"2025-11-25T23:14:38.609246+02:00","labels":["critical","refactor"]}
{"id":"hermes-y8g","title":"Download covers to local attachments directory","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:45:46.620785+02:00","updated_at":"2025-11-18T10:03:36.145466+02:00","closed_at":"2025-11-18T10:03:36.145466+02:00"}
{"id":"hermes-y9nb","title":"Update Letterboxd CSV parser to use golden files","description":"Refactor parser_test.go to use golden files with actual Letterboxd data from imports/letterboxd_watched.csv (top 20 lines as test fixture)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T07:37:46.468831+02:00","updated_at":"2025-12-18T07:42:35.477446+02:00","closed_at":"2025-12-18T07:42:35.477446+02:00","close_reason":"Completed: Added testdata/letterboxd_sample.csv golden file with 20 movies from actual Letterboxd export and added TestParseLetterboxdCSV_GoldenFile test","dependencies":[{"issue_id":"hermes-y9nb","depends_on_id":"hermes-hn6g","type":"parent-child","created_at":"2025-12-18T07:38:05.463344+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-yco","title":"Update frontmatter field names to match obsidian-tmdb-cover","description":"Breaking change: tmdb_cover→cover, runtime_mins→runtime, genres→tags. Update across all commands: cmd/enhance/parser.go, cmd/imdb/markdown.go, cmd/letterboxd/markdown.go, internal/enrichment/tmdb.go","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T00:10:57.577705+02:00","updated_at":"2025-11-17T00:30:33.480391+02:00","closed_at":"2025-11-17T00:30:33.480391+02:00"}
{"id":"hermes-yh8l","title":"Refactor internal/tmdb/cache_test.go (539 lines) and cmd/enhance/cmd_test.go (600 lines)","description":"Break down these large test files into smaller, more focused test files with clear separation of concerns.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:34:29.527894+02:00","updated_at":"2025-12-22T09:34:29.527894+02:00","dependencies":[{"issue_id":"hermes-yh8l","depends_on_id":"hermes-moec","type":"discovered-from","created_at":"2025-12-22T09:34:29.528896+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-ysr","title":"Split internal/tmdb/client.go into focused files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T23:59:20.976351+02:00","updated_at":"2025-11-24T23:57:44.475737+02:00","closed_at":"2025-11-24T23:57:44.475737+02:00","dependencies":[{"issue_id":"hermes-ysr","depends_on_id":"hermes-21j","type":"parent-child","created_at":"2025-11-18T23:59:24.702363+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-z7fl","title":"Consolidate automation error handling in letterboxd/goodreads","description":"Extract common automation error patterns (file operations, Chrome interactions) to shared utilities to reduce duplication between cmd/letterboxd/automation.go and cmd/goodreads/automation.go.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:36:11.679977+02:00","updated_at":"2025-12-22T09:36:11.679977+02:00","dependencies":[{"issue_id":"hermes-z7fl","depends_on_id":"hermes-dg3p","type":"discovered-from","created_at":"2025-12-22T09:36:11.681537+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-zauo","title":"Update obsidian_library_plan.md with completion status","description":"Mark Phases 3-5 as complete in history/obsidian_library_plan.md with final implementation notes and decisions made.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:38:27.64109+02:00","updated_at":"2025-12-27T01:38:27.64109+02:00","labels":["documentation","phase-5"],"dependencies":[{"issue_id":"hermes-zauo","depends_on_id":"hermes-joad","type":"part-of","created_at":"2025-12-27T01:38:27.651855+02:00","created_by":"daemon"}]}
{"id":"hermes-zhu","title":"Create TagCollector type for tag deduplication","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-18T22:57:46.090013+02:00","updated_at":"2025-11-18T23:29:28.623385+02:00","closed_at":"2025-11-18T23:29:28.623385+02:00","dependencies":[{"issue_id":"hermes-zhu","depends_on_id":"hermes-5sq","type":"blocks","created_at":"2025-11-18T22:58:25.731889+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-zihb","title":"Enhance skips markdown files with parentheses in filename","description":"Enhance CLI does not process markdown files whose names include parentheses. Repro: run 'hermes enhance -d \u003cdir\u003e' with file 'Red Sonja (2025).md'; file is skipped/not counted despite existing. Expected: detected and enriched like other .md notes.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T01:35:57.661671+02:00","updated_at":"2025-12-18T22:20:22.581387+02:00","closed_at":"2025-12-18T22:20:22.581387+02:00","close_reason":"Unable to reproduce - verified files with parentheses are processed correctly. Added comprehensive integration test 'TestEnhanceNotes_FilesWithParenthesesFullWorkflow' in cmd/enhance/cmd_test.go that demonstrates the complete lifecycle: (1) File discovery via findMarkdownFiles, (2) Parsing via parseNoteFile, (3) Title extraction from filename, (4) Full enhance workflow processing. Test creates files like 'Movie (2025).md', 'Show (Season 1).md', 'Complex (2023) - Special Edition.md' and verifies all are found, parsed, and processed correctly. All existing tests pass including TestFindMarkdownFiles_WithParentheses, TestEnhanceNotes_ProcessesFilesWithParentheses, TestEnhanceNotes_DryRunIncludesParenthesesFiles. Manual testing confirms files with parentheses work as expected. The issue may have been a misunderstanding of the 'skipped' counter in output, which refers to files where TMDB data wasn't found, not files that weren't discovered."}
{"id":"hermes-zjj","title":"Migrate Goodreads cache to SQLite","description":"Update Goodreads importer to use SQLite cache instead of JSON files.\n\n- Replace file operations with SQL queries in cmd/goodreads/cache.go\n- Use openlibrary_cache table\n- Check TTL before returning cached data\n- Maintain same getCachedBook() function signature\n- Test with actual Goodreads import","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T22:32:58.492988+02:00","updated_at":"2025-11-17T23:44:03.213611+02:00","closed_at":"2025-11-17T23:44:03.213611+02:00"}
{"id":"hermes-znkp","title":"Increase test coverage for internal/omdb from 50% to 80%","description":"Add comprehensive tests for OMDB API integration, error handling, rate limiting, and data parsing to increase coverage from 50% to 80%.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T09:35:34.666847+02:00","updated_at":"2025-12-22T09:35:34.666847+02:00","dependencies":[{"issue_id":"hermes-znkp","depends_on_id":"hermes-rwib","type":"discovered-from","created_at":"2025-12-22T09:35:34.66807+02:00","created_by":"daemon","metadata":"{}"}]}
{"id":"hermes-zv28","title":"Add unit tests for cmd/root flag parsing and config loading","description":"Currently at 11.6% coverage. Add tests for: CLI flag parsing, config file loading and merging, global flag defaults, command registration. Test using in-memory configs and mock Kong contexts, no network access.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T01:09:16.810921+02:00","updated_at":"2025-12-17T01:36:20.77936+02:00","closed_at":"2025-12-17T01:36:20.77936+02:00","close_reason":"Added comprehensive tests for CLI flag parsing, config defaults, flag overrides, viper settings, environment variable binding, and logging initialization. Coverage improved from 11.6% to 24.6%.","labels":["testing"],"dependencies":[{"issue_id":"hermes-zv28","depends_on_id":"hermes-rufb","type":"discovered-from","created_at":"2025-12-17T01:09:16.813798+02:00","created_by":"daemon","metadata":"{}"}]}
